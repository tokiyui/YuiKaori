function VANAY_CALLBACK(){}var Analytics_t3,JMCPlayer;Object.keys||(Object.keys=function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("object"!=typeof obj&&"function"!=typeof obj||null===obj)throw new TypeError("Object.keys called on non-object");var result=[];for(var prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(var i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),function(I){function w(c,a,d){var f,n,k,e,h,q,y,p,u,l=0,b=[],g=0,m=!1,t=[],r=[],z=!1;if(f=(d=d||{}).encoding||"UTF8",(u=d.numRounds||1)!==parseInt(u,10)||1>u)throw Error("numRounds must a integer >= 1");if(0!==c.lastIndexOf("SHA-",0))throw Error("Chosen SHA variant is not supported");if(q=function(b,a){return A(b,a,c)},y=function(b,a,l,f){var g,e;if("SHA-224"!==c&&"SHA-256"!==c)throw Error("Unexpected error in SHA-2 implementation");for(g=15+(a+65>>>9<<4),e=16;b.length<=g;)b.push(0);for(b[a>>>5]|=128<<24-a%32,a+=l,b[g]=4294967295&a,b[g-1]=a/4294967296|0,l=b.length,a=0;a<l;a+=e)f=A(b.slice(a,a+e),f,c);if("SHA-224"===c)b=[f[0],f[1],f[2],f[3],f[4],f[5],f[6]];else{if("SHA-256"!==c)throw Error("Unexpected error in SHA-2 implementation");b=f}return b},p=function(b){return b.slice()},"SHA-224"===c)h=512,e=224;else{if("SHA-256"!==c)throw Error("Chosen SHA variant is not supported");h=512,e=256}k=B(a,f),n=x(c),this.setHMACKey=function(b,a,g){var e;if(!0===m)throw Error("HMAC key already set");if(!0===z)throw Error("Cannot set HMAC key after calling update");if(b=(a=B(a,f=(g||{}).encoding||"UTF8")(b)).binLen,a=a.value,g=(e=h>>>3)/4-1,e<b/8){for(a=y(a,b,0,x(c));a.length<=g;)a.push(0);a[g]&=4294967040}else if(e>b/8){for(;a.length<=g;)a.push(0);a[g]&=4294967040}for(b=0;b<=g;b+=1)t[b]=909522486^a[b],r[b]=1549556828^a[b];n=q(t,n),l=h,m=!0},this.update=function(a){var c,f,e,d=0,p=h>>>5;for(a=(c=k(a,b,g)).binLen,f=c.value,c=a>>>5,e=0;e<c;e+=p)d+h<=a&&(n=q(f.slice(e,e+p),n),d+=h);l+=d,b=f.slice(d>>>5),g=a%h,z=!0},this.getHash=function(a,f){var d,h,k,q;if(!0===m)throw Error("Cannot call getHash after setting HMAC key");switch(k=C(f),a){case"HEX":d=function(a){return D(a,e,k)};break;case"B64":d=function(a){return E(a,e,k)};break;case"BYTES":d=function(a){return F(a,e)};break;case"ARRAYBUFFER":try{h=new ArrayBuffer(0)}catch(v){throw Error("ARRAYBUFFER not supported by this environment")}d=function(a){return G(a,e)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(q=y(b.slice(),g,l,p(n)),h=1;h<u;h+=1)q=y(q,e,0,x(c));return d(q)},this.getHMAC=function(a,f){var d,k,t,u;if(!1===m)throw Error("Cannot call getHMAC without first setting HMAC key");switch(t=C(f),a){case"HEX":d=function(a){return D(a,e,t)};break;case"B64":d=function(a){return E(a,e,t)};break;case"BYTES":d=function(a){return F(a,e)};break;case"ARRAYBUFFER":try{d=new ArrayBuffer(0)}catch(v){throw Error("ARRAYBUFFER not supported by this environment")}d=function(a){return G(a,e)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return k=y(b.slice(),g,l,p(n)),u=q(r,x(c)),d(u=y(k,e,h,u))}}function m(){}function D(c,a,d){var b,g,l="";for(a/=8,b=0;b<a;b+=1)g=c[b>>>2]>>>8*(3+b%4*-1),l+="0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g);return d.outputUpper?l.toUpperCase():l}function E(c,a,d){var g,f,n,l="",b=a/8;for(g=0;g<b;g+=3)for(f=g+1<b?c[g+1>>>2]:0,n=g+2<b?c[g+2>>>2]:0,n=(c[g>>>2]>>>8*(3+g%4*-1)&255)<<16|(f>>>8*(3+(g+1)%4*-1)&255)<<8|n>>>8*(3+(g+2)%4*-1)&255,f=0;4>f;f+=1)l+=8*g+6*f<=a?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>6*(3-f)&63):d.b64Pad;return l}function F(c,a){var b,g,d="",l=a/8;for(b=0;b<l;b+=1)g=c[b>>>2]>>>8*(3+b%4*-1)&255,d+=String.fromCharCode(g);return d}function G(c,a){var l,g,d=a/8,b=new ArrayBuffer(d);for(g=new Uint8Array(b),l=0;l<d;l+=1)g[l]=c[l>>>2]>>>8*(3+l%4*-1)&255;return b}function C(c){var a={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(c=c||{},a.outputUpper=c.outputUpper||!1,!0===c.hasOwnProperty("b64Pad")&&(a.b64Pad=c.b64Pad),"boolean"!=typeof a.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof a.b64Pad)throw Error("Invalid b64Pad formatting option");return a}function B(c,a){var d;switch(a){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(c){case"HEX":d=function(a,b,c){var d,k,e,h,q,f=a.length;if(0!=f%2)throw Error("String of HEX type must be in byte increments");for(b=b||[0],q=(c=c||0)>>>3,d=0;d<f;d+=2){if(k=parseInt(a.substr(d,2),16),isNaN(k))throw Error("String of HEX type contains invalid characters");for(e=(h=(d>>>1)+q)>>>2;b.length<=e;)b.push(0);b[e]|=k<<8*(3+h%4*-1)}return{value:b,binLen:4*f+c}};break;case"TEXT":d=function(c,b,d){var f,n,e,h,q,m,p,r,k=0;if(b=b||[0],q=(d=d||0)>>>3,"UTF8"===a)for(r=3,e=0;e<c.length;e+=1)for(n=[],128>(f=c.charCodeAt(e))?n.push(f):2048>f?(n.push(192|f>>>6),n.push(128|63&f)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|63&f):(e+=1,f=65536+((1023&f)<<10|1023&c.charCodeAt(e)),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|63&f)),h=0;h<n.length;h+=1){for(m=(p=k+q)>>>2;b.length<=m;)b.push(0);b[m]|=n[h]<<8*(r+p%4*-1),k+=1}else if("UTF16BE"===a||"UTF16LE"===a)for(r=2,n="UTF16LE"===a||"UTF16LE"!==a&&!1,e=0;e<c.length;e+=1){for(f=c.charCodeAt(e),!0===n&&(f=(h=255&f)<<8|f>>>8),m=(p=k+q)>>>2;b.length<=m;)b.push(0);b[m]|=f<<8*(r+p%4*-1),k+=2}return{value:b,binLen:8*k+d}};break;case"B64":d=function(a,b,c){var d,k,e,h,q,m,p,f=0;if(-1===a.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(k=a.indexOf("="),a=a.replace(/\=/g,""),-1!==k&&k<a.length)throw Error("Invalid '=' found in base-64 string");for(b=b||[0],m=(c=c||0)>>>3,k=0;k<a.length;k+=4){for(q=a.substr(k,4),e=h=0;e<q.length;e+=1)h|=(d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(q[e]))<<18-6*e;for(e=0;e<q.length-1;e+=1){for(d=(p=f+m)>>>2;b.length<=d;)b.push(0);b[d]|=(h>>>16-8*e&255)<<8*(3+p%4*-1),f+=1}}return{value:b,binLen:8*f+c}};break;case"BYTES":d=function(a,b,c){var d,n,k,e,h;for(b=b||[0],k=(c=c||0)>>>3,n=0;n<a.length;n+=1)d=a.charCodeAt(n),e=(h=n+k)>>>2,b.length<=e&&b.push(0),b[e]|=d<<8*(3+h%4*-1);return{value:b,binLen:8*a.length+c}};break;case"ARRAYBUFFER":try{d=new ArrayBuffer(0)}catch(l){throw Error("ARRAYBUFFER not supported by this environment")}d=function(a,b,c){var d,n,k,e,h;for(b=b||[0],n=(c=c||0)>>>3,h=new Uint8Array(a),d=0;d<a.byteLength;d+=1)k=(e=d+n)>>>2,b.length<=k&&b.push(0),b[k]|=h[d]<<8*(3+e%4*-1);return{value:b,binLen:8*a.byteLength+c}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return d}function r(c,a){return c>>>a|c<<32-a}function J(c,a,d){return c&a^~c&d}function K(c,a,d){return c&a^c&d^a&d}function L(c){return r(c,2)^r(c,13)^r(c,22)}function M(c){return r(c,6)^r(c,11)^r(c,25)}function N(c){return r(c,7)^r(c,18)^c>>>3}function O(c){return r(c,17)^r(c,19)^c>>>10}function P(c,a){var d=(65535&c)+(65535&a);return((c>>>16)+(a>>>16)+(d>>>16)&65535)<<16|65535&d}function Q(c,a,d,l){var b=(65535&c)+(65535&a)+(65535&d)+(65535&l);return((c>>>16)+(a>>>16)+(d>>>16)+(l>>>16)+(b>>>16)&65535)<<16|65535&b}function R(c,a,d,l,b){var g=(65535&c)+(65535&a)+(65535&d)+(65535&l)+(65535&b);return((c>>>16)+(a>>>16)+(d>>>16)+(l>>>16)+(b>>>16)+(g>>>16)&65535)<<16|65535&g}function x(c){var d,a=[];if(0!==c.lastIndexOf("SHA-",0))throw Error("No SHA variants supported");switch(a=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case"SHA-224":break;case"SHA-256":a=d;break;case"SHA-384":case"SHA-512":a=[new m,new m,new m,new m,new m,new m,new m,new m];break;default:throw Error("Unknown SHA variant")}return a}function A(c,a,d){var l,b,g,f,n,k,e,h,m,r,p,w,t,x,u,z,A,B,C,D,E,F,G,v=[];if("SHA-224"!==d&&"SHA-256"!==d)throw Error("Unexpected error in SHA-2 implementation");for(r=64,w=1,F=Number,t=P,x=Q,u=R,z=N,A=O,B=L,C=M,E=K,D=J,G=H,d=a[0],l=a[1],b=a[2],g=a[3],f=a[4],n=a[5],k=a[6],e=a[7],p=0;p<r;p+=1)16>p?(m=p*w,h=c.length<=m?0:c[m],m=c.length<=m+1?0:c[m+1],v[p]=new F(h,m)):v[p]=x(A(v[p-2]),v[p-7],z(v[p-15]),v[p-16]),h=u(e,C(f),D(f,n,k),G[p],v[p]),m=t(B(d),E(d,l,b)),e=k,k=n,n=f,f=t(g,h),g=b,b=l,l=d,d=t(h,m);return a[0]=t(d,a[0]),a[1]=t(l,a[1]),a[2]=t(b,a[2]),a[3]=t(g,a[3]),a[4]=t(f,a[4]),a[5]=t(n,a[5]),a[6]=t(k,a[6]),a[7]=t(e,a[7]),a}var H;H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],"function"==typeof define&&define.amd?define(function(){return w}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=w),exports=w):I.jsSHA=w}(this),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){"use strict";if(null==this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>0&&((n=Number(arguments[1]))!=n?n=0:0!=n&&n!=1/0&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),Analytics_t3=function(){function Analytics_t3(flag){this.init()}return Analytics_t3.getDomain=function(){var arr_uri=location.hostname.match(/^(.*?)([a-z0-9][a-z0-9\-]{1,63}\.[a-z\.]{2,6})$/i);return null==arr_uri?".localhost":(arr_uri[2]="."+arr_uri[2],arr_uri[2])},Analytics_t3.prototype.setBaseURL=function(value){this._baseURL=value},Analytics_t3.prototype.getBaseURL=function(){return this._baseURL},Analytics_t3.prototype.getVc=function(){return this._vc},Analytics_t3.prototype.setVc=function(value){this._vc=value},Analytics_t3.prototype.getSelf=function(){return this._self},Analytics_t3.prototype.setSelf=function(value){this._self=value},Analytics_t3.prototype.getCid=function(){return this._cid},Analytics_t3.prototype.setCid=function(value){this._cid=value},Analytics_t3.prototype.getSid=function(){return this._sid},Analytics_t3.prototype.setSid=function(value){this._sid=value},Analytics_t3.prototype.getUrl=function(){return this._url},Analytics_t3.prototype.setUrl=function(value){this._url=value},Analytics_t3.prototype.getRef=function(){return this._ref},Analytics_t3.prototype.setRef=function(value){this._ref=value},Analytics_t3.prototype.getSvcid=function(){return this._svcid},Analytics_t3.prototype.setSvcid=function(value){this._svcid=value},Analytics_t3.prototype.getVid=function(){return this._vid},Analytics_t3.prototype.setVid=function(value){this._vid=value},Analytics_t3.prototype.getUid=function(){return this._uid},Analytics_t3.prototype.setUid=function(value){this._uid=value},Analytics_t3.prototype.getTotal=function(){return this._total},Analytics_t3.prototype.setTotal=function(value){this._total=value},Analytics_t3.prototype.getPid=function(){return this._pid},Analytics_t3.prototype.setPid=function(value){this._pid=value},Analytics_t3.prototype.getTagType=function(){return this._tagType},Analytics_t3.prototype.setTagType=function(value){this._tagType=value},Analytics_t3.prototype.getObject=function(){return this._object},Analytics_t3.prototype.setObject=function(value){this._object=value},Analytics_t3.prototype.getHistory=function(){return this._history},Analytics_t3.prototype.setHistory=function(value){this._history=value},Analytics_t3.prototype.getPlid=function(){return this._plid},Analytics_t3.prototype.setPlid=function(value){this._plid=value},Analytics_t3.prototype.getDeviceType=function(){return this._deviceType},Analytics_t3.prototype.setDeviceType=function(value){this._deviceType=value},Analytics_t3.prototype.getLive=function(){return this._isLive},Analytics_t3.prototype.setLive=function(value){this._isLive=value},Analytics_t3.prototype.requestUpdate=function(req){this.requestExec(req)},Analytics_t3.prototype.lastBeacon="",Analytics_t3.prototype.request=function(obj){this.lastBeacon!=obj.stat&&(this.lastBeacon=obj.stat,this.requestExec(obj))},Analytics_t3.prototype.request2=function(obj){this.lastBeacon!=obj.stat&&(this.lastBeacon=obj.stat,this.requestExec(obj))},Analytics_t3.prototype.requestExec=function(obj){var urlstr=this.genURL(obj);""!=urlstr&&this.send(urlstr)},Analytics_t3.prototype.send=function(urlstr){var target=document.createElement("script");target.src=urlstr,document.body.appendChild(target),document.body.removeChild(target)},Analytics_t3.prototype.genURL=function(dataobj){var res=this.getBaseURL();if(void 0===this.getSvcid()||null===this.getSvcid()||""===this.getSvcid())return"";if(res+="?sv="+encodeURIComponent(this.getSvcid()),void 0===dataobj.playhead||null===dataobj.playhead||""===dataobj.playhead)return"";if(res+="&s="+encodeURIComponent(dataobj.playhead),void 0===dataobj.stat||null===dataobj.stat||""===dataobj.stat)return"";if(res+="&e="+encodeURIComponent(dataobj.stat),void 0===this.getVid()||null===this.getVid()||""===this.getVid())return"";res+="&v="+encodeURIComponent(this.getVid()),res+="&lt="+encodeURIComponent((new Date).getTime()),this.getVc()&&(res+="&vc="+encodeURIComponent(this.getVc())),this.getSid()&&(res+="&sd="+encodeURIComponent(this.getSid())),this.getUid()&&(res+="&u="+encodeURIComponent(this.getUid())),this.getPid()&&(res+="&p="+encodeURIComponent(this.getPid())),this.getCid()&&(res+="&cd="+encodeURIComponent(this.getCid())),this.getRef()&&(res+="&rf="+encodeURIComponent(this.getRef())),this.getSelf()&&(res+="&url="+encodeURIComponent(this.getSelf())),this.getObject()&&(res+="&o="+encodeURIComponent(this.getObject())),this.getPlid()&&(res+="&plid="+encodeURIComponent(this.getPlid())),this.getTagType()&&(res+="&tagtype="+encodeURIComponent(this.getTagType())),this.getLive()?res+="&t="+encodeURIComponent(dataobj.totalTime):res+="&t="+encodeURIComponent(this.getTotal());var excludeParams=["playhead","stat","totalTime"];for(var key in dataobj){excludeParams.indexOf(key)<0&&(res+="&"+key+"="+encodeURIComponent(dataobj[key]))}return res},Analytics_t3.prototype.setEvents=function(playerAPI){playerAPI.addEventListener("change_state",this.playerChange_stateHundler.bind(this,playerAPI)),playerAPI.addEventListener("update",this.playerUpdateHandler.bind(this,playerAPI)),playerAPI.addEventListener("exit",this.playerExitHandler.bind(this,playerAPI))},Analytics_t3.prototype.playerChange_stateHundler=function(_this,e){var history=this.getHistory(),self=this,req={playhead:_this.getCurrentTime(),stat:_this.state};if(this.getLive()&&(req.totalTime=_this.getTotalTime()),"old_ios"==this.getDeviceType()?("paused"==req.stat&&req.playhead<=0&&(req.playhead=_this.last2Time),"playing"==req.stat&&"pause"==_this.video_event&&req.playhead<=0&&(req.playhead=_this.last2Time)):"HTML5"==this.getDeviceType()&&("seek_start"!=req.stat&&"paused"!=req.stat||(req.playhead=_this.lastTime)),!(history.length>=5))switch(0==history.length&&setInterval(function(){history=new Array,self.setHistory(history)},1e3),_this.state){case"landing":this.request(req);break;case"playing":case"paused":history.push(_this.state),this.request(req);break;case"seek_start":history.push(_this.state),req.stat="paused",this.request(req);break;case"complete":req.playhead=0,this.request(req);break;case"exit":req.stat="exit",this.request(req)}},Analytics_t3.prototype.playerUpdateHandler=function(_this,e){var req={playhead:_this.getCurrentTime(),stat:"updated"};this.getLive()&&(req.totalTime=_this.getTotalTime()),this.requestUpdate(req)},Analytics_t3.prototype.playerExitHandler=function(_this,e){var req={playhead:_this.getCurrentTime(),stat:"exit"};this.getLive()&&(req.totalTime=_this.getTotalTime()),this.request(req)},Analytics_t3.prototype.sendClickBeacon=function(type,time,totalTime){void 0===totalTime&&(totalTime=0);var clickReq={playhead:time,c:type,stat:"click"};this.getLive()&&(clickReq.totalTime=totalTime),"replay"==clickReq.c&&(clickReq.playhead=0),this.requestUpdate(clickReq)},Analytics_t3.prototype.init=function(){this.setSelf(encodeURIComponent(document.location.href)),this.setVc(Analytics_t3.random(4)),this.setHistory(new Array),this.initBaseURL(location.href)},Analytics_t3.prototype.initBaseURL=function(protocol){protocol=0==protocol.indexOf("https://")?"https":"http",this._baseURL=protocol+"://eq-beacon.stream.co.jp/va/"},Analytics_t3}(),Analytics_t3.setCookieSID=function(sid){var tmp="VA_SESSION_ID="+sid+";";tmp+=" path=/;",Analytics_t3._domain&&(tmp+=" domain="+Analytics_t3._domain+";"),document.cookie=tmp},Analytics_t3.createSid=function(){if(document.cookie)for(var cookies=document.cookie.split("; "),i=0;i<cookies.length;i++){var str=cookies[i].split("=");if("VA_SESSION_ID"==str[0])return str[1]}var sid=Analytics_t3.random(32);return Analytics_t3.setCookieSID(sid),sid},Analytics_t3.setCookieCID=function(cid){var dt=new Date;dt.setFullYear(dt.getFullYear()+1);var tmp="VA_CONV_ID="+cid+";";tmp+=" path=/;",tmp+=" expires="+dt.toGMTString()+";",Analytics_t3._domain&&(tmp+=" domain="+Analytics_t3._domain+";"),document.cookie=tmp},Analytics_t3.createCid=function(){if(Analytics_t3._domain=this.getDomain(),document.cookie)for(var cookies=document.cookie.split("; "),i=0;i<cookies.length;i++){var str=cookies[i].split("=");if("VA_CONV_ID"==str[0]){var _VANAY_CID=str[1];return Analytics_t3.setCookieCID(_VANAY_CID),str[1]}}var cid=Analytics_t3.random(32);return Analytics_t3.setCookieCID(cid),cid},Analytics_t3.random=function(n){var seed="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";seed=seed.split("");for(var s="",i=0;i<n;i++)s+=seed[Math.floor(Math.random()*seed.length)];return s},Analytics_t3.prototype.resetLastBecon=function(){this.lastBeacon=""},void 0!==JMCPlayer&&null!==JMCPlayer||(JMCPlayer=function(id,params){this.isT3(params)?(this.flashVars=params||new jstream_t3.model.EQPlayerMode,this.targetElementID="eq-"+id,this.fieldID="eqField-"+id,this.isMobile=jstream_t3.utils.Util.isMobileList(),this.accessor=jstream_t3.EQPlayerAccessAPIBuilder.create(this),this.objectID=this.accessor.objectID,null==JMCPlayer.kinds&&(JMCPlayer.kinds=(new jstream_t3.resource.LanguageResource).kinds)):(this.flashVars=params||new jstream.model.EQPlayerMode,this.targetElementID="eq-"+id,this.fieldID="eqField-"+id,this.isMobile=jstream.utils.Util.isMobileList(),this.accessor=jstream.EQPlayerAccessAPIBuilder.create(this),this.objectID=this.accessor.objectID,null==JMCPlayer.kinds&&(JMCPlayer.kinds=(new jstream.resource.LanguageResource).kinds)),JMCPlayer.instance=this},JMCPlayer.browserLanguage=function(obj){return"v3"===obj?jstream_t3.utils.Util.browserLanguage():jstream.utils.Util.browserLanguage()},JMCPlayer.getStartTime=function(){return location.hash.replace(/^#/,"")},JMCPlayer.prototype.fieldID="eqFieldID",JMCPlayer.prototype.targetElementID="",JMCPlayer.prototype.flashVars=null,JMCPlayer.prototype.metaData={},JMCPlayer.prototype.playerSetting={},JMCPlayer.prototype.flashVarsList=[],JMCPlayer.prototype.create=function(){this.accessor.createPlayer()},JMCPlayer.prototype.getFlashVarsLength=function(){return this.flashVarsList.length},JMCPlayer.prototype.getFlashVarsAt=function(index){return void 0!==jstream_t3?jstream_t3.utils.Util.escapeObject(this.flashVarsList[index]):jstream.utils.Util.escapeObject(this.flashVarsList[index])},JMCPlayer.prototype.getFlashVars=function(){return this.flashVars},JMCPlayer.prototype.isT3=function(params,i){var len;if(void 0===params.stype)return!1;var majorVer=params.tagType.split("_")[1];if("s1"==params.stype||"s2"==params.stype){if("player_2_0_0beta_syn"==params.tagType)return!1;if(Number(majorVer)<2)return!1}var arr=["player_1_0_0","player_1_12_2","player_1_12_3","player_1_12_4","player_1_15_0_syn"];for(len=arr.length,i=i?i<0?Math.max(0,len+i):i:0;i<len;i++)if(i in arr&&arr[i]===params.tagType)return!1;return!0});var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Date.now||(Date.now=function(){return+new Date}),function(){if("function"==typeof window.CustomEvent)return!1;this.prototype=window.Event.prototype,window.CustomEvent=function(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}}();var HTML5Player_t3=function(){function HTML5Player_t3(jmcPlayer,videoID){var _this=this;this.isKeyDown=!1,this.PLAYER_WIDTH_MINIMUM=240,this.PLAYER_WIDTH_SMALL_MID=320,this.PLAYER_WIDTH_SMALL=480,this.PLAYER_WIDTH_NOMAL=1440,this.PLAYER_HEIGHT_MINIMUM=135,this.PLAYER_HEIGHT_SMALL_MID=180,this.PLAYER_HEIGHT_SMALL=270,this.PLAYER_HEIGHT_NOMAL=810,this.PLAYER_WIDTH_LANDSCAPE=480,this.PLAYER_WIDTH_LANDSCAPE_SMALL=360,this.PLAYER_HEIGHT_LANDSCAPE=270,this.PLAYER_HEIGHT_LANDSCAPE_SMALL=202.5,this.FOOTER_WIDTH_FULL=580,this.WIDTH_TYPE_MINIMUM=1,this.WIDTH_TYPE_SMALL=2,this.WIDTH_TYPE_NOMAL=3,this.WIDTH_TYPE_FULL=4,this.SEEK_BTN_TIME=10,this.FOOTER_SLOT_1_NORMAL=38,this.FOOTER_SLOT_2_NORMAL=91,this.FOOTER_SLOT_3_NORMAL=146,this.FOOTER_SLOT_4_NORMAL=200,this.FOOTER_SLOT_1_SMALL_MID=20.5,this.FOOTER_SLOT_2_SMALL_MID=57.5,this.FOOTER_SLOT_3_SMALL_MID=94.5,this.FOOTER_SLOT_4_SMALL_MID=131.5,this.KEY_SPACE=32,this.KEY_TAB=9,this.KEY_ENTER=13,this.KEY_ARROW_UP=38,this.KEY_ARROW_RIGHT=39,this.KEY_ARROW_DOWN=40,this.KEY_ARROW_LEFT=37,this.playerStatusTimer=null,this.linkset=[],this.movie_list=[],this.movie_index=0,this.playbackrateIndex=0,this.playbackrateList=[],this.captionIndex=1,this.captionList=[],this.playlist=[],this.playerWidth=0,this.playerHeight=0,this.preMuteVolume=null,this.playbackRate=1,this.mousemoveCount=0,this.volumeVisibleTimer=null,this.initVolume=100,this.preSeekState="",this.preOpenState="",this.useMultibitrate=!0,this.useClosedCaption=!1,this.useMovies=!0,this.useExLink=!0,this.useSns=!0,this.useChapter=!0,this.useLoop=!1,this.usePlaylistLoop=!1,this.usePlaylistAutoPlay=!1,this.canPlayHls=!1,this.isHls=!0,this.isFirstPlay=!0,this.isFullscreen=!1,this.isDebug=!0,this.onMouseSound=!1,this.isSoundOperating=!1,this.isControllerVisible=!0,this.isLoading=!1,this.isStall=!1,this.isShowSelectMenu=!1,this.isLiveStop=!1,this.isLive=!1,this.addEventListenerOnce=function(target,type,listener){target.addEventListener(type,function fn(){target.removeEventListener(type,fn),listener()})},this.videoID=videoID,this.playerInstans=jmcPlayer,this.platform=this.playerInstans.accessor.model.platform,this.isLive=this.playerInstans.accessor.model.isLive;var lang="ja";"ja"!=window.jstream_t3.utils.Util.browserLanguage()&&(lang="en"),this.languageResource=new window.jstream_t3.resource.LanguageResource(this.playerInstans.flashVars["language_resource_"+lang]),this.isMobile()?(this.initElementMobile(),this.setPlayerSettingMobile(),this.setStyleMobile(),this.setEventMobile(),this.updatePlayerStatusMobile(),this.setPlayerStatusTimer(!0)):(this.initElement(),this.setPlayerSetting(),this.setStyle(),this.setEvent(),this.updatePlayerStatus(),this.setPlayerStatusTimer(!0)),!this.video.isHls||"iOS"==this.platform.os.name||"Macintosh"==this.platform.os.name&&this.platform.isSafari||this.playerInstans.accessor.model.isAuthEnable()||(this.waitHlsTimer=setInterval(function(){_this.waitHlsLoading()},100)),this.dispatchReady()}return HTML5Player_t3.prototype.reconstructor=function(){var _this=this;this.reset(),this.playerInstans.accessor.model.isAuthEnable()&&(this.authCover=this.player.getElementsByClassName("eq-auth-cover")[0],this.authCover.style.display="block",this.authCover.addEventListener("click",function(){_this.overlayContainer.auth.open(),_this.authCover.style.display="none"}),this.overlayContainer.auth.title.innerText=this.languageResource.kinds.AUTH,this.overlayContainer.auth.inputBtn.children[1].innerText=this.languageResource.kinds.PLAY),this.isMobile()?(this.setPlayerSettingMobile(),this.setStyleMobile(),this.updatePlayerStatusMobile(),this.setPlayerStatusTimer(!0)):(this.setPlayerSetting(),this.setStyle(),this.updatePlayerStatus(),this.setPlayerStatusTimer(!0)),!this.video.isHls||"iOS"==this.platform.os.name||"Macintosh"==this.platform.os.name&&this.platform.isSafari||this.playerInstans.accessor.model.isAuthEnable()||(this.waitHlsTimer=setInterval(function(){_this.waitHlsLoading()},100)),this.playerInstans.accessor.onPlayerEvent("playlistitem")},HTML5Player_t3.prototype.reset=function(){this.playerStatusTimer=null,this.linkset=[],this.movie_list=[],this.movie_index=0,this.playbackrateIndex=0,this.playbackrateList=[],this.captionIndex=1,this.captionList=[],this.playlist=[],this.playerWidth=0,this.playerHeight=0,this.preMuteVolume=null,this.playbackRate=1,this.mousemoveCount=0,this.preSeekState="",this.preOpenState="",this.useMultibitrate=!0,this.useClosedCaption=!1,this.useMovies=!0,this.useExLink=!0,this.useSns=!0,this.useLoop=!1,this.usePlaylistLoop=!1,this.usePlaylistAutoPlay=!1,this.useChapter=!1,this.canPlayHls=!1,this.isHls=!0,this.isFirstPlay=!0,this.isFullscreen=!1,this.isDebug=!0,this.onMouseSound=!1,this.isSoundOperating=!1,this.isControllerVisible=!0,this.isLoading=!1,this.isStall=!1,this.isShowSelectMenu=!1,this.isLiveStop=!1,this.isLive=!1,this.isMobile()?(this.centerContainer.play.classList.remove("eq-icon-pause"),this.centerContainer.play.classList.add("eq-icon-play"),this.centerContainer.play_p.node.classList.remove("eq-icon-pause"),this.centerContainer.play_p.node.classList.add("eq-icon-play")):(this.centerContainer.play.className="eq-center-icon-play",this.footer.play.node.className="eq-icon-play")},HTML5Player_t3.prototype.initElement=function(){var _this=this;this.parent=document.getElementById(this.playerInstans.fieldID),this.player=this.parent.getElementsByClassName("eq-h5_player")[0];var vid=document.createElement("video");vid.preload="metadata",vid.style.position="absolute",vid.style.width="100%",vid.style.height="100%",this.player.insertBefore(vid,this.player.firstChild),this.video=new EQPlayer_parts.video(vid),this.video.node.id=this.videoID,this.cover=new EQPlayer_parts.cover(this.player.getElementsByClassName("eq-video_cover")[0]),this.subContainer=new EQPlayer_parts.subContainer(this.player.getElementsByClassName("eq-sub-container")[0]),this.overlayContainer=new EQPlayer_parts.overlayContainer(this.player.getElementsByClassName("overlay-container")[0]),this.centerContainer=new EQPlayer_parts.centerContainer(this.player.getElementsByClassName("eq-area-center")[0]),this.header=new EQPlayer_parts.header(this.player.getElementsByClassName("eq-header")[0]),this.footer=new EQPlayer_parts.footer(this.player.getElementsByClassName("eq-footer")[0]),this.seekbar=new EQPlayer_parts.seekbar(this.player.getElementsByClassName("eq-box-seekbar")[0]),this.seekbar.balloon=new EQPlayer_parts.seekBalloon(this.player.getElementsByClassName("eq-balloon-seek")[0]),this.soundballoon=new EQPlayer_parts.soundballoon(this.player.getElementsByClassName("eq-balloon-sound")[0]),this.telopballoon=new EQPlayer_parts.telopballoon(this.player.getElementsByClassName("eq-balloon-telop")[0]),this.resolutionballoon=new EQPlayer_parts.resolutionballoon(this.player.getElementsByClassName("eq-balloon-resolution")[0]),this.speedballoon=new EQPlayer_parts.speedballoon(this.player.getElementsByClassName("eq-balloon-speed")[0]),this.captionContainer=new EQPlayer_parts.captionContainer(this.player.getElementsByClassName("eq-caption_area")[0],this.playerInstans.accessor.model.isLightbox),this.chapter=new EQPlayer_parts.chapterContainer(this.player.querySelector(".eq-chapter-box")),this.playerInstans.accessor.model.isLive&&"off"!=this.playerInstans.accessor.model.livemark_use&&(this.liveMark=this.parent.getElementsByClassName("eq-livemark")[0]),this.playerInstans.accessor.model.isLive&&"on"==this.playerInstans.accessor.model.viewers_use&&(this.viewers=this.parent.querySelector(".eq-viewers")),this.centerContainer.play.style.display="block",this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.centerContainer.replay.style.display="none",this.platform.isFirefox&&(this.seekbar.node.setAttribute("draggable",!0),this.soundballoon.node.setAttribute("draggable",!0)),this.playerInstans.accessor.model.isAuthEnable()&&(this.authCover=this.player.getElementsByClassName("eq-auth-cover")[0],this.authCover.style.display="block",this.authCover.addEventListener("click",function(){_this.overlayContainer.auth.open(),_this.authCover.style.display="none"}),this.overlayContainer.auth.title.innerText=this.languageResource.kinds.AUTH,this.overlayContainer.auth.inputBtn.children[1].innerText=this.languageResource.kinds.PLAY)},HTML5Player_t3.prototype.initElementMobile=function(){var _this=this;this.parent=document.getElementById(this.playerInstans.fieldID),this.player=this.parent.getElementsByClassName("eq-h5_player")[0];var vid=document.createElement("video");vid.preload="metadata",vid.setAttribute("playsinline",""),vid.style.position="absolute",vid.style.width="100%",vid.style.height="100%",this.player.insertBefore(vid,this.player.firstChild),this.video=new EQPlayer_parts.video(vid),this.video.node.id=this.videoID,this.cover=new EQPlayer_parts.cover(this.player.getElementsByClassName("eq-video_cover")[0]),this.subContainer=new EQPlayer_parts.subContainer(this.player.getElementsByClassName("eq-sub-container")[0]),this.overlayContainer=new EQPlayer_parts.overlayContainer(this.player.getElementsByClassName("overlay-container")[0]),this.centerContainer=new EQPlayer_parts.centerContainer(this.player.getElementsByClassName("eq-area-center")[0],!0),this.header=new EQPlayer_parts.header(this.player.getElementsByClassName("eq-header")[0]),this.seekbar=new EQPlayer_parts.seekbar(this.player.getElementsByClassName("eq-box-seekbar")[0]),this.seekbar.balloon=new EQPlayer_parts.seekBalloon(this.player.getElementsByClassName("eq-balloon-seek")[0]),this.captionContainer=new EQPlayer_parts.captionContainer(this.player.getElementsByClassName("eq-caption_area")[0],this.playerInstans.accessor.model.isLightbox),this.footer=new EQPlayer_parts.footer(this.player.getElementsByClassName("eq-footer")[0],!0),this.timeBox=new EQPlayer_parts.timeBox(this.player.getElementsByClassName("eq-box-time")[0]),this.selectTelop=new EQPlayer_parts.selectTelop(this.player.getElementsByClassName("eq-select-telop")[0]),this.selectResolution=new EQPlayer_parts.selectResolution(this.player.getElementsByClassName("eq-select-resolution")[0]),this.selectSpeed=new EQPlayer_parts.selectSpeed(this.player.getElementsByClassName("eq-select-speed")[0]),this.chapter=new EQPlayer_parts.chapterContainer(this.player.querySelector(".eq-chapter-box")),this.playerInstans.accessor.model.isLive&&"off"!=this.playerInstans.accessor.model.livemark_use&&(this.liveMark=this.parent.getElementsByClassName("eq-livemark")[0]),this.playerInstans.accessor.model.isLive&&"on"==this.playerInstans.accessor.model.viewers_use&&(this.viewers=this.parent.querySelector(".eq-viewers")),this.playerInstans.accessor.model.isAuthEnable()&&(this.authCover=this.player.getElementsByClassName("eq-auth-cover")[0],this.authCover.style.display="block",this.authCover.addEventListener("click",function(){_this.overlayContainer.auth.open(),_this.authCover.style.display="none"}),this.overlayContainer.auth.title.innerText=this.languageResource.kinds.AUTH,this.overlayContainer.auth.inputBtn.children[1].innerText=this.languageResource.kinds.PLAY)},HTML5Player_t3.prototype.setStyle=function(){var model=this.playerInstans.accessor.model;if(this.player.clientWidth<this.PLAYER_WIDTH_SMALL_MID||this.player.clientHeight<this.PLAYER_HEIGHT_SMALL_MID?(this.player.className="eq-h5_player",this.player.classList.add("eq-small_mid"),this.centerContainer.node.classList.remove("eq-small"),this.footer_slot1=this.FOOTER_SLOT_1_SMALL_MID,this.footer_slot2=this.FOOTER_SLOT_2_SMALL_MID,this.footer_slot3=this.FOOTER_SLOT_3_SMALL_MID,this.footer_slot4=this.FOOTER_SLOT_4_SMALL_MID,this.widthType="eq-small_mid",this.subContainer.enable=!0,this.overlayContainer.enable=!0,"on"==model.watermark_use&&(this.centerContainer.enable=!0),"on"==model.title_use&&(this.header.enable=!0),"on"==model.controlbar_use&&(this.footer.enable=!0,"on"==model.seak_use&&(this.seekbar.enable=!0),this.isSkipBtnEnable(model)&&(this.footer.prev.node.style.display="none",this.footer.next.node.style.display="none"),"on"==model.play_use?this.soundballoon.node.style.left="45px":(this.footer.sound.node.style.marginLeft="0px",this.soundballoon.node.style.left="7px"),this.footer.time.visible=!1),this.overlayContainer.auth.node.classList.remove("eq-mini"),this.overlayContainer.auth.node.classList.add("eq-small")):this.player.clientWidth<this.PLAYER_WIDTH_SMALL||this.player.clientHeight<this.PLAYER_HEIGHT_SMALL?(this.player.className="eq-h5_player",this.player.classList.add("eq-small"),this.centerContainer.node.classList.remove("eq-small"),this.footer_slot1=this.FOOTER_SLOT_1_SMALL_MID,this.footer_slot2=this.FOOTER_SLOT_2_SMALL_MID,this.footer_slot3=this.FOOTER_SLOT_3_SMALL_MID,this.footer_slot4=this.FOOTER_SLOT_4_SMALL_MID,this.widthType="eq-small",this.subContainer.enable=!0,this.overlayContainer.enable=!0,"on"==model.watermark_use&&(this.centerContainer.enable=!0),"on"==model.title_use&&(this.header.enable=!0),"on"==model.controlbar_use&&(this.footer.enable=!0,"on"==model.seak_use&&(this.seekbar.enable=!0),this.isSkipBtnEnable(model)&&(this.footer.prev.node.style.display="none",this.footer.next.node.style.display="none"),"on"==model.play_use?this.soundballoon.node.style.left="45px":(this.footer.sound.node.style.marginLeft="0px",this.soundballoon.node.style.left="7px"),this.footer.time.visible=!0),this.overlayContainer.auth.node.classList.remove("eq-mini"),this.overlayContainer.auth.node.classList.add("eq-small")):this.player.clientWidth<this.PLAYER_WIDTH_NOMAL||this.player.clientHeight<this.PLAYER_HEIGHT_NOMAL?(this.player.className="eq-h5_player",this.widthType="nomal",this.centerContainer.node.classList.remove("eq-small"),this.player.clientWidth<this.FOOTER_WIDTH_FULL&&this.centerContainer.node.classList.add("eq-small"),this.footer_slot1=this.FOOTER_SLOT_1_SMALL_MID,this.footer_slot2=this.FOOTER_SLOT_2_SMALL_MID,this.footer_slot3=this.FOOTER_SLOT_3_SMALL_MID,this.footer_slot4=this.FOOTER_SLOT_4_SMALL_MID,this.subContainer.enable=!0,this.overlayContainer.enable=!0,"on"==model.watermark_use&&(this.centerContainer.enable=!0),"on"==model.title_use&&(this.header.enable=!0),"on"==model.controlbar_use&&(this.footer.enable=!0,this.footer.time.visible=!0,"on"==model.seak_use&&(this.seekbar.enable=!0),this.isSkipBtnEnable(model)?(this.player.clientWidth,this.FOOTER_WIDTH_FULL,this.footer.prev.node.style.display="block",this.footer.next.node.style.display="block","on"==model.play_use?this.soundballoon.node.style.left="125px":(this.footer.prev.node.style.marginLeft="0px",this.soundballoon.node.style.left="95px")):"on"==model.play_use?this.soundballoon.node.style.left="45px":(this.footer.sound.node.style.marginLeft="0px",this.soundballoon.node.style.left="7px")),this.overlayContainer.auth.node.classList.remove("eq-mini"),this.overlayContainer.auth.node.classList.remove("eq-small")):(this.player.className="eq-h5_player",this.widthType="full",this.centerContainer.node.classList.remove("eq-small"),this.footer_slot1=this.FOOTER_SLOT_1_SMALL_MID,this.footer_slot2=this.FOOTER_SLOT_2_SMALL_MID,this.footer_slot3=this.FOOTER_SLOT_3_SMALL_MID,this.footer_slot4=this.FOOTER_SLOT_4_SMALL_MID,this.subContainer.enable=!0,this.overlayContainer.enable=!0,"on"==model.watermark_use&&(this.centerContainer.enable=!0),"on"==model.title_use&&(this.header.enable=!0),"on"==model.controlbar_use&&(this.footer.enable=!0,this.footer.time.visible=!0,"on"==model.seak_use&&(this.seekbar.enable=!0),this.isSkipBtnEnable(model)?(this.player.clientWidth,this.FOOTER_WIDTH_FULL,this.footer.prev.node.style.display="block",this.footer.next.node.style.display="block","on"==model.play_use?this.soundballoon.node.style.left="125px":(this.footer.prev.node.style.marginLeft="0px",this.soundballoon.node.style.left="95px")):"on"==model.play_use?this.soundballoon.node.style.left="45px":(this.footer.sound.node.style.marginLeft="0px",this.soundballoon.node.style.left="7px")),this.overlayContainer.auth.node.classList.remove("eq-mini"),this.overlayContainer.auth.node.classList.remove("eq-small")),"on"==model.title_use)if(this.header.enable=!0,(this.player.clientWidth<this.PLAYER_WIDTH_SMALL||this.player.clientHeight<this.PLAYER_HEIGHT_SMALL)&&this.subContainer.enable){var margin=0;"none"!=this.subContainer.movies.style.display&&(margin+=34),"none"!=this.subContainer.links.style.display&&(margin+=34),"none"!=this.subContainer.share.style.display&&(margin+=34),"none"!=this.subContainer.chapter.style.display&&(margin+=34),this.header.title.style.width=(this.player.clientWidth-margin-6-8).toString()+"px"}else this.header.title.style.width="auto";this.captionContainer.setFontSize(this.player.clientWidth,!1)},HTML5Player_t3.prototype.setStyleMobile=function(){var playerWidth=this.player.clientWidth,playerHeight=this.player.clientHeight,model=this.playerInstans.accessor.model;if(playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL){if(this.player.className="eq-h5_player",(playerWidth<this.PLAYER_WIDTH_LANDSCAPE||playerHeight<this.PLAYER_HEIGHT_LANDSCAPE)&&this.player.classList.add("eqls-small"),this.subContainer.enable=!0,this.overlayContainer.enable=!0,this.overlayContainer.visible=!0,this.centerContainer.enable=!0,this.centerContainer.play_p.enable=!1,"on"==model.watermark_use?(this.centerContainer.play.style.display="block",this.isSkipBtnEnable(model)?(this.centerContainer.prev.style.display="block",this.centerContainer.next.style.display="block"):(this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.centerContainer.play.style.margin="0")):(this.centerContainer.play.style.display="none",this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none"),"on"==model.volume_use?this.centerContainer.sound.enable=!0:this.centerContainer.sound.enable=!1,this.useClosedCaption?this.centerContainer.telop.enable=!0:this.centerContainer.telop.enable=!1,this.useMultibitrate?this.centerContainer.resolution.enable=!0:this.centerContainer.resolution.enable=!1,model.playbackRate&&model.playbackRate.length>0?this.centerContainer.speed.enable=!0:this.centerContainer.speed.enable=!1,"on"==model.fullscreen_use?this.centerContainer.fullscreen.enable=!0:this.centerContainer.fullscreen.enable=!1,"on"==model.title_use?this.header.enable=!0:this.header.enable=!1,"on"==model.seak_use?this.seekbar.enable=!0:this.seekbar.enable=!1,"on"==model.time_use){var timeboxVisible=this.timeBox.visible;this.timeBox.enable=!0,this.timeBox.visible=timeboxVisible}this.overlayContainer.movies.node.classList.add("eq-landscape"),this.overlayContainer.movies.node.classList.remove("eq-portlate"),this.overlayContainer.links.node.classList.add("eq-landscape"),this.overlayContainer.links.node.classList.remove("eq-portlate"),this.overlayContainer.share.node.classList.add("eq-landscape"),this.overlayContainer.share.node.classList.remove("eq-portlate"),this.selectTelop.node.classList.remove("eq-portlate"),this.selectResolution.node.classList.remove("eq-portlate"),this.selectSpeed.node.classList.remove("eq-portlate"),playerWidth<this.PLAYER_WIDTH_LANDSCAPE||playerHeight<this.PLAYER_HEIGHT_LANDSCAPE?this.overlayContainer.auth.node.classList.add("eq-small"):this.overlayContainer.auth.node.classList.remove("eq-small")}else if(this.player.className="eq-h5_player",this.player.classList.add("eq-pr"),this.subContainer.enable=!0,this.overlayContainer.enable=!0,this.overlayContainer.visible=!0,this.overlayContainer.movies.node.classList.remove("eq-landscape"),this.overlayContainer.movies.node.classList.add("eq-portlate"),this.overlayContainer.links.node.classList.remove("eq-landscape"),this.overlayContainer.links.node.classList.add("eq-portlate"),this.overlayContainer.share.node.classList.remove("eq-landscape"),this.overlayContainer.share.node.classList.add("eq-portlate"),this.centerContainer.enable=!0,this.centerContainer.play_p.enable=!0,this.centerContainer.play.style.display="none",this.centerContainer.replay.style.display="none",this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.centerContainer.resolution.enable=!1,this.selectTelop.node.classList.add("eq-portlate"),this.selectResolution.node.classList.add("eq-portlate"),this.selectSpeed.node.classList.add("eq-portlate"),this.overlayContainer.auth.node.classList.add("eq-small"),"on"==model.watermark_use?this.centerContainer.play_p.enable=!0:this.centerContainer.play_p.enable=!1,this.useClosedCaption?this.centerContainer.telop.enable=!0:this.centerContainer.telop.enable=!1,"on"==model.volume_use?this.centerContainer.sound.enable=!0:this.centerContainer.sound.enable=!1,model.playbackRate&&model.playbackRate.length>0?this.centerContainer.speed.enable=!0:this.centerContainer.speed.enable=!1,"on"==model.fullscreen_use?this.centerContainer.fullscreen.enable=!0:this.centerContainer.fullscreen.enable=!1,"on"==model.title_use?this.header.enable=!0:this.header.enable=!1,"on"==model.seak_use?this.seekbar.enable=!0:this.seekbar.enable=!1,"on"==model.time_use){timeboxVisible=this.timeBox.visible;this.timeBox.enable=!0,this.timeBox.visible=timeboxVisible}if("on"==model.title_use)if(this.header.enable=!0,(playerWidth<this.PLAYER_WIDTH_LANDSCAPE||playerHeight<this.PLAYER_HEIGHT_LANDSCAPE)&&this.subContainer.enable){var margin=0;"none"!=this.subContainer.movies.style.display&&(margin+=45),"none"!=this.subContainer.links.style.display&&(margin+=45),"none"!=this.subContainer.share.style.display&&(margin+=45),"none"!=this.subContainer.chapter.style.display&&(margin+=45),this.header.title.style.width=(playerWidth-margin-5-8).toString()+"px"}else this.header.title.style.width="auto";else this.header.enable=!1;"on"==model.seak_use&&(this.seekbar.node.style.width=playerWidth-60+"px",this.seekbar.node.style.marginLeft="30px"),this.captionContainer.setFontSize(playerWidth,!0)},HTML5Player_t3.prototype.setPlayerSetting=function(){var _this=this,model=this.playerInstans.accessor.model;if("on"!=model.responsive&&"fit"!=model.responsive&&model.isFooder()&&(this.player.style.width=model.width+"px",this.player.style.height=model.height-20+"px"),this.platform.isIE&&10==Number(this.platform.browser.version)&&(model.fullscreen_use="off"),this.video.node.crossOrigin="Anonymous",this.isHls=this.playerInstans.accessor.hls,this.video.src=model.movie_url,this.movie_list=model.movie_list,(!this.movie_list||this.movie_list.length<=0)&&(this.useMultibitrate=!1,this.movie_list=[]),this.movie_index=Number(model.default_quality),this.playbackrateIndex=model.playbackRate_index,this.playbackrateList=model.playbackRate_list,!this.playbackrateList||this.playbackrateList.length<2?this.footer.speed.enable=!1:(this.footer.speed.enable=!0,this.speedballoon.setList(this.playbackrateList,this),this.speedballoon.title.innerHTML=this.languageResource.kinds.Speed,this.changePlaybackRate(this.playbackrateList[this.playbackrateIndex])),this.captionList=model.subtitles,!model.subtitles||model.subtitles.length<3?(this.footer.telop.enable=!1,this.useClosedCaption=!1):(this.footer.telop.enable=!0,this.useClosedCaption=!0,this.captionIndex=model.sb_default,this.telopballoon.setList(this.captionList,this),this.telopballoon.setFocus(this.captionList[this.captionIndex]),this.captionContainer.init_subtitles(this.captionList,this),this.captionContainer.index=this.captionIndex,this.telopballoon.title.innerHTML=this.languageResource.kinds.Caption),this.playlist=model.playlist,!model.playlist||model.playlist.length<1)this.subContainer.movies.style.display="none",this.useMovies=!1;else{this.subContainer.movies.style.display="block";var movies_title=this.languageResource.kinds.MOVIES;"1"==model.use_playlist_name&&(movies_title=model.playlist_name),this.overlayContainer.movies.setList(this.playlist,movies_title,this),this.useMovies=!0}if("on"==model.fullscreen_use?this.footer.fullscreen.enable=!0:this.footer.fullscreen.enable=!1,"on"==model.title_use?(this.header.enable=!0,this.header.setTitle(model.title)):this.header.enable=!1,"on"==model.exlink_use?!model.exlink||model.exlink.length<1?(this.subContainer.links.style.display="none",this.useExLink=!1):(this.subContainer.links.style.display="block",this.overlayContainer.links.setList(model.exlink,this),this.overlayContainer.links.title.innerText=this.languageResource.kinds.LINKS):(this.useExLink=!1,this.subContainer.links.style.display="none"),(!model.sns_id_list||model.sns_id_list<1)&&(this.useSns=!1),"on"!=model.sns_use&&"on"!=model.tag_use?(this.useSns=!1,this.subContainer.share.style.display="none"):(this.subContainer.share.style.display="block","on"==model.sns_use?(this.overlayContainer.share.setList(model.sns_id_list,this),this.overlayContainer.share.shareTitle.innerHTML=this.languageResource.kinds.SHARE_MOVIE):(this.useSns=!1,this.overlayContainer.share.showShare(!1)),"on"==model.tag_use?(this.overlayContainer.share.viralForm.children[0].value=model.tag_text,this.overlayContainer.share.viralTitle.innerHTML=this.languageResource.kinds.VIRALTAG_TITLE):this.overlayContainer.share.showViral(!1)),"on"!=model.chapter_use?(this.useChapter=!1,this.subContainer.chapter.style.display="none"):(this.subContainer.chapter.style.display="block",this.chapter.setChapter(this,model.chapterData)),"on"==model.controlbar_use?(this.footer.enable=!0,this.player.clientWidth<this.PLAYER_WIDTH_NOMAL?this.captionContainer.node.style.bottom="40px":this.captionContainer.node.style.bottom="70px"):(this.footer.enable=!1,this.captionContainer.node.style.bottom="10px"),"on"==model.multibitrate_use){this.footer.resolution.enable=!0,this.resolutionballoon.setList(this.movie_list,this),this.resolutionballoon.setFocus(this.video.src);for(var text="Auto",i=0;i<this.movie_list.length;i++)if(this.movie_list[i].url==this.video.src){text=this.movie_list[i].text;break}this.footer.resolution.node.children[0].children[0].innerText=this.changeQualityLabel(text),this.resolutionballoon.title.innerHTML=this.languageResource.kinds.Quality}else this.footer.resolution.enable=!1;if("on"==model.play_use?this.footer.play.enable=!0:this.footer.play.enable=!1,"on"==model.seak_use&&this.footer.enable?(this.seekbar.enable=!0,this.seekbar.balloon.duration=model.duration):this.seekbar.enable=!1,this.isSkipBtnEnable(model)?(this.SEEK_BTN_TIME=parseInt(model.skipbtn_use),this.centerContainer.prev.children[0].children[0].innerHTML=model.skipbtn_use,this.centerContainer.next.children[0].children[0].innerHTML=model.skipbtn_use,this.footer.next.node.children[0].children[0].innerHTML=model.skipbtn_use,this.footer.prev.node.children[0].children[0].innerHTML=model.skipbtn_use):(this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.footer.next.enable=!1,this.footer.prev.enable=!1),"on"==model.time_use?this.footer.time.enable=!0:this.footer.time.enable=!1,model.replay_use,"on"==model.watermark_use?this.centerContainer.enable=!0:this.centerContainer.enable=!1,"on"==model.volume_use?this.footer.sound.enable=!0:this.footer.sound.enable=!1,this.cover.thumbnail=this.playerInstans.accessor.model.thumbnail_url,this.cover.showThumbnail(!0),this.overlayContainer.movies.autoadvance=model.autoadvance,this.overlayContainer.movies.repeat=model.repeat,this.overlayContainer.movies.playOnSelect=model.playOnSelect,"100"!=model.inCookieVolume&&"0"!=model.inCookieVolume&&"mute"!=model.inCookieVolume&&(this.initVolume=parseInt(model.inCookieVolume),this.setVolume(this.initVolume/100)),"off"==model.init_sound&&this.setMute(!0),this.unmuteBtn&&(this.video.node.muted||0==this.video.node.volume)){var top=40;this.header.enable&&(top=70),this.unmuteBtn.style.top=top+"px",this.unmuteBtn.style.display="block",this.unmuteBtn.onclick=function(){_this.setMute(!1),_this.unmuteBtn&&(_this.player.removeChild(_this.unmuteBtn),_this.unmuteBtn=null)}}else this.unmuteBtn=null},HTML5Player_t3.prototype.setPlayerSettingMobile=function(){var _this=this,model=this.playerInstans.accessor.model;if(this.platform.isIE&&10==Number(this.platform.browser.version)&&(model.fullscreen_use="off"),"on"!=model.responsive&&"fit"!=model.responsive&&model.isFooder()&&(this.player.style.width=model.width+"px",this.player.style.height=model.height-20+"px"),this.isHls=this.playerInstans.accessor.hls,this.video.src=model.movie_url,this.movie_list=model.movie_list,this.movie_index=model.default_quality,(!this.movie_list||this.movie_list.length<=0)&&(this.useMultibitrate=!1,this.centerContainer.resolution.enable=!1,this.movie_list=[]),this.movie_index=Number(model.default_quality),this.playbackrateIndex=model.playbackRate_index,this.playbackrateList=model.playbackRate_list,!this.playbackrateList||this.playbackrateList.length<2?this.centerContainer.speed.enable=!1:(this.centerContainer.speed.enable=!0,this.selectSpeed.setList(this.playbackrateList,this),this.selectSpeed.title.innerHTML=this.languageResource.kinds.Speed,this.changePlaybackRate(this.playbackrateList[this.playbackrateIndex])),this.captionList=model.subtitles,!model.subtitles||model.subtitles.length<3?(this.centerContainer.telop.enable=!1,this.useClosedCaption=!1):(this.centerContainer.telop.enable=!0,this.useClosedCaption=!0,this.captionIndex=model.sb_default,this.selectTelop.setList(this.captionList,this),this.selectTelop.setFocus(this.captionList[this.captionIndex]),this.selectTelop.title.innerHTML=this.languageResource.kinds.Caption,this.captionContainer.video=this.video.node,this.captionContainer.init_subtitles(this.captionList,this),this.captionContainer.index=this.captionIndex),"on"==model.fullscreen_use?this.centerContainer.fullscreen.enable=!0:this.centerContainer.fullscreen.enable=!1,"on"==model.title_use?(this.header.enable=!0,this.header.setTitle(model.title)):this.header.enable=!1,"on"==model.exlink_use?!model.exlink||model.exlink.length<1?(this.subContainer.links.style.display="none",this.useExLink=!1):(this.subContainer.links.style.display="block",this.overlayContainer.links.setList(model.exlink,this),this.overlayContainer.links.title.innerHTML=this.languageResource.kinds.LINKS):(this.subContainer.links.style.display="none",this.useExLink=!1),model.tag_use="off",(!model.sns_id_list||model.sns_id_list<1)&&(this.useSns=!1),"on"!=model.sns_use&&"on"!=model.tag_use?(this.subContainer.share.style.display="none",this.useSns=!1):(this.subContainer.share.style.display="block","on"==model.sns_use?(this.overlayContainer.share.setList(model.sns_id_list,this),this.overlayContainer.share.shareTitle.innerHTML=this.languageResource.kinds.SHARE_MOVIE):(this.useSns=!1,this.overlayContainer.share.showShare(!1))),"on"!=model.chapter_use?(this.useChapter=!1,this.subContainer.chapter.style.display="none"):(this.subContainer.chapter.style.display="block",this.chapter.setChapter(this,model.chapterData)),this.playlist=model.playlist,!model.playlist||model.playlist.length<1)this.subContainer.movies.style.display="none",this.useMovies=!1;else{this.subContainer.movies.style.display="block";var movies_title=this.languageResource.kinds.MOVIES;"1"==model.use_playlist_name&&(movies_title=model.playlist_name),this.overlayContainer.movies.setList(this.playlist,movies_title,this),this.useMovies=!0}if("on"==model.multibitrate_use){this.centerContainer.resolution.enable=!0,this.selectResolution.setList(this.movie_list,this),this.selectResolution.setFocus(this.video.src),this.selectResolution.title.innerHTML=this.languageResource.kinds.Quality;for(var text="Auto",i=0;i<this.movie_list.length;i++)if(this.movie_list[i].url==this.video.src){text=this.movie_list[i].text;break}this.centerContainer.resolution.node.children[0].children[0].innerText=this.changeQualityLabel(text)}else this.centerContainer.resolution.enable=!1,this.useMultibitrate=!1;if("on"==model.seak_use&&this.footer.enable?(this.seekbar.enable=!0,this.seekbar.balloon.duration=model.duration):this.seekbar.enable=!1,this.isSkipBtnEnable(model)?(this.SEEK_BTN_TIME=parseInt(model.skipbtn_use),this.centerContainer.prev.children[0].children[0].innerHTML=model.skipbtn_use,this.centerContainer.next.children[0].children[0].innerHTML=model.skipbtn_use):(this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none"),"on"==model.time_use?this.timeBox.enable=!0:this.timeBox.enable=!1,model.replay_use,"on"==model.volume_use?this.centerContainer.sound.enable=!0:this.centerContainer.sound.enable=!1,"on"==model.watermark_use?(this.centerContainer.enable=!0,this.centerContainer.play_p.enable=!0):(this.centerContainer.enable=!0,this.centerContainer.prev.style.display="none",this.centerContainer.play.style.display="none",this.centerContainer.next.style.display="none",this.centerContainer.play_p.enable=!1),"on"==model.controlbar_use?(this.footer.enable=!0,this.captionContainer.node.style.bottom="50px"):(this.footer.enable=!1,model.time_use="off",this.timeBox.enable=!1,model.volume_use="off",this.centerContainer.sound.enable=!1,this.useClosedCaption=!1,this.centerContainer.telop.enable=!1,this.useMultibitrate=!1,this.centerContainer.resolution.enable=!1,model.playbackRate=null,this.centerContainer.speed.enable=!1,model.fullscreen_use="off",this.centerContainer.fullscreen.enable=!1,this.captionContainer.node.style.bottom="10px"),"on"==model.init_play&&this.setMute(!0),this.cover.thumbnail=this.playerInstans.accessor.model.thumbnail_url,this.cover.showThumbnail(!0),this.unmuteBtn&&(this.video.node.muted||0==this.video.node.volume)){var top=40;this.header.enable&&(top=70),this.unmuteBtn.style.top=top+"px",this.unmuteBtn.style.display="block",this.unmuteBtn.onclick=function(){_this.setMute(!1),_this.unmuteBtn&&(_this.player.removeChild(_this.unmuteBtn),_this.unmuteBtn=null)}}else this.unmuteBtn=null},HTML5Player_t3.prototype.setEvent=function(){var _this=this;window.addEventListener("resize",function(){_this.telopballoon.visible=!1,_this.speedballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.closeSelectMenu()}),document.addEventListener("keydown",function(e){if("off"!=_this.playerInstans.accessor.model.useShortcutKey&&document.activeElement==_this.parent){_this.isKeyDown=!0,_this.addEventListenerOnce(document,"keyup",function(){_this.isKeyDown=!1});var model=_this.playerInstans.accessor.model;if(13!=e.keyCode&&32!=e.keyCode||(e.preventDefault&&e.preventDefault(),"playing"==_this.video.state?_this.pause():_this.play()),36==e.keyCode){if(e.preventDefault&&e.preventDefault(),!_this.seekbar.enable)return;_this.showController(!0),_this.setCurrentTime(0)}if(35==e.keyCode){var time=0;if(e.preventDefault&&e.preventDefault(),!_this.seekbar.enable)return;_this.showController(!0),time=_this.playerInstans.accessor.getTotalTime(),_this.setCurrentTime(time-1)}if(37==e.keyCode){time=0;if(e.preventDefault&&e.preventDefault(),!_this.seekbar.enable)return;_this.showController(!0),(time=_this.getCurrentTime()-_this.SEEK_BTN_TIME)>0?_this.setCurrentTime(time):_this.setCurrentTime(0)}if(39==e.keyCode){var totalTime;time=0;if(e.preventDefault&&e.preventDefault(),!_this.seekbar.enable)return;_this.showController(!0),(time=_this.getCurrentTime()+_this.SEEK_BTN_TIME)<(totalTime=_this.playerInstans.accessor.getTotalTime())?_this.setCurrentTime(time):_this.setCurrentTime(totalTime-1)}if(e.keyCode>=48&&e.keyCode<=57){time=0;if(e.preventDefault&&e.preventDefault(),!_this.seekbar.enable)return;_this.showController(!0),time=_this.playerInstans.accessor.getTotalTime(),_this.setCurrentTime(time*(.1*(e.keyCode-48)))}if(77==e.keyCode){if(e.preventDefault&&e.preventDefault(),"off"==_this.playerInstans.accessor.model.volume_use||"off"==_this.playerInstans.accessor.model.controlbar_use)return;_this.showController(!0),_this.setMute(!_this.video.node.muted),_this.telopballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.speedballoon.visible=!1,_this.closeSelectMenu()}if(38==e.keyCode){if(e.preventDefault&&e.preventDefault(),"off"==_this.playerInstans.accessor.model.volume_use||"off"==_this.playerInstans.accessor.model.controlbar_use)return;var volume=0;_this.showController(!0),_this.soundballoon.visible=!0,(volume=.01*(_this.soundballoon.value+5))>1?_this.setVolume(1):volume<0?_this.setVolume(0):_this.setVolume(volume),clearTimeout(_this.volumeVisibleTimer),_this.volumeVisibleTimer=setTimeout(function(){_this.isSoundOperating=!1,_this.soundballoon.visible=!1},3e3)}if(40==e.keyCode){if(e.preventDefault&&e.preventDefault(),"off"==_this.playerInstans.accessor.model.volume_use||"off"==_this.playerInstans.accessor.model.controlbar_use)return;volume=0;_this.showController(!0),_this.soundballoon.visible=!0,(volume=.01*(_this.soundballoon.value-5))>1?_this.setVolume(1):volume<0?_this.setVolume(0):_this.setVolume(volume),clearTimeout(_this.volumeVisibleTimer),_this.volumeVisibleTimer=setTimeout(function(){_this.isSoundOperating=!1,_this.soundballoon.visible=!1},3e3)}if(70==e.keyCode){if("off"==_this.playerInstans.accessor.model.fullscreen_use||"off"==_this.playerInstans.accessor.model.controlbar_use)return;model.fullscreen_use&&(_this.overlayContainer.movies.visible=!1,_this.overlayContainer.links.visible=!1,_this.overlayContainer.share.visible=!1,_this.changeFullscreen())}}}),this.player.addEventListener("mouseleave",function(e){if(!_this.isSeeking&&!_this.isLoading){if(e.toElement){for(var i=0;i<_this.player.children.length;i++)if(e.toElement==_this.player.children[i])return;if(e.toElement==_this.seekbar.container)return}"playing"==_this.video.state?_this.showController(!1):"pause"==_this.video.state&&_this.showController(!1)}}),this.player.addEventListener("mousemove",function(e){_this.isSeeking||_this.isLoading||_this.showController(!0)}),this.cover.node.addEventListener("click",function(){"playing"==_this.video.state?_this.pause():_this.play()});var footer=this.footer;footer.play.node.addEventListener("click",function(){"playing"==_this.video.state?_this.pause():_this.play()}),footer.fullscreen.node.addEventListener("click",function(){_this.changeFullscreen()}),footer.telop.node.addEventListener("click",function(){if(_this.telopballoon.visible)_this.telopballoon.visible=!1,_this.telopballoon.ul.style.overflowY="visible",_this.closeSelectMenu();else{clearTimeout(_this.controllerVisibleTimer),_this.telopballoon.visible=!0;var currentHeight=_this.telopballoon.node.clientHeight;currentHeight<_this.telopballoon.node.scrollHeight&&(currentHeight=_this.telopballoon.node.scrollHeight),currentHeight+50>_this.player.clientHeight?(_this.telopballoon.ul.style.display="block",_this.telopballoon.ul.style.overflowY="scroll",_this.telopballoon.ul.style.height=_this.player.clientHeight-46-24-10+"px"):(_this.telopballoon.ul.style.display="table",_this.telopballoon.ul.style.overflowY="hidden",_this.telopballoon.ul.style.height="100%");var slot=-1,balloonRight=0,balloonPinRight=0,model=_this.playerInstans.accessor.model;if(_this.useClosedCaption&&footer.telop.visible){switch(slot=4,_this.useMultibitrate&&footer.resolution.visible||(slot-=1),model.playbackRate&&footer.speed.visible||(slot-=1),"off"!=model.fullscreen_use&&footer.fullscreen.visible||(slot-=1),slot){case 1:(balloonRight=_this.footer_slot1-_this.telopballoon.node.clientWidth/2)<=0&&(balloonPinRight=20);break;case 2:(balloonRight=_this.footer_slot2-_this.telopballoon.node.clientWidth/2)<=0&&(balloonPinRight=55);break;case 3:(balloonRight=_this.footer_slot3-_this.telopballoon.node.clientWidth/2)<=0&&(balloonPinRight=90);break;case 4:(balloonRight=_this.footer_slot4-_this.telopballoon.node.clientWidth/2)<=0&&(balloonPinRight=122)}balloonRight<0?(balloonRight=0,_this.telopballoon.pin.style.right=balloonPinRight.toString()+"px"):_this.telopballoon.pin.className="eq-pin",_this.telopballoon.node.style.right=balloonRight.toString()+"px"}}_this.resolutionballoon.visible=!1,_this.resolutionballoon.ul.style.overflowY="visible",_this.speedballoon.visible=!1,_this.speedballoon.ul.style.overflowY="visible"}),footer.resolution.node.addEventListener("click",function(){if(_this.telopballoon.visible=!1,_this.resolutionballoon.visible)_this.resolutionballoon.visible=!1,_this.resolutionballoon.ul.style.overflowY="visible",_this.closeSelectMenu();else{clearTimeout(_this.controllerVisibleTimer),_this.resolutionballoon.visible=!0;var currentHeight=_this.resolutionballoon.node.clientHeight;currentHeight<_this.resolutionballoon.node.scrollHeight&&(currentHeight=_this.resolutionballoon.node.scrollHeight),currentHeight+50>_this.player.clientHeight?(_this.resolutionballoon.ul.style.display="block",_this.resolutionballoon.ul.style.overflowY="scroll",_this.resolutionballoon.ul.style.height=_this.player.clientHeight-49-24-10+"px"):(_this.resolutionballoon.ul.style.display="table",_this.resolutionballoon.ul.style.overflowY="hidden",_this.resolutionballoon.ul.style.height="100%");var slot=-1,balloonRight=0,balloonPinRight=0,model=_this.playerInstans.accessor.model;if(_this.useMultibitrate&&footer.resolution.visible){switch(slot=3,model.playbackRate&&footer.speed.visible||(slot-=1),"off"!=model.fullscreen_use&&footer.fullscreen.visible||(slot-=1),slot){case 1:(balloonRight=_this.footer_slot1-_this.resolutionballoon.node.clientWidth/2)<=0&&(balloonPinRight=20);break;case 2:(balloonRight=_this.footer_slot2-_this.resolutionballoon.node.clientWidth/2)<=0&&(balloonPinRight=55);break;case 3:(balloonRight=_this.footer_slot3-_this.resolutionballoon.node.clientWidth/2)<=0&&(balloonPinRight=90)}balloonRight<0?(balloonRight=0,_this.resolutionballoon.pin.style.right=balloonPinRight.toString()+"px"):_this.resolutionballoon.pin.className="eq-pin",_this.resolutionballoon.node.style.right=balloonRight.toString()+"px"}}_this.telopballoon.visible=!1,_this.telopballoon.ul.style.overflowY="visible",_this.speedballoon.visible=!1,_this.speedballoon.ul.style.overflowY="visible"}),footer.speed.node.addEventListener("click",function(){if(_this.telopballoon.visible=!1,_this.telopballoon.ul.style.overflowY="visible",_this.resolutionballoon.visible=!1,_this.resolutionballoon.ul.style.overflowY="visible",_this.speedballoon.visible)_this.speedballoon.visible=!1,_this.speedballoon.ul.style.overflowY="visible",_this.closeSelectMenu();else{clearTimeout(_this.controllerVisibleTimer),_this.speedballoon.visible=!0;var currentHeight=_this.speedballoon.node.clientHeight;currentHeight<_this.speedballoon.node.scrollHeight&&(currentHeight=_this.speedballoon.node.scrollHeight),currentHeight+50>_this.player.clientHeight?(_this.speedballoon.ul.style.display="block",_this.speedballoon.ul.style.overflowY="scroll",_this.speedballoon.ul.style.height=_this.player.clientHeight-46-24-10+"px"):(_this.speedballoon.ul.style.display="table",_this.speedballoon.ul.style.overflowY="hidden",_this.speedballoon.ul.style.height="100%");var slot=-1,balloonRight=0,balloonPinRight=0;switch(slot=2,"off"!=_this.playerInstans.accessor.model.fullscreen_use&&footer.fullscreen.visible||(slot-=1),slot){case 1:(balloonRight=_this.footer_slot1-_this.speedballoon.node.clientWidth/2)<=0&&(balloonPinRight=20);break;case 2:(balloonRight=_this.footer_slot2-_this.speedballoon.node.clientWidth/2)<=0&&(balloonPinRight=55)}balloonRight<0?(balloonRight=0,_this.speedballoon.pin.style.right=balloonPinRight.toString()+"px"):_this.speedballoon.pin.className="eq-pin",_this.speedballoon.node.style.right=balloonRight.toString()+"px"}}),footer.sound.node.addEventListener("click",function(){_this.setMute(!_this.video.node.muted),_this.telopballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.speedballoon.visible=!1,_this.closeSelectMenu()}),footer.sound.node.addEventListener("mouseover",function(){_this.isSeeking||(_this.soundballoon.visible=!0,_this.onMouseSound=!0)}),footer.sound.node.addEventListener("mouseout",function(){_this.onMouseSound=!1,setTimeout(function(){_this.onMouseSound||(_this.soundballoon.visible=!1)},500)}),footer.prev.node.addEventListener("click",function(){var time;time=_this.getCurrentTime(),_this.setCurrentTime(time-_this.SEEK_BTN_TIME)}),footer.next.node.addEventListener("click",function(){var time;time=_this.getCurrentTime(),_this.setCurrentTime(time+_this.SEEK_BTN_TIME)}),this.soundballoon.node.addEventListener("mouseover",function(){_this.soundballoon.visible=!0,_this.onMouseSound=!0}),this.soundballoon.node.addEventListener("mouseout",function(){_this.onMouseSound=!1,setTimeout(function(){_this.onMouseSound||(_this.soundballoon.visible=!1)},500)});var subContainer=this.subContainer,overlayContainer=this.overlayContainer;subContainer.movies.addEventListener("click",function(){_this.preOpenState=_this.video.state,_this.player.clientWidth>=_this.PLAYER_WIDTH_SMALL&&_this.player.clientHeight>=_this.PLAYER_HEIGHT_SMALL&&(overlayContainer.movies.closeBtn.style.top="30px"),overlayContainer.movies.open(),overlayContainer.links.visible=!1,overlayContainer.share.visible=!1,_this.telopballoon.visible=!1,_this.speedballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.pause()}),subContainer.links.addEventListener("click",function(){_this.preOpenState=_this.video.state,_this.player.clientWidth>=_this.PLAYER_WIDTH_SMALL&&_this.player.clientHeight>=_this.PLAYER_HEIGHT_SMALL&&(overlayContainer.links.closeBtn.style.top="30px"),overlayContainer.movies.visible=!1,overlayContainer.links.open(_this.player.clientWidth),overlayContainer.share.visible=!1,_this.telopballoon.visible=!1,_this.speedballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.pause()}),subContainer.share.addEventListener("click",function(){_this.preOpenState=_this.video.state,_this.player.clientWidth>=_this.PLAYER_WIDTH_SMALL&&_this.player.clientHeight>=_this.PLAYER_HEIGHT_SMALL&&(overlayContainer.share.closeBtn.style.top="30px"),overlayContainer.movies.visible=!1,overlayContainer.links.visible=!1,overlayContainer.share.visible=!0,_this.telopballoon.visible=!1,_this.speedballoon.visible=!1,_this.resolutionballoon.visible=!1,overlayContainer.share.node.children[0].children[3].children[0].select(),_this.pause()}),subContainer.chapter.addEventListener("click",function(){overlayContainer.movies.visible=!1,overlayContainer.links.visible=!1,overlayContainer.share.visible=!1,_this.telopballoon.visible=!1,_this.speedballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.chapter.visible=!0,_this.chapter.node.classList.add("eq-chapter-slideInRight")}),this.centerContainer.node.addEventListener("click",function(e){e.target.classList.contains("eq-area-center")&&("playing"==_this.video.state?_this.pause():_this.play())}),this.centerContainer.play.addEventListener("click",function(){"playing"==_this.video.state?_this.pause():_this.play()}),this.centerContainer.prev.addEventListener("click",function(){var time;time=_this.getCurrentTime(),_this.setCurrentTime(time-_this.SEEK_BTN_TIME)}),this.centerContainer.next.addEventListener("click",function(){var time;time=_this.getCurrentTime(),_this.setCurrentTime(time+_this.SEEK_BTN_TIME)}),this.centerContainer.replay.addEventListener("click",function(){_this.replay()}),this.playerInstans.accessor.addEventListener("canPlayHls",function(){_this.canPlayHls=!0}),document.addEventListener("seek_operation_start",function(){_this.isSeeking=!0,_this.preSeekState=_this.video.state,_this.pause()}),document.addEventListener("seek_operation_end",function(){var setTime=_this.getDuration()*(_this.seekbar.value/100);_this.setCurrentTime(setTime),"playing"==_this.preSeekState&&_this.play(),_this.isSeeking=!1}),document.addEventListener("sound_operation_start",function(){_this.isSoundOperating=!0}),document.addEventListener("sound_operation_end",function(){_this.setVolume(_this.soundballoon.value/100),setTimeout(function(){_this.isSoundOperating=!1},500)}),document.addEventListener("closeOverlay",function(){"playing"==_this.preOpenState&&"ended"!=_this.video.state&&_this.play()}),this.video.node.addEventListener("playing",function(){_this.video.node.playbackRate=_this.playbackRate,setTimeout(function(){_this.video.node.playbackRate!=_this.playbackRate&&(_this.video.node.playbackRate=_this.playbackRate)},500),_this.showLoading(!1)}),this.video.node.addEventListener("seeked",function(){_this.showLoading(!1)}),this.video.node.addEventListener("seeking",function(){_this.showLoading(!0)}),this.video.node.addEventListener("ended",function(){try{if(_this.isLive)return void _this.liveEnded();var model=_this.playerInstans.accessor.model;if("on"==model.loop_use)return void _this.loop();if(_this.getAutoadvance()&&_this.advancePlaylist()>-1)return;_this.subContainer.enable&&(_this.useMovies?_this.overlayContainer.movies.open():_this.useExLink?_this.overlayContainer.links.open(_this.player.clientWidth):(_this.useSns||"off"!=model.tag_use)&&(_this.overlayContainer.share.visible=!0,_this.overlayContainer.share.node.children[0].children[3].children[0]&&_this.overlayContainer.share.node.children[0].children[3].children[0].select())),_this.platform.isIE&&"1"==_this.playerInstans.model.pd_enable&&_this.video.load(_this.playerInstans)}catch(e){}}),this.video.node.addEventListener("error",function(e){_this.set_info_error(e.target.error.code)}),this.overlayContainer.auth.inputBtn.addEventListener("click",function(){_this.overlayContainer.auth.close();var values=_this.overlayContainer.auth.getValue();_this.playerInstans.accessor.login(values.id,values.pass)}),this.overlayContainer.auth.idBox.addEventListener("keydown",function(e){var values=_this.overlayContainer.auth.getValue();13==e.keyCode&&values.id&&values.pass&&(_this.overlayContainer.auth.close(),_this.playerInstans.accessor.login(values.id,values.pass))}),this.overlayContainer.auth.passwordBox.addEventListener("keydown",function(e){var values=_this.overlayContainer.auth.getValue();13==e.keyCode&&values.id&&values.pass&&(_this.overlayContainer.auth.close(),_this.playerInstans.accessor.login(values.id,values.pass))}),document.addEventListener("closeSelectMenu",function(){_this.controllerVisibleTimer=setTimeout(function(){"playing"==_this.video.state&&_this.showController(!1)},3e3)})},HTML5Player_t3.prototype.setEventMobile=function(){var _this=this;window.addEventListener("resize",function(){_this.setStyleMobile()}),this.cover.node.addEventListener("click",function(){return _this.selectTelop.visible?(_this.selectTelop.visible=!1,_this.showSelectList(!1),void(_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3))):_this.selectResolution.visible?(_this.selectResolution.visible=!1,_this.showSelectList(!1),void(_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3))):_this.selectSpeed.visible?(_this.selectSpeed.visible=!1,_this.showSelectList(!1),void(_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3))):void(_this.isControllerVisible?"playing"==_this.video.state?_this.pause():_this.play():_this.showController(!0))});var subContainer=this.subContainer,overlayContainer=this.overlayContainer;subContainer.movies.addEventListener("click",function(){_this.preOpenState=_this.video.state,overlayContainer.movies.open(),overlayContainer.links.visible=!1,overlayContainer.share.visible=!1,_this.pause()}),subContainer.links.addEventListener("click",function(){_this.preOpenState=_this.video.state,overlayContainer.movies.visible=!1,overlayContainer.links.open(_this.player.clientWidth),overlayContainer.share.visible=!1,_this.pause()}),subContainer.share.addEventListener("click",function(){_this.preOpenState=_this.video.state,overlayContainer.movies.visible=!1,overlayContainer.links.visible=!1,overlayContainer.share.visible=!0,_this.pause()}),subContainer.chapter.addEventListener("click",function(){overlayContainer.movies.visible=!1,overlayContainer.links.visible=!1,overlayContainer.share.visible=!1,_this.chapter.visible=!0});var centerContainer=this.centerContainer;centerContainer.node.addEventListener("click",function(e){e.target.classList.contains("eq-area-center")&&("playing"==_this.video.state?_this.pause():_this.play())}),centerContainer.play.addEventListener("click",function(){"playing"==_this.video.state?_this.pause():_this.play()}),centerContainer.prev.addEventListener("click",function(){var time;time=_this.getCurrentTime(),_this.setCurrentTime(time-_this.SEEK_BTN_TIME)}),centerContainer.next.addEventListener("click",function(){var time;time=_this.getCurrentTime(),_this.setCurrentTime(time+_this.SEEK_BTN_TIME)}),centerContainer.replay.addEventListener("click",function(){_this.replay()}),centerContainer.play_p.node.addEventListener("click",function(){event.target.parentElement.classList.contains("eq-icon-replay")?_this.replay():"playing"==_this.video.state?_this.pause():_this.play()}),centerContainer.fullscreen.node.addEventListener("click",function(){_this.changeFullscreen()}),centerContainer.telop.node.addEventListener("click",function(){_this.selectTelop.visible?(_this.selectTelop.visible=!1,_this.showSelectList(!1),_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)):(_this.showSelectList(!0),_this.selectTelop.visible=!0,clearInterval(_this.controllerVisibleTimer)),_this.selectResolution.visible=!1,_this.selectSpeed.visible=!1}),centerContainer.resolution.node.addEventListener("click",function(){_this.selectTelop.visible=!1,_this.selectResolution.visible?(_this.selectResolution.visible=!1,_this.showSelectList(!1),_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)):(_this.showSelectList(!0),_this.selectResolution.visible=!0,clearInterval(_this.controllerVisibleTimer)),_this.selectSpeed.visible=!1}),centerContainer.speed.node.addEventListener("click",function(){_this.selectTelop.visible=!1,_this.selectResolution.visible=!1,_this.selectSpeed.visible?(_this.selectSpeed.visible=!1,_this.showSelectList(!1),_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)):(_this.showSelectList(!0),_this.selectSpeed.visible=!0,clearInterval(_this.controllerVisibleTimer))}),centerContainer.sound.node.addEventListener("click",function(){_this.setMute(!_this.video.node.muted),_this.selectTelop.visible=!1,_this.selectResolution.visible=!1,_this.selectSpeed.visible=!1,_this.showSelectList(!1)}),this.playerInstans.accessor.addEventListener("canPlayHls",function(){_this.canPlayHls=!0}),document.addEventListener("seek_operation_start",function(){_this.isSeeking=!0,_this.preSeekState=_this.video.state,_this.pause()}),document.addEventListener("seek_operation_end",function(){var setTime=_this.getDuration()*(_this.seekbar.value/100);_this.setCurrentTime(setTime),"playing"==_this.preSeekState&&_this.play(),_this.isSeeking=!1}),document.addEventListener("closeSelectMenu",function(){_this.isFirstPlay?_this.showSelectList(!1):_this.showController(!0),_this.controllerVisibleTimer=setTimeout(function(){"playing"==_this.video.state&&_this.showController(!1)},3e3)}),document.addEventListener("closeOverlay",function(){"playing"==_this.preOpenState&&"ended"!=_this.video.state&&_this.play()}),this.video.node.addEventListener("playing",function(){_this.showLoading(!1)}),this.video.node.addEventListener("seeked",function(){_this.showLoading(!1)}),this.video.node.addEventListener("seeking",function(){_this.showLoading(!0)}),this.video.node.addEventListener("ended",function(){try{if(_this.isLive)return void _this.liveEnded();if("on"==_this.playerInstans.accessor.model.loop_use)return void _this.loop();if(_this.getAutoadvance()&&_this.advancePlaylist()>-1)return;_this.subContainer.enable&&(_this.useMovies?_this.overlayContainer.movies.open():_this.useExLink?_this.overlayContainer.links.open(_this.player.clientWidth):_this.useSns&&(_this.overlayContainer.share.visible=!0,_this.overlayContainer.share.node.children[0].children[3].children[0]&&_this.overlayContainer.share.node.children[0].children[3].children[0].select())),"iOS"==_this.platform.os.name&&_this.video.load(_this.playerInstans)}catch(e){}}),this.video.node.addEventListener("error",function(e){_this.set_info_error(e.target.error.code)}),this.overlayContainer.auth.inputBtn.addEventListener("click",function(){_this.overlayContainer.auth.close();var values=_this.overlayContainer.auth.getValue();_this.playerInstans.accessor.login(values.id,values.pass)})},HTML5Player_t3.prototype.dispatchReady=function(){},HTML5Player_t3.prototype.showSelectList=function(visible){this.isShowSelectMenu=visible,visible?(this.header.visible=!1,this.footer.visible=!1,this.centerContainer.visible=!1,this.subContainer.visible=!1,this.timeBox.visible=!1):(this.header.visible=!0,this.footer.visible=!0,this.centerContainer.visible=!0,this.subContainer.visible=!0,this.timeBox.visible=!0)},HTML5Player_t3.prototype.isResponsive=function(){return"on"==this.playerInstans.accessor.model.responsive||"fit"==this.playerInstans.accessor.model.responsive},HTML5Player_t3.prototype.linkAction=function(type,index){var url;if("exlink"==type)type+=(index+1).toString(),url=this.overlayContainer.links.relationList[index].url;else{if("movies"==type)return this.isFirstPlay||(this.playerInstans.accessor.model.isFirsttimePlay=!1),this.isMobile()&&(this.isFirstPlay=!0,this.centerContainer.replay.style.display="none",this.centerContainer.play_p.node.className=this.centerContainer.play_p.node.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-play")),this.overlayContainer.movies.visible=!1,void this.playerInstans.accessor.reConstruct(this.overlayContainer.movies.relationList[index].meta_id);switch(type){case"facebook":url="http://www.facebook.com/share.php?u="+encodeURIComponent(this.playerInstans.flashVars.parent_url);break;case"twitter":url="http://twitter.com/share?text="+encodeURIComponent(this.playerInstans.flashVars.title||"")+"&url="+encodeURIComponent(this.playerInstans.flashVars.parent_url);break;case"google":url="https://plusone.google.com/share?url="+encodeURIComponent(this.playerInstans.flashVars.parent_url);break;case"line":var query=(this.playerInstans.flashVars.title||"")+" "+this.playerInstans.flashVars.parent_url;url="http://line.me/R/msg/text/?"+(query=encodeURIComponent(query))}}window.open("","_blank").location.href=url,this.setBeacon(type)},HTML5Player_t3.prototype.setBeacon=function(tag){this.playerInstans.accessor.sendClickBeacon(tag)},HTML5Player_t3.prototype.changeFullscreen=function(){if(this.checkFullscreen()){if("iOS"==this.platform.os.name)return;null!=document.exitFullscreen?document.exitFullscreen():null!=document.mozCancelFullScreen?document.mozCancelFullScreen():null!=document.webkitCancelFullScreen?document.webkitCancelFullScreen():null!=document.msExitFullscreen&&document.msExitFullscreen(),this.isMobile()?this.centerContainer.fullscreen.node.className="eq-icon-fullscreen":this.footer.fullscreen.node.className="eq-icon-fullscreen",this.isResponsive()||(this.parent.style.width=this.playerInstans.accessor.model.width+"px",this.parent.style.height=this.playerInstans.accessor.model.height+"px",this.parent.style.position="relative")}else{if(this.playerInstans.accessor.onPlayerEvent("fullscreen"),"iOS"==this.platform.os.name)return void this.video.node.webkitEnterFullScreen();null!=this.parent.requestFullScreen?this.parent.requestFullScreen():null!=this.parent.msRequestFullscreen?this.parent.msRequestFullscreen():null!=this.parent.mozRequestFullScreen?this.parent.mozRequestFullScreen():null!=this.parent.webkitRequestFullScreen?this.parent.webkitRequestFullScreen():null!=this.parent.webkitEnterFullScreen?this.parent.webkitEnterFullScreen():null!=this.video.node.webkitRequestFullScreen?this.video.node.webkitRequestFullScreen():null!=this.video.node.webkitEnterFullScreen&&this.video.node.webkitEnterFullScreen(),this.isMobile()?this.centerContainer.fullscreen.node.className="eq-icon-fullscreen_close":this.footer.fullscreen.node.className="eq-icon-fullscreen-disable",this.isResponsive()||"Macintosh"==this.platform.os.name||(this.parent.style.width="100%",this.parent.style.height="100%",this.parent.style.position="absolute"),(window.jstream_t3.utils.Util.isAndroidMobile()||"Macintosh"==this.platform.os.name)&&(this.parent.style.top="0px")}},HTML5Player_t3.prototype.checkFullscreen=function(){var isFullscreen;if(isFullscreen=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||this.video.node.webkitDisplayingFullscreen){if(this.player.clientWidth>=this.PLAYER_WIDTH_NOMAL&&this.player.classList.add("eq-fullscreen"),!this.isResponsive())this.parent.style.width="100%",this.parent.style.height="100%",this.parent.style.position="absolute",(footer=document.getElementById("footer-"+this.playerInstans.accessor.model.objectID))&&(footer.style.opacity="0");(window.jstream_t3.utils.Util.isAndroidMobile()||"Macintosh"==this.platform.os.name)&&(this.parent.style.top="0px")}else{var footer;if(this.player.clientWidth<this.PLAYER_WIDTH_NOMAL)if(this.player.classList.remove("eq-fullscreen"),this.isMobile()?this.centerContainer.fullscreen.node.className="eq-icon-fullscreen":this.footer.fullscreen.node.className="eq-icon-fullscreen",!this.isResponsive())this.parent.style.width=this.playerInstans.accessor.model.width+"px",this.parent.style.height=this.playerInstans.accessor.model.height+"px",this.parent.style.position="relative",(footer=document.getElementById("footer-"+this.playerInstans.accessor.model.objectID))&&(footer.style.opacity="1");this.video.node.removeAttribute("controls")}return isFullscreen},HTML5Player_t3.prototype.updateController=function(){this.playerWidth==this.player.clientWidth&&this.playerHeight==this.player.clientHeight||this.setStyle(),this.playerWidth=this.player.clientWidth,this.playerHeight=this.player.clientHeight,this.isFirstPlay&&!this.isLoading?(this.controllerVisibleTimer&&clearTimeout(this.controllerVisibleTimer),this.centerContainer.enable&&(this.centerContainer.play.style.display="block",this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.centerContainer.replay.style.display="none")):"playing"!=this.video.state||this.isLoading?"pause"!=this.video.state||this.isLoading?"ended"!=this.video.state||this.isLoading?this.video.state:(this.controllerVisibleTimer&&clearTimeout(this.controllerVisibleTimer),this.centerContainer.play.classList.remove("isFirstPlay"),this.cover.showThumbnail(!0),this.centerContainer.visible=!0,this.centerContainer.enable&&("off"!=this.playerInstans.accessor.model.replaybtn_use?(this.centerContainer.play.style.display="none",this.centerContainer.replay.style.display="block"):this.centerContainer.play.className="eq-center-icon-play",this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none"),"off"!=this.playerInstans.accessor.model.replaybtn_use?this.footer.play.node.className="eq-icon-replay":this.footer.play.node.className="eq-icon-play",this.showController(!0)):(this.controllerVisibleTimer&&clearTimeout(this.controllerVisibleTimer),this.isControllerVisible&&(this.centerContainer.visible=!0),this.centerContainer.enable&&(this.footer.play.node.className="eq-icon-play",this.centerContainer.play.className="eq-center-icon-play",this.centerContainer.play.style.display="block",this.isSkipBtnEnable(this.playerInstans.accessor.model)&&(this.centerContainer.prev.style.display="block",this.centerContainer.next.style.display="block"),this.centerContainer.replay.style.display="none"),this.footer.play.node.className="eq-icon-play"):(this.footer.play.node.className="eq-icon-pause",this.centerContainer.enable&&(this.centerContainer.play.className="eq-center-icon-pause",this.centerContainer.play.style.display="block",this.isSkipBtnEnable(this.playerInstans.accessor.model)&&(this.centerContainer.prev.style.display="block",this.centerContainer.next.style.display="block"),this.centerContainer.replay.style.display="none"),this.seekbar.enable&&this.isControllerVisible&&(this.seekbar.visible=!0))},HTML5Player_t3.prototype.updateControllerMobile=function(){if(!this.waitHlsTimer){var player_clientWidth=this.player.clientWidth,player_clientHeight=this.player.clientHeight;this.playerWidth==player_clientWidth&&this.playerHeight==player_clientHeight||(this.setStyleMobile(),this.playerWidth=player_clientWidth,this.playerHeight=player_clientHeight),this.isFirstPlay&&!this.isLoading?(this.controllerVisibleTimer&&clearTimeout(this.controllerVisibleTimer),this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.seekbar.visible=!1,this.centerContainer.play.classList.add("isFirstPlay"),"off"!=this.playerInstans.accessor.model.watermark_use&&(this.playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL?(this.centerContainer.play.style.display="block",this.centerContainer.play_p.visible=!1):(this.centerContainer.play.style.display="none",this.centerContainer.play_p.visible=!0)),"iOS"!=this.platform.os.name&&"Android"!=this.platform.os.name||(this.centerContainer.fullscreen.visible=!1,this.centerContainer.speed.visible?(this.centerContainer.speed.node.classList.add("isFirstPlay"),this.lastChild=this.centerContainer.speed):this.centerContainer.resolution.visible?(this.centerContainer.resolution.node.classList.add("isFirstPlay"),this.lastChild=this.centerContainer.resolution):this.centerContainer.telop.visible?(this.centerContainer.telop.node.classList.add("isFirstPlay"),this.lastChild=this.centerContainer.telop):this.centerContainer.sound.visible?(this.centerContainer.sound.node.classList.add("isFirstPlay"),this.lastChild=this.centerContainer.sound):this.centerContainer.play_p.visible&&(this.centerContainer.play_p.node.classList.add("isFirstPlay"),this.lastChild=this.centerContainer.play_p))):"playing"!=this.video.state||this.isLoading?"pause"!=this.video.state||this.isLoading?"ended"!=this.video.state||this.isLoading?this.video.state:(this.controllerVisibleTimer&&clearTimeout(this.controllerVisibleTimer),this.centerContainer.play.classList.remove("isFirstPlay"),this.cover.showThumbnail(!0),this.centerContainer.enable&&("off"!=this.playerInstans.accessor.model.replaybtn_use?"off"!=this.playerInstans.accessor.model.watermark_use&&(this.centerContainer.play.style.display="none",this.playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL?this.centerContainer.replay.style.display="block":this.centerContainer.play_p.node.className=this.centerContainer.play_p.node.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-replay")):"off"!=this.playerInstans.accessor.model.watermark_use&&(this.centerContainer.play.className=this.centerContainer.play.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-play"),this.centerContainer.play_p.node.className=this.centerContainer.play_p.node.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-play")),this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.showController(!0),clearTimeout(this.controllerVisibleTimer))):(this.controllerVisibleTimer&&clearTimeout(this.controllerVisibleTimer),this.centerContainer.play.classList.remove("isFirstPlay"),this.centerContainer.enable&&("off"!=this.playerInstans.accessor.model.watermark_use&&(this.centerContainer.play.className=this.centerContainer.play.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-play"),this.centerContainer.play_p.node.className=this.centerContainer.play_p.node.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-play"),this.playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL?(this.centerContainer.play.style.display="block",this.centerContainer.play_p.visible=!1):(this.centerContainer.play.style.display="none",this.centerContainer.play_p.visible=!0),this.isSkipBtnEnable(this.playerInstans.accessor.model)&&this.playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL?(this.centerContainer.prev.style.display="block",this.centerContainer.next.style.display="block"):(this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none")),this.centerContainer.replay.style.display="none",this.centerContainer.fullscreen.enable&&(this.centerContainer.fullscreen.visible=!0,this.lastChild&&this.lastChild.node.classList.remove("isFirstPlay"))),this.seekbar.enable&&(this.seekbar.visible=!0)):(this.centerContainer.play.classList.remove("isFirstPlay"),this.centerContainer.enable&&("off"!=this.playerInstans.accessor.model.watermark_use&&(this.centerContainer.play.className=this.centerContainer.play.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-pause"),this.centerContainer.play_p.node.className=this.centerContainer.play_p.node.className.replace(/eq-icon-(play|pause|replay)/,"eq-icon-pause"),this.playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL?(this.centerContainer.play.style.display="block",this.centerContainer.play_p.visible=!1):(this.centerContainer.play.style.display="none",this.centerContainer.play_p.visible=!0),this.isSkipBtnEnable(this.playerInstans.accessor.model)&&this.playerWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.playerHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL?(this.centerContainer.prev.style.display="block",this.centerContainer.next.style.display="block"):(this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none")),this.centerContainer.replay.style.display="none",this.centerContainer.fullscreen.enable&&(this.centerContainer.fullscreen.visible=!0,this.lastChild&&this.lastChild.node.classList.remove("isFirstPlay"))),this.seekbar.enable&&this.isControllerVisible&&(this.seekbar.visible=!0))}},HTML5Player_t3.prototype.updatePlayerStatus=function(){var fullscreen=this.checkFullscreen();this.isFullscreen!=fullscreen&&(this.isFullscreen=fullscreen,fullscreen?(this.footer.fullscreen.node.className="eq-icon-fullscreen-disable",this.isResponsive()||(this.player.style.width="100%",this.player.style.height="100%")):(this.playerInstans.accessor.onPlayerEvent("exitFullscreen"),this.footer.fullscreen.node.className="eq-icon-fullscreen",this.isResponsive()||(this.player.style.width=this.playerInstans.accessor.model.width+"px","on"==this.playerInstans.accessor.model.footer_use?this.player.style.height=this.playerInstans.accessor.model.height-20+"px":this.player.style.height=this.playerInstans.accessor.model.height+"px"))),this.isSeeking||(this.seekbar.updateBufferPosition(this.video.currentBuffer),this.seekbar.updatePosition(this.getCurrentTime()/this.getDuration())),this.isSoundOperating||this.video.node.muted||this.soundballoon.updatePosition(this.video.node.volume),this.footer.setTimeText(this.getCurrentTime()||0,this.getDuration()),this.seekbar.balloon.setTimeText(),this.captionContainer.createSubtitles(this.getCurrentTime()),this.updateController()},HTML5Player_t3.prototype.updatePlayerStatusMobile=function(){var fullscreen=this.checkFullscreen();if(this.isFullscreen!=fullscreen)if(this.isFullscreen=fullscreen,fullscreen){if(this.centerContainer.fullscreen.node.className="eq-icon-fullscreen_close",this.isResponsive()||(this.player.style.width="100%",this.player.style.height="100%"),"iOS"==this.platform.os.name&&this.useClosedCaption)if(0==this.playlist.length)if(1==(index=this.captionContainer.index))for(var i=0;i<this.video.node.textTracks.length;i++)this.video.node.textTracks[i].mode="disabled";else{var subtitle=this.playerInstans.accessor.model.subtitles[index];for(i=0;i<this.video.node.textTracks.length;i++)this.video.node.textTracks[i].label==subtitle.text&&this.video.node.textTracks[i].language==subtitle.lang?this.video.node.textTracks[i].mode="showing":this.video.node.textTracks[i].mode="disabled"}}else{if("playing"!=this.video.state&&clearTimeout(this.controllerVisibleTimer),this.playerInstans.accessor.onPlayerEvent("exitFullscreen"),this.centerContainer.fullscreen.node.className="eq-icon-fullscreen",this.isResponsive()||(this.player.style.width=this.playerInstans.accessor.model.width+"px","on"==this.playerInstans.accessor.model.footer_use?this.player.style.height=this.playerInstans.accessor.model.height-20+"px":this.player.style.height=this.playerInstans.accessor.model.height+"px"),"iOS"==this.platform.os.name){this.pause();var playerMuted=!1;this.player.querySelectorAll(".eq-icon-sound_mute").length>0&&(playerMuted=!0,this.unmuteBtn&&(this.player.removeChild(this.unmuteBtn),this.unmuteBtn=null)),playerMuted!=this.video.node.muted&&this.setSoundIcon(this.video.node.volume,this.video.node.muted,!0,this.centerContainer.sound.node)}if("iOS"==this.platform.os.name&&this.useClosedCaption&&0==this.playlist.length){var video=this.video.node,index=-1;for(i=0;i<video.textTracks.length;i++)"showing"==video.textTracks[i].mode&&(index=i),video.textTracks[i].mode="disabled";if(this.captionContainer.index=1,index>-1)for(i=1;i<this.captionContainer.list.length;i++)video.textTracks[index].label==this.captionContainer.list[i].text&&video.textTracks[index].language==this.captionContainer.list[i].lang&&(this.captionContainer.index=i);var subtitles=this.captionContainer.list;if(!subtitles)return;index<subtitles.length&&this.changeSubtitles(this.captionContainer.index)}}this.isSeeking||(this.seekbar.updateBufferPosition(this.video.currentBuffer),this.seekbar.updatePosition(this.getCurrentTime()/this.getDuration())),this.timeBox.update(this.getCurrentTime(),this.getDuration()),this.captionContainer.createSubtitles(this.getCurrentTime()),this.seekbar.balloon.setTimeText(),this.updateControllerMobile()},HTML5Player_t3.prototype.setPlayerStatusTimer=function(enable){var _this=this;enable?(this.isMobile()?this.updatePlayerStatusMobile():this.updatePlayerStatus(),this.video.currentTime&&this.getDuration()&&this.stallChecker(),setTimeout(function(){_this.setPlayerStatusTimer(!0)},200)):clearInterval(this.playerStatusTimer)},HTML5Player_t3.prototype.stallChecker=function(){var _this=this;this.video.currentTime>this.getDuration()-.05&&!this.video.node.paused&&!this.video.node.ended&&(this.isStall?(this.pause(),setTimeout(function(){var event=new CustomEvent("ended");_this.video.node.dispatchEvent(event),_this.isStall=!1},500)):this.isStall=!0)},HTML5Player_t3.prototype.showController=function(visible){var _this=this;if(!(this.isLoading||this.isSeeking||this.isFirstPlay)){if(clearTimeout(this.controllerVisibleTimer),visible==this.isControllerVisible)return this.isControllerVisible=visible,void(visible?(this.header.visible=!0,this.subContainer.visible=!0,this.centerContainer.visible=!0,this.footer.visible=!0,this.seekbar.visible=!0,this.liveMark&&(this.liveMark.style.display="block"),this.viewers&&(this.viewers.style.display="block"),this.unmuteBtn&&(this.unmuteBtn.style.display="block"),this.timeBox&&(this.timeBox.visible=!0),this.isMobile()?this.captionContainer.node.style.bottom="50px":(this.player.clientWidth<this.PLAYER_WIDTH_NOMAL?this.captionContainer.node.style.bottom="40px":this.captionContainer.node.style.bottom="70px","playing"==this.video.state&&(this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3))),this.header.node.classList.remove("eq-fadeOut"),this.subContainer.node.classList.remove("eq-fadeOut"),this.centerContainer.node.classList.remove("eq-fadeOut"),this.footer.node.classList.remove("eq-fadeOut"),this.seekbar.node.classList.remove("eq-fadeOut"),this.timeBox&&this.timeBox.node.classList.remove("eq-fadeOut")):(this.header.visible=!1,this.subContainer.visible=!1,this.centerContainer.visible=!1,this.footer.visible=!1,this.seekbar.visible=!1,this.liveMark&&(this.liveMark.style.display="none"),this.viewers&&(this.viewers.style.display="none"),this.unmuteBtn&&(this.unmuteBtn.style.display="none"),this.timeBox&&(this.timeBox.visible=!1),this.captionContainer.node.style.bottom="10px"));visible?(this.isControllerVisible=!0,this.header.visible=!0,this.subContainer.visible=!0,this.centerContainer.visible=!0,this.footer.visible=!0,this.seekbar.visible=!0,this.liveMark&&(this.liveMark.style.display="block"),this.viewers&&(this.viewers.style.display="block"),this.unmuteBtn&&(this.unmuteBtn.style.display="block"),this.timeBox&&(this.timeBox.visible=!0),this.isMobile()?this.captionContainer.node.style.bottom="50px":this.player.clientWidth<this.PLAYER_WIDTH_NOMAL?this.captionContainer.node.style.bottom="40px":this.captionContainer.node.style.bottom="70px",this.header.node.classList.remove("eq-fadeOut"),this.subContainer.node.classList.remove("eq-fadeOut"),this.centerContainer.node.classList.remove("eq-fadeOut"),this.footer.node.classList.remove("eq-fadeOut"),this.seekbar.node.classList.remove("eq-fadeOut"),this.timeBox&&(this.timeBox.node.classList.remove("eq-fadeOut"),this.timeBox.node.classList.add("eq-fadeIn")),this.header.node.classList.add("eq-fadeIn"),this.subContainer.node.classList.add("eq-fadeIn"),this.centerContainer.node.classList.add("eq-fadeIn"),this.footer.node.classList.add("eq-fadeIn"),this.seekbar.node.classList.add("eq-fadeIn"),this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)):(this.isControllerVisible=!1,this.header.node.classList.remove("eq-fadeIn"),this.subContainer.node.classList.remove("eq-fadeIn"),this.centerContainer.node.classList.remove("eq-fadeIn"),this.footer.node.classList.remove("eq-fadeIn"),this.seekbar.node.classList.remove("eq-fadeIn"),this.timeBox&&(this.timeBox.node.classList.remove("eq-fadeIn"),this.timeBox.node.classList.add("eq-fadeOut")),this.header.node.classList.add("eq-fadeOut"),this.subContainer.node.classList.add("eq-fadeOut"),this.centerContainer.node.classList.add("eq-fadeOut"),this.footer.node.classList.add("eq-fadeOut"),this.seekbar.node.classList.add("eq-fadeOut"),setTimeout(function(){_this.header.visible=!1,_this.subContainer.visible=!1,_this.centerContainer.visible=!1,_this.footer.visible=!1,_this.seekbar.visible=!1,_this.timeBox&&(_this.timeBox.visible=!1),_this.liveMark&&(_this.liveMark.style.display="none"),_this.viewers&&(_this.viewers.style.display="none"),_this.unmuteBtn&&(_this.unmuteBtn.style.display="none"),_this.isMobile()||(_this.telopballoon.visible=!1,_this.resolutionballoon.visible=!1,_this.speedballoon.visible=!1),_this.captionContainer.node.style.bottom="10px"},300))}},HTML5Player_t3.prototype.closeSelectMenu=function(){var event;event=new CustomEvent("closeSelectMenu"),document.dispatchEvent(event)},HTML5Player_t3.prototype.waitHlsLoading=function(){this.canPlayHls?(clearInterval(this.waitHlsTimer),this.waitHlsTimer=null,this.showLoading(!1),this.playerInstans.accessor.landing()):this.isLoading||this.showLoading(!0)},HTML5Player_t3.prototype.showLoading=function(visible){var _this=this;this.isLoading=visible,visible?(clearTimeout(this.controllerVisibleTimer),this.centerContainer.enable&&(this.centerContainer.visible=!0),this.centerContainer.loading.style.display="block",this.centerContainer.play.style.display="none",this.centerContainer.prev.style.display="none",this.centerContainer.next.style.display="none",this.centerContainer.replay.style.display="none",this.isMobile()&&(this.centerContainer.play_p.visible=!1,this.centerContainer.sound.visible=!1,this.centerContainer.telop.visible=!1,this.centerContainer.resolution.visible=!1,this.centerContainer.speed.visible=!1,this.centerContainer.fullscreen.visible=!1)):(this.centerContainer.loading.style.display="none",this.isMobile()&&(this.player.clientWidth>=this.PLAYER_WIDTH_LANDSCAPE_SMALL&&this.player.clientHeight>=this.PLAYER_HEIGHT_LANDSCAPE_SMALL&&"on"==this.playerInstans.accessor.model.watermark_use&&(this.centerContainer.play.style.display="block",this.isSkipBtnEnable(this.playerInstans.accessor.model)&&!this.isFirstPlay&&(this.centerContainer.prev.style.display="block",this.centerContainer.next.style.display="block")),this.centerContainer.play_p.enable&&(this.centerContainer.play_p.visible=!0),this.centerContainer.sound.enable&&(this.centerContainer.sound.visible=!0),this.centerContainer.telop.enable&&(this.centerContainer.telop.visible=!0),this.centerContainer.resolution.enable&&(this.centerContainer.resolution.visible=!0),this.centerContainer.speed.enable&&(this.centerContainer.speed.visible=!0),this.centerContainer.fullscreen.enable&&!this.isFirstPlay&&(this.centerContainer.fullscreen.visible=!0),this.footer.enable&&(this.footer.visible=!0),this.seekbar.enable&&!this.isFirstPlay&&(this.seekbar.visible=!0),this.timeBox.enable&&(this.timeBox.visible=!0)),clearTimeout(this.controllerVisibleTimer),this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3))},HTML5Player_t3.prototype.setCurrentMovieURL=function(url){this.video.src=url},HTML5Player_t3.prototype.autoadvance=function(enable){this.overlayContainer.movies.autoadvance=enable},HTML5Player_t3.prototype.currentIndex=function(){if(!this.overlayContainer.movies.enable)return-1;for(var i=0;i<this.overlayContainer.movies.relationList_origin.length;i++)if(this.overlayContainer.movies.relationList_origin[i].meta_id==this.playerInstans.accessor.model.meta_id)return i;return 0},HTML5Player_t3.prototype.currentItem=function(index){var _this=this;if(!this.overlayContainer.movies.enable)return{};if(!isNaN(index)&&index>=0&&index<this.overlayContainer.movies.relationList_origin.length){for(var i=0;i<this.overlayContainer.movies.relationList.length;i++)if(this.overlayContainer.movies.relationList_origin[index].meta_id==this.overlayContainer.movies.relationList[i].meta_id)if(this.playerInstans.accessor.onPlayerEvent("beforeplaylistitem"),"playing"==this.video.state){this.addEventListenerOnce(this.video.node,"pause",function(i){return function(){_this.linkAction("movies",i)}}(i)),this.pause()}else this.linkAction("movies",i);return this.overlayContainer.movies.relationList_origin[i]}for(i=0;i<this.overlayContainer.movies.relationList_origin.length;i++)if(this.overlayContainer.movies.relationList_origin[i].meta_id==this.playerInstans.accessor.model.meta_id)return this.overlayContainer.movies.relationList_origin[i];return{}},HTML5Player_t3.prototype.first=function(){this.overlayContainer.movies.enable&&this.currentItem(0)},HTML5Player_t3.prototype.indexOf=function(mid){if(!this.overlayContainer.movies.enable)return-1;var argType=typeof mid;if("number"==argType||"string"==argType){"string"==argType&&(mid=window.jstream_t3.utils.Util.unObfuscate(mid));for(var i=0;i<this.overlayContainer.movies.relationList_origin.length;i++)if(this.overlayContainer.movies.relationList_origin[i].meta_id==mid)return i}return-1},HTML5Player_t3.prototype.last=function(){if(this.overlayContainer.movies.enable){var lastIndex=this.lastIndex();this.currentItem(lastIndex)}},HTML5Player_t3.prototype.lastIndex=function(){return this.overlayContainer.movies.enable?this.overlayContainer.movies.relationList_origin.length-1:-1},HTML5Player_t3.prototype.next=function(){if(this.overlayContainer.movies.enable){var index=this.nextIndex();this.currentItem(index)}},HTML5Player_t3.prototype.nextIndex=function(){if(this.overlayContainer.movies.enable){var nextIndex=this.currentIndex()+1;return this.overlayContainer.movies.relationList_origin.length==nextIndex&&(nextIndex=0),nextIndex}},HTML5Player_t3.prototype.previous=function(){this.overlayContainer.movies.enable&&this.currentItem(this.previousIndex())},HTML5Player_t3.prototype.previousIndex=function(){if(!this.overlayContainer.movies.enable)return-1;var previousIndex=this.currentIndex()-1;return previousIndex<0&&(previousIndex=this.lastIndex()),previousIndex},HTML5Player_t3.prototype.repeat=function(enable){this.overlayContainer.movies.repeat=enable},HTML5Player_t3.prototype.playOnSelect=function(enable){this.overlayContainer.movies.playOnSelect=enable},HTML5Player_t3.prototype.getAutoadvance=function(){return this.overlayContainer.movies.autoadvance},HTML5Player_t3.prototype.getRepeat=function(){return this.overlayContainer.movies.repeat},HTML5Player_t3.prototype.getPlayOnSelect=function(){return this.overlayContainer.movies.playOnSelect},HTML5Player_t3.prototype.getCurrentTime=function(){return this.isFirstPlay?this.playerInstans.accessor.model.start_time||0:this.video.currentTime},HTML5Player_t3.prototype.getDuration=function(){return this.isFirstPlay?this.playerInstans.accessor.model.duration||0:this.video.node.duration},HTML5Player_t3.prototype.getCurrentMovieURL=function(){return this.video.src},HTML5Player_t3.prototype.setCurrentTime=function(time){var _this=this;if(this.playerInstans.accessor.model.isAuthEnable())return this.overlayContainer.auth.open(),void(this.authCover.style.display="none");if("playing"==this.video.state){if(this.preSeekState="playing",!this.isSeeking){var isTimeout=!1;this.pause(),this.addEventListenerOnce(this.video.node,"seeked",function(){isTimeout=!0,_this.play()}),this.isKeyDown||setTimeout(function(){isTimeout||(time-=.5,_this.video.currentTime=time)},3e3)}}else"ended"==this.video.state&&(this.platform.isIE?this.pause():this.video.state="pause");var duration=this.getDuration();return time<=0?time=0:time>=duration&&(time=duration-1),this.isFirstPlay?(this.playerInstans.accessor.model.start_time||(this.playerInstans.accessor.model.start_time=0),this.playerInstans.accessor.model.start_time=time):this.video.currentTime=time,this.playerInstans.accessor.sendPlayerValues(),this.video.currentTime},HTML5Player_t3.prototype.play=function(){var _this=this;if("playing"!=this.video.state){if(this.playerInstans.accessor.model.isAuthEnable())return this.overlayContainer.auth.open(),void(this.authCover.style.display="none");if(!this.playerInstans.accessor.Hls||this.canPlayHls){if(this.isStall=!1,this.showLoading(!0),this.playerInstans.accessor.model.isConnectionEneble()){if(!(this.isMobile()||"Macintosh"==this.platform.os.name&&this.platform.isSafari))return void this.playerInstans.accessor.playCall();this.playerInstans.accessor.playCall()}this.addEventListenerOnce(this.video.node,"playing",function(){_this.cover.showThumbnail(!1),_this.isLive&&_this.parent.querySelector(".eq-livemark").classList.add("animation")}),this.overlayContainer.movies.visible=!1,this.overlayContainer.links.visible=!1,this.overlayContainer.share.visible=!1,this.isMobile()||(this.telopballoon.visible=!1,this.resolutionballoon.visible=!1,this.speedballoon.visible=!1),this.video.node.playbackRate=this.playbackRate,this.playerInstans.accessor.hls?this.playForHlsjs():this.playForNative()}}},HTML5Player_t3.prototype.playForHlsjs=function(){var _this=this;if(this.canPlayHls){var loadPosition=-1;this.isFirstPlay&&(this.playerInstans.accessor.model.start_time>0&&(loadPosition=this.playerInstans.accessor.model.start_time),this.isMobile()?(this.playerInstans.accessor.hls.startLoad(loadPosition),this.video.currentTime=loadPosition):this.playerInstans.accessor.hls.startLoad(loadPosition),this.isFirstPlay=!1,this.video.node.playbackRate=this.playbackRate),this.isLiveStop&&(this.setCurrentTime(this.video.node.seekable.end(0)-30),this.isLiveStop=!1),this.video.play(),this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)}else setTimeout(function(){_this.play()},100)},HTML5Player_t3.prototype.playForNative=function(){var _this=this;if(void 0!==this.playerInstans.accessor.isLanding&&this.playerInstans.accessor.isLanding)if(this.isFirstPlay)if(this.video.load(this.playerInstans),this.isFirstPlay=!1,this.video.node.playbackRate=this.playbackRate,this.playerInstans.accessor.model.start_time>0){var waitSeekForAndroid=function(){_this.video.node.removeEventListener("playing",waitSeekForAndroid),_this.video.node.pause();var seekTimer=setInterval(function(){_this.video.node.seekable.end(0)>0&&(_this.setCurrentTime(_this.playerInstans.accessor.model.start_time),_this.video.play(_this),_this.isMobile()&&(_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)),clearInterval(seekTimer))},100)},waitPause=function(){_this.video.node.removeEventListener("playing",waitPause),_this.video.node.addEventListener("pause",waitSeek),_this.video.node.pause()},waitSeek=function(){_this.video.node.removeEventListener("pause",waitSeek),_this.video.node.addEventListener("timeupdate",seeked),_this.setCurrentTime(_this.playerInstans.accessor.model.start_time)},seeked=function(){_this.video.node.removeEventListener("timeupdate",seeked),Math.floor(_this.video.currentTime)>=Math.floor(_this.playerInstans.accessor.model.start_time)&&(_this.video.play(_this),_this.isMobile()&&(_this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)))};"Android"==this.platform.os.name?this.video.node.addEventListener("playing",waitSeekForAndroid):this.video.node.addEventListener("playing",waitPause),this.video.play(this)}else this.isMobile()?(setTimeout(function(){_this.video.play(_this)},1e3),this.controllerVisibleTimer=setTimeout(function(){_this.showController(!1)},3e3)):this.video.play(this);else this.isLiveStop&&(this.setCurrentTime(this.video.node.seekable.end(0)-30),this.isLiveStop=!1),this.video.play(this);else setTimeout(function(){_this.play()},100)},HTML5Player_t3.prototype.pause=function(){if(this.playerInstans.accessor.model.isAuthEnable())return this.overlayContainer.auth.open(),void(this.authCover.style.display="none");this.isLive&&(this.isLiveStop=!0,this.parent.querySelector(".eq-livemark").classList.remove("animation")),this.video.pause(),this.showController(!0),clearTimeout(this.controllerVisibleTimer)},HTML5Player_t3.prototype.replay=function(){var _this=this;if(this.playerInstans.accessor.model.isAuthEnable())return this.overlayContainer.auth.open(),void(this.authCover.style.display="none");this.cover.showThumbnail(!1),this.setBeacon("replay"),this.platform.isIE||this.setCurrentTime(0),this.play(),setTimeout(function(){_this.isMobile()?(_this.video.state="playing",_this.updateControllerMobile()):(_this.video.state="playing",_this.updateController()),_this.playerInstans.accessor.hls&&_this.playerInstans.accessor.hls.startLoad(-1),_this.platform.isIE&&"0"==_this.playerInstans.accessor.getQuality()&&setTimeout(function(){this.playerInstans.accessor.hls&&this.playerInstans.accessor.hls.startLoad(-1)},1e3)},500)},HTML5Player_t3.prototype.replayForiOS=function(){},HTML5Player_t3.prototype.setAuthVisible=function(visiblity){visiblity?(this.overlayContainer.auth.open(),this.authCover.style.display="none"):this.overlayContainer.auth.close()},HTML5Player_t3.prototype.authResult=function(isAuthed){var _this=this;this.authed=isAuthed,isAuthed?(this.authCover.style.display="none",this.platform.isSP||this.platform.isTablet?!this.video.isHls||"iOS"==this.platform.os.name||"Macintosh"==this.platform.os.name&&this.platform.isSafari||this.playerInstans.accessor.model.isAuthEnable()||(this.waitHlsTimer=setInterval(function(){_this.waitHlsLoading()},100)):this.play()):this.overlayContainer.auth.open(this.languageResource.kinds.ERROR_AUTH)},HTML5Player_t3.prototype.updateVideoURL=function(movie_url,isAuthed){this.authed=isAuthed,isAuthed&&(this.video.src=movie_url,this.isHls||this.video.load(this.playerInstans),this.pause())},HTML5Player_t3.prototype.setMute=function(bool){var isMobile,node;this.video.node.muted!=bool&&(this.isMobile()||(bool?(this.preMuteVolume=this.video.node.volume,this.video.node.volume=0,this.soundballoon.updatePosition(this.video.node.volume)):(null==this.preMuteVolume&&(this.preMuteVolume=1),this.video.node.volume=this.preMuteVolume,this.soundballoon.updatePosition(this.video.node.volume))),!bool&&this.unmuteBtn&&(this.player.removeChild(this.unmuteBtn),this.unmuteBtn=null),this.video.node.muted=bool,this.isMobile()?(isMobile=!0,node=this.centerContainer.sound.node):(isMobile=!1,node=this.footer.sound.node),this.setSoundIcon(this.video.node.volume,bool,isMobile,node),this.playerInstans.accessor.sendPlayerValues())},HTML5Player_t3.prototype.setVolume=function(value){var isMobile,node;isFinite(value)&&(this.video.node.volume=value,this.preMuteVolume=value,this.setMute(!1),this.isMobile()?(isMobile=!0,node=this.centerContainer.sound.node):(isMobile=!1,node=this.footer.sound.node),this.setSoundIcon(value,!1,isMobile,node),this.playerInstans.accessor.sendPlayerValues())},HTML5Player_t3.prototype.setSoundIcon=function(volume,isMute,isMobile,node){node.className=isMobile?isMute?"eq-icon-sound_mute":volume>0?"eq-icon-sound":"eq-icon-sound_mute":isMute?"eq-icon-sound_mute":volume>.66?"eq-icon-sound_max":volume>.33?"eq-icon-sound_middle":volume>0?"eq-icon-sound_minimum":"eq-icon-sound_mute"},HTML5Player_t3.prototype.set_info_error=function(message){var code="";if(message){var title,info;switch(message){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:title=this.languageResource.kinds.P8001T,info=this.languageResource.kinds.P8001M,code="8001";break;case Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT:title=this.languageResource.kinds.P8002T,info=this.languageResource.kinds.P8002M,code="8002";break;case Hls.ErrorDetails.MANIFEST_PARSING_ERROR:title=this.languageResource.kinds.P8003T,info=this.languageResource.kinds.P8003M,code="8003";break;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:title=this.languageResource.kinds.P8004T,info=this.languageResource.kinds.P8004M,code="8004";break;case Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT:title=this.languageResource.kinds.P8005T,info=this.languageResource.kinds.P8005M,code="8005";break;case Hls.ErrorDetails.LEVEL_SWITCH_ERROR:title=this.languageResource.kinds.P8006T,info=this.languageResource.kinds.P8006M,code="8006";break;case Hls.ErrorDetails.FRAG_LOAD_ERROR:title=this.languageResource.kinds.P8007T,info=this.languageResource.kinds.P8007M,code="8007";break;case Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR:title=this.languageResource.kinds.P8008T,info=this.languageResource.kinds.P8008M,code="8008";break;case Hls.ErrorDetails.FRAG_LOAD_TIMEOUT:title=this.languageResource.kinds.P8009T,info=this.languageResource.kinds.P8009M,code="8009";break;case Hls.ErrorDetails.FRAG_PARSING_ERROR:title=this.languageResource.kinds.P8010T,info=this.languageResource.kinds.P8010M,code="8010";break;case Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR:title=this.languageResource.kinds.P8011T,info=this.languageResource.kinds.P8011M,code="8011";break;case Hls.ErrorDetails.BUFFER_ADD_CODEC_ERROR:title=this.languageResource.kinds.P8012T,info=this.languageResource.kinds.P8012M,code="8012";break;case Hls.ErrorDetails.BUFFER_APPEND_ERROR:title=this.languageResource.kinds.P8013T,info=this.languageResource.kinds.P8013M,code="8013";break;case Hls.ErrorDetails.BUFFER_APPENDING_ERROR:title=this.languageResource.kinds.P8014T,info=this.languageResource.kinds.P8014M,code="8014";break;case Hls.ErrorDetails.BUFFER_STALLED_ERROR:title=this.languageResource.kinds.P8015T,info=this.languageResource.kinds.P8015M,code="8015";break;case Hls.ErrorDetails.BUFFER_FULL_ERROR:title=this.languageResource.kinds.P8016T,info=this.languageResource.kinds.P8016M,code="8016";break;case Hls.ErrorDetails.BUFFER_SEEK_OVER_HOLE:title=this.languageResource.kinds.P8017T,info=this.languageResource.kinds.P8017M,code="8017";break;case Hls.ErrorDetails.OTHER_ERROR:title=this.languageResource.kinds.P8018T,info=this.languageResource.kinds.P8018M,code="8018";break;case MediaError.MEDIA_ERR_ABORTED:title=this.languageResource.kinds.P8019T,info=this.languageResource.kinds.P8019M,code="8019";break;case MediaError.MEDIA_ERR_NETWORK:title=this.languageResource.kinds.P8020T,info=this.languageResource.kinds.P8020M,code="8020";break;case MediaError.MEDIA_ERR_DECODE:title=this.languageResource.kinds.P8021T,info=this.languageResource.kinds.P8021M,code="8021";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:title=this.languageResource.kinds.P8022T,info=this.languageResource.kinds.P8022M,code="8022";break;default:title=this.languageResource.kinds.P8001T,info=this.languageResource.kinds.P8001M+"<br>"+message,code="8001"}this.overlayContainer.error.open(title,info,this.player.clientWidth,this.player.clientHeight)}else this.playerInstans.accessor.model.isLive?(this.overlayContainer.error.open("",this.languageResource.kinds.ERROR_LIVE_RELOAD,this.player.clientWidth,this.player.clientHeight),code="7101"):(this.overlayContainer.error.open("",this.languageResource.kinds.ERROR_MOVIE_NOT_FOUND,this.player.clientWidth,this.player.clientHeight),code="7011");this.playerInstans.accessor.sendCrashReport(code,"HTML5Player")},HTML5Player_t3.prototype.displayRefresh=function(){},HTML5Player_t3.prototype.changeSubtitles=function(index){this.captionContainer.index=index,this.useClosedCaption&&(this.isMobile()?this.selectTelop.setFocus(this.captionList[index]):this.telopballoon.setFocus(this.captionList[index])),this.playerInstans.accessor.sendPlayerValues()},HTML5Player_t3.prototype.getSubtitles=function(){return this.captionContainer.index},HTML5Player_t3.prototype.changeQualityLabel=function(text){switch(text=text.replace(/\(.*\)/,"")){case"4k":case"":text="2160p";break;case"fh":case"":case"":case"FullHD":text="1080p";break;case"hd":case"":case"":case"HD":text="720p";break;case"hq":case"":case"High":text="480p";break;case"sq":case"":case"Standard":text="360p";break;case"lq":case"":case"Low":text="270p";break;case"auto_pc":case"auto_sp":case"":text="Auto"}return text},HTML5Player_t3.prototype.changeQuality=function(url){if(this.playerInstans.accessor.model.isAuthEnable())return this.overlayContainer.auth.open(),void(this.authCover.style.display="none");var text;this.showLoading(!0);for(var i=0;i<this.movie_list.length;i++)if(this.movie_list[i].url==url){text=this.movie_list[i].text;break}this.video.src=url,this.video.changeSource(this),text=this.changeQualityLabel(text),this.useMultibitrate&&(this.isMobile()?(this.centerContainer.resolution.node.children[0].children[0].innerText=text,this.selectResolution.setFocus(url)):(this.footer.resolution.node.children[0].children[0].innerText=text,this.resolutionballoon.setFocus(url))),this.playerInstans.accessor.sendPlayerValues()},HTML5Player_t3.prototype.getPlaybackRate=function(){return this.isFirstPlay?this.playbackRate:this.video.node.playbackRate},HTML5Player_t3.prototype.changePlaybackRate=function(rate){var rateString=rate.toString();this.playbackRate=rate,this.isFirstPlay||(this.video.node.playbackRate=rate),1==rateString.length&&(rateString+=".0"),this.playbackrateList&&this.playbackrateList.length>1&&(this.isMobile()?(this.centerContainer.speed.node.children[0].children[0].innerText=rateString,this.selectSpeed.setFocus(rate)):(this.footer.speed.node.children[0].children[0].innerText=rateString,this.speedballoon.setFocus(rate))),this.playerInstans.accessor.sendPlayerValues()},HTML5Player_t3.prototype.setInitVolume=function(value){this.initVolume=value},HTML5Player_t3.prototype.setloop=function(){this.playerInstans.accessor.sendPlayerValues()},HTML5Player_t3.prototype.isMobile=function(){return this.platform.isSP||this.platform.isTablet},HTML5Player_t3.prototype.loop=function(){this.video.state="loop",this.play()},HTML5Player_t3.prototype.advancePlaylist=function(){if(this.overlayContainer.movies.relationList_origin){var currentPlaylistIndex=this.currentIndex()+1;if(currentPlaylistIndex!=this.playlist.length)return this.currentItem(currentPlaylistIndex),currentPlaylistIndex;if(currentPlaylistIndex=0,this.getRepeat())return this.currentItem(currentPlaylistIndex),currentPlaylistIndex}return-1},HTML5Player_t3.prototype.liveEnded=function(){this.isLiveStop=!0,this.parent.querySelector(".eq-livemark").classList.remove("animation"),this.play()},HTML5Player_t3.prototype.isSkipBtnEnable=function(model){return"off"!=model.seak_use&&!isNaN(parseInt(model.skipbtn_use))&&parseInt(model.skipbtn_use)>0},HTML5Player_t3}(),EQPlayer_parts;!function(EQPlayer_parts){var playerElementBase=function(){function playerElementBase(node){this._enable=!0,this._visible=!1,this.node=node,this.visible="none"!=this.node.style.display}return Object.defineProperty(playerElementBase.prototype,"visible",{get:function(){return"none"!=this.node.style.display},set:function(visible){this._visible=visible,visible&&this.enable?this.node.style.display="block":this.node.style.display="none"},enumerable:!0,configurable:!0}),Object.defineProperty(playerElementBase.prototype,"enable",{get:function(){return this._enable},set:function(enable){this._enable=enable,this.visible=enable},enumerable:!0,configurable:!0}),playerElementBase}();EQPlayer_parts.playerElementBase=playerElementBase;var video=function(_super){function video(node){var _this=_super.call(this,node)||this;return _this.isHls=!0,_this._enable=!0,_this._visible=!1,_this.setEvent(),_this}return __extends(video,_super),Object.defineProperty(video.prototype,"src",{get:function(){return this._src},set:function(url){this._src=url,url.indexOf(".m3u8")>-1?this.isHls=!0:this.isHls=!1},enumerable:!0,configurable:!0}),Object.defineProperty(video.prototype,"currentTime",{get:function(){return this.node.currentTime},set:function(value){this.node.currentTime=value},enumerable:!0,configurable:!0}),Object.defineProperty(video.prototype,"currentBuffer",{get:function(){var video=this.node;if(video.buffered.length<1)return{length:0,left:0};for(var onBufferIndex=0,index=0;index<video.buffered.length;index++)if(video.currentTime>=video.buffered.start(index)&&video.currentTime<=video.buffered.end(index)){onBufferIndex=index;break}return{length:(video.buffered.end(onBufferIndex)-video.buffered.start(onBufferIndex))/video.duration,left:video.buffered.start(onBufferIndex)/video.duration}},enumerable:!0,configurable:!0}),video.prototype.setEvent=function(){var _this=this;this.node.addEventListener("ended",function(e){_this.videoEventListener(e)}),this.node.addEventListener("error",function(e){_this.videoEventListener(e)}),this.node.addEventListener("pause",function(e){_this.videoEventListener(e)}),this.node.addEventListener("play",function(e){_this.videoEventListener(e)}),this.node.addEventListener("playing",function(e){_this.videoEventListener(e)}),this.node.addEventListener("seeked",function(e){_this.videoEventListener(e)}),this.node.addEventListener("seeking",function(e){_this.videoEventListener(e)})},video.prototype.load=function(playerInstans){playerInstans.accessor.hls?playerInstans.accessor.hls.loadSource(this.src):(this.node.src=this.src,this.node.load())},video.prototype.changeSource=function(HTML5Player_t3){HTML5Player_t3.playerInstans.accessor.hls?this.changeQualityHls(HTML5Player_t3):this.changeQualityVanilla(HTML5Player_t3)},video.prototype.changeQualityHls=function(HTML5Player_t3){var _this=this,playerInstans=HTML5Player_t3.playerInstans,isPlay=!1;HTML5Player_t3.cover.showThumbnail(!1);var forEdge=function(){_this.node.removeEventListener("play",forEdge),setTimeout(function(){_this.node.addEventListener("pause",switchMovieSource),_this.pause()},100)},switchMovieSource=function(){_this.node.removeEventListener&&(_this.node.removeEventListener("pause",switchMovieSource),playerInstans.accessor.edgeSwitchMovieSourceFlg=!1);var ct=0;if(HTML5Player_t3.isFirstPlay?playerInstans.accessor.model.start_time>0&&(ct=playerInstans.accessor.model.start_time):ct=playerInstans.accessor.hls.media.currentTime,!playerInstans.accessor.model.isLive){var duration=Number(playerInstans.accessor.model.duration);if(!isFinite(duration))return;("ended"==_this.state||_this.currentTime>=duration)&&(isPlay=!1,HTML5Player_t3.setCurrentTime(0),ct=0)}playerInstans.accessor.hls.destroy();var config={debug:!1,startLevel:-1,highBufferWatchdogPeriod:30,liveSyncDurationCount:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2};0==playerInstans.accessor.model.low_latency&&(config.liveSyncDurationCount=3),playerInstans.accessor.hls=new Hls(config),playerInstans.accessor.setErrorHandler(),playerInstans.accessor.hls.on("hlsMediaAttached",function(){playerInstans.accessor.hls.on("hlsManifestParsed",function(event,data){var handler=function(){_this.node.removeEventListener("loadeddata",handler),HTML5Player_t3.showLoading(!1),playerInstans.accessor.model.isLive||(_this.currentTime=ct)};_this.node.addEventListener("loadeddata",handler)}),_this.load(playerInstans)}),playerInstans.accessor.hls.attachMedia(_this.node),isPlay&&_this.play()};if("playing"==this.state){isPlay=!0;this.node.addEventListener("pause",switchMovieSource),this.pause()}else playerInstans.accessor.model.platform.isEdge&&HTML5Player_t3.isFirstPlay?(playerInstans.accessor.edgeSwitchMovieSourceFlg=!0,this.node.addEventListener("play",forEdge),this.play()):switchMovieSource()},video.prototype.changeQualityVanilla=function(HTML5Player_t3){var playerInstans=HTML5Player_t3.playerInstans,isPlay=!1;HTML5Player_t3.cover.showThumbnail(!1);var ct=0;if(isPlay="playing"==this.state,0==HTML5Player_t3.isFirstPlay){var duration=Number(this.node.duration);if(!isFinite(duration)&&!playerInstans.accessor.model.isLive)return;"ended"==this.state||this.currentTime>=duration?(isPlay=!1,HTML5Player_t3.setCurrentTime(0)):playerInstans.accessor.model.isLive?HTML5Player_t3.setCurrentTime(0):this.currentTime>=0&&(ct=this.currentTime)}else playerInstans.accessor.model.start_time>0&&(ct=playerInstans.accessor.model.start_time);var video=this.node,loadeddata=function(e){video.removeEventListener&&video.removeEventListener("loadeddata",loadeddata),HTML5Player_t3.showLoading(!1),/iP(hone|od|ad)/.test(navigator.platform)?(video.addEventListener("timeupdate",timeupdate),video.currentTime=ct):(video.currentTime=ct,isPlay&&this.play())},timeupdate=function(e){Math.ceil(video.currentTime)>=Math.ceil(ct)&&(video.removeEventListener("timeupdate",timeupdate),isPlay&&this.play())};this.node.addEventListener&&video.addEventListener("loadeddata",loadeddata),this.load(HTML5Player_t3.playerInstans)},video.prototype.play=function(HTML5Player_t3){var _this=this,promise=this.node.play();void 0!==promise&&promise.then(function(_){}).catch(function(error){_this.state="pause",HTML5Player_t3&&HTML5Player_t3.showLoading(!1)})},video.prototype.pause=function(){this.node.pause()},video.prototype.replay=function(){},video.prototype.seek=function(time){},video.prototype.changeQuallity=function(index){},video.prototype.changePlaybackRate=function(rate){},video.prototype.videoEventListener=function(e){switch(e.type){case"playing":case"play":this.state="playing";break;case"pause":this.state="pause";break;case"ended":this.state="ended";break;case"error":this.state="error"}},video}(playerElementBase);EQPlayer_parts.video=video;var cover=function(_super){function cover(node){var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,_this}return __extends(cover,_super),Object.defineProperty(cover.prototype,"thumbnail",{get:function(){return this._thumbnail},set:function(url){this._thumbnail=url},enumerable:!0,configurable:!0}),cover.prototype.showThumbnail=function(visible){this.thumbnail&&this.thumbnail.length>0&&(visible?(this.node.style.backgroundImage="url("+this.thumbnail+")",this.node.style.backgroundColor="rgba(0,0,0,1)"):(this.node.style.backgroundImage="",this.node.style.backgroundColor="rgba(0,0,0,0)"))},cover}(playerElementBase);EQPlayer_parts.cover=cover;var subContainer=function(_super){function subContainer(node){var _this=_super.call(this,node)||this;_this._enable=!0,_this._visible=!1;var ul=_this.node.children[0];return _this.movies=ul.children[0],_this.links=ul.children[1],_this.share=ul.children[2],_this.chapter=ul.children[3],_this}return __extends(subContainer,_super),subContainer}(playerElementBase);EQPlayer_parts.subContainer=subContainer;var overlayContainer=function(_super){function overlayContainer(node){var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,_this.movies=new relationMovies(_this.node.children[0]),_this.links=new relationLinks(_this.node.children[1]),_this.share=new relationShare(_this.node.children[2]),_this.auth=new auth(_this.node.children[3]),_this.error=new error(_this.node.children[4]),_this}return __extends(overlayContainer,_super),overlayContainer}(playerElementBase);EQPlayer_parts.overlayContainer=overlayContainer;var relationMovies=function(_super){function relationMovies(node){var _this=_super.call(this,node)||this;_this.currentPage=1,_this.maxView=3,_this.maxPage=1,_this._enable=!0,_this._visible=!1,_this.SMALL_WIDTH=480,_this.SMALL_HEIGHT=270,_this.NOMAL_WIDTH=640,_this.BIG_WIDTH=1680,_this.isLandscape=!1,_this.autoadvance=!1,_this.repeat=!1,_this.playOnSelect=!0;var event=new CustomEvent("closeOverlay");_this.closeBtn=_this.node.children[2],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(event)}),_this.title=_this.node.children[0].children[0],_this.ul=_this.node.children[0].children[1],_this.node.children[0].children[2]&&(_this.pagerUl=_this.node.children[0].children[2].children[0]);try{_this.prevBtn=_this.node.children[1].children[0].children[0],_this.prevBtn.addEventListener("click",function(){_this.setPage(_this.currentPage-1)}),_this.nextBtn=_this.node.children[1].children[0].children[1],_this.nextBtn.addEventListener("click",function(){_this.setPage(_this.currentPage+1)})}catch(e){}return _this}return __extends(relationMovies,_super),relationMovies.prototype.open=function(){var _this=this;this.currentPage=1,this.unset();var playerWidth=this.playerObj.player.clientWidth,playerHeight=this.playerObj.player.clientHeight;this.playerObj.isMobile()?(playerWidth>=this.playerObj.PLAYER_WIDTH_LANDSCAPE_SMALL&&playerHeight>=this.playerObj.PLAYER_HEIGHT_LANDSCAPE_SMALL&&(this.isLandscape=!0),this.ul.addEventListener("scroll",function(){_this.checkScroll()})):playerWidth<this.SMALL_WIDTH||playerHeight<this.SMALL_HEIGHT?(this.maxView=1,this.node.parentElement.classList.add("eq-Minimum"),this.node.parentElement.classList.remove("eq-Small"),this.node.parentElement.classList.remove("eq-Nomal"),this.node.parentElement.classList.remove("eq-Big"),this.node.children[0].style.width="164px"):playerWidth<this.NOMAL_WIDTH?(this.maxView=2,this.node.parentElement.classList.add("eq-Small"),this.node.parentElement.classList.remove("eq-Minimum"),this.node.parentElement.classList.remove("eq-Nomal"),this.node.parentElement.classList.remove("eq-Big"),this.node.children[0].style.width="372px"):playerWidth<this.BIG_WIDTH?(this.maxView=3,this.node.parentElement.classList.remove("eq-Minimum"),this.node.parentElement.classList.remove("eq-Small"),this.node.parentElement.classList.add("eq-Nomal"),this.node.parentElement.classList.remove("eq-Big"),this.node.children[0].style.width="558px"):(this.maxView=4,this.node.parentElement.classList.remove("eq-Minimum"),this.node.parentElement.classList.remove("eq-Small"),this.node.parentElement.classList.remove("eq-Nomal"),this.node.parentElement.classList.add("eq-Big"),this.node.children[0].style.width="1512px"),this.relationList.length%this.maxView==0?this.maxPage=this.relationList.length/this.maxView:this.maxPage=Math.floor(this.relationList.length/this.maxView)+1,this.setPager(),this.setPage(this.currentPage),this.visible=!0,this.playerObj.isMobile()&&this.checkMaxView()},relationMovies.prototype.setPager=function(){var _this=this;if(!this.playerObj.isMobile())if(this.maxPage<=10){this.pagerUl.style.display="block";for(var i=0;i<this.maxPage;i++){var li=document.createElement("div");li.classList.add("eq-pager"),li.innerText="",li.addEventListener("click",function(i){return function(){_this.setPage(i+1)}}(i)),this.pagerUl.appendChild(li)}}else this.pagerUl.style.display="none"},relationMovies.prototype.unset=function(){if(!this.playerObj.isMobile())for(var i=this.pagerUl.children.length-1;i>=0;i--)this.pagerUl.removeChild(this.pagerUl.children[i])},relationMovies.prototype.setPage=function(page){if(page<1?page=this.maxPage:page>this.maxPage&&(page=1),!this.playerObj.isMobile())for(var i=0;i<this.pagerUl.children.length;i++)this.pagerUl.children[i].className="eq-pager",page==i+1&&this.pagerUl.children[i].classList.add("eq-focus");for(i=0;i<this.maxView;i++){var index=this.maxView*(page-1)+i;this.setThumbnailURL(index)}this.ul.style.transform="translate(-"+(100*(page-1)).toString()+"%,0)",this.currentPage=page},relationMovies.prototype.setList=function(list,titleString,HTML5Player_t3){this.playerObj=HTML5Player_t3,this.title.innerText=titleString;var tmpArray=[].concat(list),popedArray=[];this.relationList_origin=[].concat(list);for(var i=0;i<list.length;i++){if(list[i].meta_id==this.playerObj.playerInstans.accessor.model.meta_id){i;break}var popedItem=tmpArray.shift();popedArray.push(popedItem)}this.relationList=tmpArray.concat(popedArray);for(i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=0;i<this.relationList.length;i++){var li=document.createElement("div");li.className="eq-list-movies",li.addEventListener("click",function(i){return function(){HTML5Player_t3.playerInstans.accessor.onPlayerEvent("beforeplaylistitem"),HTML5Player_t3.linkAction("movies",i)}}(i));var block=document.createElement("div"),image=document.createElement("div");block.appendChild(image);var duration=document.createElement("div");duration.className="eq-relation-movies-time",duration.innerText=this.getTimeString(this.relationList[i].duration),block.appendChild(duration),li.appendChild(block);var title=document.createElement("div");title.className="eq-relation-movies-title",title.innerText=this.relationList[i].title,li.appendChild(title);var titleForSmall=document.createElement("div");titleForSmall.className="eq-relation-movies-title",titleForSmall.innerText=this.relationList[i].title,block.appendChild(titleForSmall),this.ul.appendChild(li)}},relationMovies.prototype.checkMaxView=function(){var slider=this.ul,margin=30;this.isLandscape&&(margin=19);for(var scrollOffset=slider.children[0].clientWidth+margin,sliderWidth=this.ul.clientWidth,i=0;i<slider.children.length;i++)if(this.setThumbnailURL(i),(sliderWidth-=scrollOffset)<1){this.maxView=i;break}},relationMovies.prototype.checkScroll=function(){var slider=this.ul,scrollLeft=slider.scrollLeft,margin=30;this.isLandscape&&(margin=19);for(var scrollOffset=slider.children[0].clientWidth+margin,preloadImageWidth=slider.clientWidth-scrollOffset*this.maxView,i=0;i<slider.children.length-this.maxView-1;i++){var scroll=i*scrollOffset;scrollLeft>(scroll-=preloadImageWidth)&&this.setThumbnailURL(i+this.maxView+1)}},relationMovies.prototype.setThumbnailURL=function(index){var li=this.ul.children[index];if(li){var image=li.children[0].children[0];-1==image.style.backgroundImage.indexOf("url")&&(image.style.backgroundImage="url('"+this.relationList[index].thumbnail_url+"')")}},relationMovies.prototype.getTimeString=function(sec){(sec=Math.floor(sec))||(sec=0);var s=sec%60,m=Math.round((sec-s)/60)%60,t=Math.round((sec-(60*m+s))/3600)%60,setStr="";return setStr=String(t)+":",setStr+=("0"+String(m)).slice(-2)+":",setStr+=("0"+String(s)).slice(-2)},relationMovies}(playerElementBase);EQPlayer_parts.relationMovies=relationMovies;var relationLinks=function(_super){function relationLinks(node){var _this=_super.call(this,node)||this;_this._enable=!0,_this._visible=!1;var event=new CustomEvent("closeOverlay");return _this.closeBtn=_this.node.children[1],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(event)}),_this.title=_this.node.children[0].children[0],_this.ul=_this.node.children[0].children[1],_this}return __extends(relationLinks,_super),relationLinks.prototype.setList=function(list,HTML5Player_t3){this.relationList=list;for(var i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=0;i<this.relationList.length;i++){var li=document.createElement("div");li.className="eq-list-links",li.addEventListener("click",function(i){return function(){HTML5Player_t3.linkAction("exlink",i)}}(i));var block=document.createElement("div");block.innerHTML="<span></span>"+this.relationList[i].text,block.setAttribute("index",i.toString()),HTML5Player_t3.isFullscreen?block.style.maxWidth=HTML5Player_t3.player.clientWidth-20+"px":block.style.maxWidth=HTML5Player_t3.parent.clientWidth-20+"px",li.appendChild(block),this.ul.appendChild(li)}},relationLinks.prototype.open=function(playerWidth){this.visible=!0;for(var i=0;i<this.ul.children.length;i++)this.ul.children[i].firstChild.style.maxWidth=playerWidth-20+"px"},relationLinks}(playerElementBase);EQPlayer_parts.relationLinks=relationLinks;var relationShare=function(_super){function relationShare(node){var _this=_super.call(this,node)||this;_this._enable=!0,_this._visible=!1;var event=new CustomEvent("closeOverlay");return _this.closeBtn=_this.node.children[1],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(event)}),_this.shareTitle=_this.node.children[0].children[0],_this.shareUl=_this.node.children[0].children[1],_this.viralTitle=_this.node.children[0].children[2],_this.viralForm=_this.node.children[0].children[3],_this}return __extends(relationShare,_super),relationShare.prototype.showShare=function(visible){visible?(this.shareTitle.style.display="block",this.shareUl.style.display="block"):(this.shareTitle.style.display="none",this.shareUl.style.display="none")},relationShare.prototype.showViral=function(visible){visible?(this.viralTitle.style.display="block",this.viralForm.style.display="block"):(this.viralTitle.style.display="none",this.viralForm.style.display="none")},relationShare.prototype.setList=function(list,HTML5Player_t3){this.relationList=list;for(var i=0;i<this.relationList.length;i++)"facebook"==this.relationList[i].toLowerCase()?(this.shareUl.children[0].style.display="inline-block",this.shareUl.children[0].addEventListener("click",function(){HTML5Player_t3.linkAction("facebook",-1)})):"twitter"==this.relationList[i].toLowerCase()?(this.shareUl.children[1].style.display="inline-block",this.shareUl.children[1].addEventListener("click",function(){HTML5Player_t3.linkAction("twitter",-1)})):"line"==this.relationList[i].toLowerCase()?(this.shareUl.children[2].style.display="inline-block",this.shareUl.children[2].addEventListener("click",function(){HTML5Player_t3.linkAction("line",-1)})):"google"==this.relationList[i].toLowerCase()&&(this.shareUl.children[3].style.display="inline-block",this.shareUl.children[3].addEventListener("click",function(){HTML5Player_t3.linkAction("google",-1)}))},relationShare.prototype.setViral=function(string){},relationShare}(playerElementBase);EQPlayer_parts.relationShare=relationShare;var auth=function(_super){function auth(node){var _this=_super.call(this,node)||this;_this.ID_PLACEHOLDER_TEXT="ID",_this.PASSWORD_PLACEHOLDER_TEXT="PASSWORD",_this.INPUT_FONT_COLOR="#000",_this.PLACEHOLDER_FONT_COLOR="#999",_this.ERROR_TITLE_COLOR="#e74c3c";var inner=node.children[0];_this.title=inner.children[0];var form=inner.children[1];return _this.idBox=form.children[0],_this.passwordBox=form.querySelector('input[type="password"]'),_this.inputBtn=inner.children[2],_this}return __extends(auth,_super),auth.prototype.getValue=function(){return{id:this.idBox.value,pass:this.passwordBox.value}},auth.prototype.open=function(error){void 0===error&&(error=""),(error||error.length>0)&&(this.title.innerText=error,this.title.style.color=this.ERROR_TITLE_COLOR,this.idBox.classList.contains("eq-input-error")||this.idBox.classList.add("eq-input-error"),this.passwordBox.classList.contains("eq-input-error")||this.passwordBox.classList.add("eq-input-error")),this.idBox.placeholder=this.ID_PLACEHOLDER_TEXT,this.idBox.style.color=this.INPUT_FONT_COLOR,this.passwordBox.placeholder=this.PASSWORD_PLACEHOLDER_TEXT,this.passwordBox.style.color=this.INPUT_FONT_COLOR,this.visible=!0},auth.prototype.close=function(){this.visible=!1},auth}(playerElementBase);EQPlayer_parts.auth=auth;var error=function(_super){function error(node){var _this=_super.call(this,node)||this;return _this.title=node.children[0].children[0].children[0],_this.message=node.children[0].children[1],_this}return __extends(error,_super),error.prototype.open=function(title,message,playerWidth,playerHeight){void 0===title&&(title=""),void 0===message&&(message=""),this.visible=!0,this.title.innerHTML=title,this.message.innerHTML=message,playerWidth<480||playerHeight<270?this.node.classList.add("eq-mini"):this.node.classList.remove("eq-mini")},error.prototype.close=function(){this.visible=!1},error}(playerElementBase);EQPlayer_parts.error=error;var centerContainer=function(_super){function centerContainer(node,isMobile){void 0===isMobile&&(isMobile=!1);var _this=_super.call(this,node)||this;_this._enable=!0,_this._visible=!1;var ul=_this.node.children[0];if(_this.prev=ul.children[0],_this.play=ul.children[1],_this.next=ul.children[2],_this.replay=ul.children[3],isMobile){var ulMobile=_this.node.children[1];_this.play_p=new playerElementBase(ulMobile.children[0]),_this.sound=new playerElementBase(ulMobile.children[1]),_this.telop=new playerElementBase(ulMobile.children[2]),_this.resolution=new playerElementBase(ulMobile.children[3]),_this.speed=new playerElementBase(ulMobile.children[4]),_this.fullscreen=new playerElementBase(ulMobile.children[5]),_this.loading=_this.node.children[2].children[0]}else _this.loading=ul.children[4];return _this}return __extends(centerContainer,_super),centerContainer}(playerElementBase);EQPlayer_parts.centerContainer=centerContainer;var header=function(_super){function header(node){var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,_this.title=node.children[0],_this}return __extends(header,_super),header.prototype.setTitle=function(text){this.title.innerText=text},header}(playerElementBase);EQPlayer_parts.header=header;var footer=function(_super){function footer(node,isMobile){void 0===isMobile&&(isMobile=!1);var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,isMobile||(_this.leftbox=_this.node.children[0],_this.play=new playerElementBase(_this.leftbox.children[0].children[0]),_this.prev=new playerElementBase(_this.leftbox.children[0].children[1]),_this.next=new playerElementBase(_this.leftbox.children[0].children[2]),_this.sound=new playerElementBase(_this.leftbox.children[0].children[3]),_this.rightbox=_this.node.children[1],_this.time=new playerElementBase(_this.rightbox.children[0].children[0]),_this.telop=new playerElementBase(_this.rightbox.children[0].children[1]),_this.resolution=new playerElementBase(_this.rightbox.children[0].children[2]),_this.speed=new playerElementBase(_this.rightbox.children[0].children[3]),_this.fullscreen=new playerElementBase(_this.rightbox.children[0].children[4])),_this}return __extends(footer,_super),footer.prototype.setTimeText=function(currentTime,duration){var currentTimeString=this.getTimeString(currentTime),durationString=this.getTimeString(duration);this.time.node.children[0].textContent=currentTimeString+" / "+durationString},footer.prototype.getTimeString=function(sec){(sec=Math.floor(sec))||(sec=0);var s=sec%60,m=Math.round((sec-s)/60)%60,t=Math.round((sec-(60*m+s))/3600)%60,setStr="";return setStr=String(t)+":",setStr+=("0"+String(m)).slice(-2)+":",setStr+=("0"+String(s)).slice(-2)},footer}(playerElementBase);EQPlayer_parts.footer=footer;var seekbar=function(_super){function seekbar(node){var _this=_super.call(this,node)||this;return _this.mouse_x=0,_this.mouse_y=0,_this.value=0,_this.clientWidth=0,_this.isSeeking=!1,_this._enable=!0,_this._visible=!1,_this.init(),_this}return __extends(seekbar,_super),seekbar.prototype.updatePosition=function(val){if(!this.isSeeking){var position=val;this.value=100*position,0!=this.node.clientWidth&&this.node.clientWidth!=this.clientWidth&&(this.clientWidth=this.node.clientWidth),this.pointer.style.transform="translateX("+this.clientWidth*val+"px)",this.progress.style.width=this.value+"%"}},seekbar.prototype.updateBufferPosition=function(val){this.buffer.style.width=100*val.length+"%",this.buffer.style.left=100*val.left+"%"},seekbar.prototype.init=function(){this.container=this.node.children[0],this.base=this.container.children[0],this.buffer=this.container.children[1],this.progress=this.container.children[2],this.pointer=this.container.children[3],this.setEvent(),this.updatePosition(0)},seekbar.prototype.setEvent=function(){var _this=this;this.container.addEventListener("mousedown",function(e){_this.onMouseDown(e)}),this.container.addEventListener("mousemove",function(e){_this.onMouseMove(e)}),this.container.addEventListener("touchstart",function(e){e.stopPropagation(),_this.onTouchStart(e)}),this.container.addEventListener("touchmove",function(e){e.stopPropagation(),_this.onTouchMove(e)}),this.node.addEventListener("touchstart",function(e){_this.onTouchStart(e)}),this.node.addEventListener("touchmove",function(e){_this.onTouchMove(e)}),document.addEventListener("mousemove",function(e){_this.onMouseMove(e)}),this.node.addEventListener("mouseover",function(e){_this.onMouseOver(e)}),this.node.addEventListener("mouseout",function(e){_this.onMouseOut(e)})},seekbar.prototype.onMouseOver=function(e){this.balloon.visible=!0,this.mouse_x=Number(e.clientX),this.mouse_y=Number(e.clientY),this.setBalloonPosition()},seekbar.prototype.onMouseOut=function(e){var _this=this;this.isSeeking?setTimeout(function(){_this.onMouseOut(e)},500):this.balloon.visible=!1},seekbar.prototype.onMouseDown=function(e){var _this=this,ua=navigator.userAgent.toLowerCase(),event=new CustomEvent("seek_operation_start");document.dispatchEvent(event),this.isSeeking=!0,this.mouse_x=Number(e.clientX),this.mouse_y=Number(e.clientY),this.seekingTimer=setInterval(function(){_this.setPosition()},100),!ua.match(/mozilla\/.+windows nt 10\.[0-9].+chrome.+safari.+edge\/[0-9\.]+/i)&&ua.match(/chrome\/([\d\.]+)/)?document.addEventListener("mouseup",function(e){_this.onMouseUp(e)},!1):window.addEventListener("mouseup",function(e){_this.onMouseUp(e)},!1),document.body.addEventListener("mouseleave",function(e){_this.onMouseUp(e)},!1)},seekbar.prototype.onMouseUp=function(e){if(this.isSeeking){var event=new CustomEvent("seek_operation_end");clearInterval(this.seekingTimer),this.isSeeking=!1,document.dispatchEvent(event)}},seekbar.prototype.onMouseMove=function(e){this.mouse_x=Number(e.clientX),this.mouse_y=Number(e.clientY),this.setBalloonPosition()},seekbar.prototype.setBalloonPosition=function(){var seekBaseClientRect=this.base.getBoundingClientRect(),seekBaseWidth=this.base.clientWidth,scrollLeft=(this.pointer.clientWidth,document.documentElement.scrollLeft||document.body.scrollLeft),in_player_mouse_x=Number(this.mouse_x)-(seekBaseClientRect.left-scrollLeft),position=in_player_mouse_x/seekBaseWidth;position<0&&(position=0),position>1&&(position=1),this.balloon.value=position,this.balloon.node.style.left=100*position+"%";var text_clientWidth=this.balloon.text.clientWidth;text_clientWidth/2>in_player_mouse_x?(this.balloon.text.style.marginLeft=in_player_mouse_x<=0?text_clientWidth/2+"px":text_clientWidth/2-in_player_mouse_x+"px",this.balloon.text.style.right="initial"):seekBaseWidth-text_clientWidth/2<in_player_mouse_x?(this.balloon.text.style.marginLeft="initial",this.balloon.text.style.right=in_player_mouse_x>seekBaseWidth?text_clientWidth/2+"px":in_player_mouse_x-(seekBaseWidth-text_clientWidth/2)+"px"):(this.balloon.text.style.marginLeft="initial",this.balloon.text.style.right="initial")},seekbar.prototype.setPosition=function(){var palRect=this.base.getBoundingClientRect(),width=(this.pointer.getBoundingClientRect(),this.base.clientWidth),scrollLeft=(this.pointer.clientWidth,document.documentElement.scrollLeft||document.body.scrollLeft),position=(Number(this.mouse_x)-(palRect.left-scrollLeft))/width;position<0&&(position=0),position>1&&(position=1),this.value=100*position,this.pointer.style.transform="translateX("+this.node.clientWidth*position+"px)",this.progress.style.width=100*position+"%"},seekbar.prototype.onTouchStart=function(e){var _this=this;e.preventDefault(),this.balloon.visible=!0;var event=new CustomEvent("seek_operation_start");document.dispatchEvent(event),this.isSeeking=!0,this.mouse_x=Number(e.touches[0].pageX),this.mouse_y=Number(e.touches[0].pageY),this.setPosition(),this.seekingTimer=setInterval(function(){_this.setPosition(),_this.setBalloonPosition()},100),document.addEventListener("touchend",function(e){_this.onTouchEnd(e)},!1)},seekbar.prototype.onTouchMove=function(e){e.preventDefault(),this.mouse_x=Number(e.touches[0].pageX),this.mouse_y=Number(e.touches[0].pageY),this.setBalloonPosition()},seekbar.prototype.onTouchEnd=function(e){if(this.isSeeking){this.balloon.visible=!1,clearInterval(this.seekingTimer),this.isSeeking=!1;var event=new CustomEvent("seek_operation_end");document.dispatchEvent(event)}},seekbar}(playerElementBase);EQPlayer_parts.seekbar=seekbar;var seekBalloon=function(_super){function seekBalloon(node){var _this=_super.call(this,node)||this;return _this.mouse_x=0,_this.mouse_y=0,_this.isOperating=!1,_this._enable=!0,_this._visible=!1,_this.text=node.children[0].children[1],_this.pin=node.children[0].children[2],_this}return __extends(seekBalloon,_super),seekBalloon.prototype.setTimeText=function(){this.text.innerText=this.getTimeString(this.duration*this.value)},seekBalloon.prototype.getTimeString=function(sec){(sec=Math.floor(sec))||(sec=0);var s=sec%60,m=Math.round((sec-s)/60)%60,t=Math.round((sec-(60*m+s))/3600)%60,setStr="";return setStr=String(t)+":",setStr+=("0"+String(m)).slice(-2)+":",setStr+=("0"+String(s)).slice(-2)},seekBalloon}(playerElementBase);EQPlayer_parts.seekBalloon=seekBalloon;var timeBox=function(_super){function timeBox(node){var _this=_super.call(this,node)||this;return _this._currentTime=0,_this._duration=0,_this._enable=!0,_this._visible=!1,_this.currentTime=node.children[0],_this.duration=node.children[1],_this}return __extends(timeBox,_super),timeBox.prototype.update=function(currentTime,duration){this._currentTime==currentTime&&this._duration==duration||(this._currentTime=currentTime,this._duration=duration,this.currentTime.innerText=this.getTimeString(this._currentTime),this.duration.innerText=this.getTimeString(this._duration))},timeBox.prototype.getTimeString=function(sec){(sec=Math.floor(sec))||(sec=0);var s=sec%60,m=Math.round((sec-s)/60)%60,t=Math.round((sec-(60*m+s))/3600)%60,setStr="";return setStr=String(t)+":",setStr+=("0"+String(m)).slice(-2)+":",setStr+=("0"+String(s)).slice(-2)},timeBox}(playerElementBase);EQPlayer_parts.timeBox=timeBox;var soundballoon=function(_super){function soundballoon(node){var _this=_super.call(this,node)||this;return _this.mouse_x=0,_this.mouse_y=0,_this.isOperating=!1,_this._enable=!0,_this._visible=!1,_this.ratio=1,_this.init(),_this}return __extends(soundballoon,_super),soundballoon.prototype.updatePosition=function(val){this.isOperating||(this.value=100*val,this.visible&&(100==this.base.clientHeight?this.ratio=1:this.ratio=.71),this.pointer.style.bottom=this.value*this.ratio-8+"px",this.volume.style.height=this.value*this.ratio+"px")},soundballoon.prototype.init=function(){var container=this.node.children[0];this.base=container.children[0],this.volume=container.children[1],this.pointer=container.children[2],this.pin=container.children[3],this.setEvent(),this.updatePosition(1)},soundballoon.prototype.setEvent=function(){var _this=this;this.node.addEventListener("mousedown",function(e){_this.onMouseDown(e)}),this.node.addEventListener("mousemove",function(e){_this.onMouseMove(e)}),this.node.addEventListener("touchstart",function(e){_this.onTouchStart(e)}),this.node.addEventListener("touchmove",function(e){_this.onTouchMove(e)}),document.addEventListener("mousemove",function(e){_this.onMouseMove(e)})},soundballoon.prototype.onMouseDown=function(e){var _this=this,event=(navigator.userAgent.toLowerCase(),new CustomEvent("sound_operation_start"));document.dispatchEvent(event),this.isOperating=!0,this.mouse_x=Number(e.clientX),this.mouse_y=Number(e.clientY),this.operatingTimer=setInterval(function(){_this.setPosition()},100),window.addEventListener("mouseup",function(e){_this.onMouseUp(e)},!1),document.body.addEventListener("mouseleave",function(e){_this.onMouseUp(e)},!1)},soundballoon.prototype.onMouseUp=function(e){if(this.isOperating){navigator.userAgent.toLowerCase();var event=new CustomEvent("sound_operation_end");clearInterval(this.operatingTimer),this.isOperating=!1,document.dispatchEvent(event)}},soundballoon.prototype.onMouseMove=function(e){this.isOperating&&(this.mouse_x=Number(e.clientX),this.mouse_y=Number(e.clientY))},soundballoon.prototype.setPosition=function(){var palRect=this.base.getBoundingClientRect(),height=(this.pointer.getBoundingClientRect(),this.base.clientHeight),position=(this.pointer.clientHeight,(Number(this.mouse_y)-palRect.top)/height);position<0&&(position=0),position>1&&(position=1),this.value=100*(1-position),100==this.base.clientHeight?this.ratio=1:this.ratio=.71,this.pointer.style.bottom=this.value*this.ratio-8+"px",this.volume.style.height=this.value*this.ratio+"px"},soundballoon.prototype.onTouchStart=function(e){event.preventDefault();var Element=this.node,event=new CustomEvent("seek_operation_start");Element.dispatchEvent(event),this.mouse_x=Number(e.touches[0].pageX),this.mouse_y=Number(e.touches[0].pageY),document.addEventListener("touchend",this.onTouchEnd,!1)},soundballoon.prototype.onTouchMove=function(e){event.preventDefault(),this.mouse_x=Number(e.touches[0].pageX),this.mouse_y=Number(e.touches[0].pageY)},soundballoon.prototype.onTouchEnd=function(e){document.removeEventListener("touchend",this.onTouchEnd,!1);var Element=this.node,event=new CustomEvent("seek_operation_end");Element.dispatchEvent(event)},soundballoon}(playerElementBase);EQPlayer_parts.soundballoon=soundballoon;var telopballoon=function(_super){function telopballoon(node){var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,_this.title=_this.node.children[0].children[0],_this.title.addEventListener("click",function(){_this.visible=!1}),_this.ul=_this.node.children[0].children[1],_this.pin=node.children[0].children[2],_this}return __extends(telopballoon,_super),telopballoon.prototype.setList=function(list,HTML5Player_t3){this.list=list;for(var i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=1;i<this.list.length;i++){var li=document.createElement("div");li.className="eq-balloon-item",li.onclick=function(i){return function(){HTML5Player_t3.changeSubtitles(i)}}(i);var block=document.createElement("div");block.innerText=this.list[i].text,block.setAttribute("index",i.toString()),li.appendChild(block),this.ul.appendChild(li)}},telopballoon.prototype.setFocus=function(subtitle){if(this.list)for(var i=1;i<this.list.length;i++)this.list[i].text==subtitle.text&&this.list[i].lang==subtitle.lang?this.ul.children[i-1].classList.add("eq-focus"):this.ul.children[i-1].classList.remove("eq-focus")},telopballoon}(playerElementBase);EQPlayer_parts.telopballoon=telopballoon;var resolutionballoon=function(_super){function resolutionballoon(node){var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,_this.title=_this.node.children[0].children[0],_this.title.addEventListener("click",function(){_this.visible=!1}),_this.ul=_this.node.children[0].children[1],_this.pin=node.children[0].children[2],_this}return __extends(resolutionballoon,_super),resolutionballoon.prototype.setList=function(list,HTML5Player_t3){this.list=list;for(var self=this,i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=0;i<this.list.length;i++){var li=document.createElement("div");li.className="eq-balloon-item",li.onclick=function(i){return function(){self.visible=!1,self.ul.style.overflowY="unset",HTML5Player_t3.changeQuality(HTML5Player_t3.movie_list[i].url)}}(i);var block=document.createElement("div");block.innerText=this.list[i].text,block.setAttribute("index",i.toString()),li.appendChild(block),this.ul.appendChild(li)}},resolutionballoon.prototype.setFocus=function(url){if(this.list)for(var i=0;i<this.list.length;i++)this.list[i].url==url?this.ul.children[i].classList.add("eq-focus"):this.ul.children[i].classList.remove("eq-focus");this.visible=!1},resolutionballoon}(playerElementBase);EQPlayer_parts.resolutionballoon=resolutionballoon;var speedballoon=function(_super){function speedballoon(node){var _this=_super.call(this,node)||this;return _this._enable=!0,_this._visible=!1,_this.title=_this.node.children[0].children[0],_this.title.addEventListener("click",function(){_this.visible=!1}),_this.ul=_this.node.children[0].children[1],_this.pin=node.children[0].children[2],_this}return __extends(speedballoon,_super),speedballoon.prototype.setList=function(list,HTML5Player_t3){this.list=list;for(var i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=0;i<this.list.length;i++){var li=document.createElement("div");li.className="eq-balloon-item";var val=this.list[i].toString();-1==val.indexOf(".")&&(val+=".0"),li.onclick=function(i){return function(){HTML5Player_t3.changePlaybackRate(HTML5Player_t3.playbackrateList[i])}}(i);var block=document.createElement("div");block.innerText=val,block.setAttribute("index",i.toString()),li.appendChild(block),this.ul.appendChild(li)}},speedballoon.prototype.setFocus=function(rate){if(this.list)for(var i=0;i<this.list.length;i++)this.list[i]==rate?this.ul.children[i].classList.add("eq-focus"):this.ul.children[i].classList.remove("eq-focus")},speedballoon}(playerElementBase);EQPlayer_parts.speedballoon=speedballoon;var selectTelop=function(_super){function selectTelop(node){var _this=_super.call(this,node)||this;return _this.title=_this.node.children[0],_this.event=new CustomEvent("closeSelectMenu"),_this.title.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(_this.event)}),_this.closeBtn=_this.node.children[1],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(_this.event)}),_this.ul=_this.node.children[2],_this.canvas=document.createElement("canvas"),_this.canvas.id="canvas",_this.canvas.style.visibility="hidden",_this.canvas.style.position="absolute",_this.node.appendChild(_this.canvas),_this}return __extends(selectTelop,_super),selectTelop.prototype.setList=function(list,HTML5Player_t3){var _this=this;this.list=list;for(var i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=1;i<this.list.length;i++){var li=document.createElement("div");li.className="eq-select-item",li.onclick=function(i){return function(){HTML5Player_t3.changeSubtitles(i),HTML5Player_t3.selectTelop.visible=!1,document.dispatchEvent(_this.event)}}(i);var block=document.createElement("div");block.innerText=this.list[i].text;block.innerText.length;var size=this.strWidth(this.list[i].text,0);if(size>100){var font,playerWidth=HTML5Player_t3.player.clientWidth,playerHeight=HTML5Player_t3.player.clientHeight;playerWidth<HTML5Player_t3.PLAYER_WIDTH_LANDSCAPE_SMALL||playerHeight<HTML5Player_t3.PLAYER_HEIGHT_LANDSCAPE_SMALL?(font=100/size*16,font=Math.floor(font),size>200&&(font=8,block.style.lineHeight="15px"),block.style.height="30px"):playerWidth<HTML5Player_t3.PLAYER_WIDTH_LANDSCAPE||playerHeight<HTML5Player_t3.PLAYER_HEIGHT_LANDSCAPE?(font=100/size*20,font=Math.floor(font),size>200&&(font=10,block.style.lineHeight="25px"),block.style.height="50px"):(font=100/size*20,font=Math.floor(font),size>200&&(font=9,block.style.lineHeight="30px"),block.style.height="60px"),block.style.fontSize=font+"px"}block.setAttribute("index",i.toString()),li.appendChild(block),this.ul.appendChild(li)}},selectTelop.prototype.setFocus=function(subtitle){if(this.list)for(var i=1;i<this.list.length;i++)this.list[i].text==subtitle.text&&this.list[i].lang==subtitle.lang?this.ul.children[i-1].classList.add("eq-focus"):this.ul.children[i-1].classList.remove("eq-focus")},selectTelop.prototype.getBytes=function(text){var i,bytes=0,len=text.length;for(i=0;i<len;i++)bytes+=text[i].charCodeAt(0)<=127?1:2;return bytes},selectTelop.prototype.strWidth=function(str,fontSize){if(this.canvas.getContext){var context=this.canvas.getContext("2d");return context.font="20px  Pro W3",context.measureText(str).width}return-1},selectTelop}(playerElementBase);EQPlayer_parts.selectTelop=selectTelop;var selectResolution=function(_super){function selectResolution(node){var _this=_super.call(this,node)||this;_this.title=_this.node.children[0];navigator.userAgent.toLowerCase();return _this.event=new CustomEvent("closeSelectMenu"),_this.title.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(_this.event)}),_this.closeBtn=_this.node.children[1],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(_this.event)}),_this.ul=_this.node.children[2],_this}return __extends(selectResolution,_super),selectResolution.prototype.setList=function(list,HTML5Player_t3){var _this=this;this.list=list;for(var i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=0;i<this.list.length;i++){var li=document.createElement("div");li.className="eq-select-item",li.onclick=function(i){return function(){HTML5Player_t3.changeQuality(HTML5Player_t3.movie_list[i].url),HTML5Player_t3.selectResolution.visible=!1,document.dispatchEvent(_this.event)}}(i);var block=document.createElement("div");HTML5Player_t3.isMobile()&&this.list[i].text.match(/\((.*)\)/)?block.innerText=this.list[i].text.match(/\((.*)\)/)[1]:block.innerText=this.list[i].text.replace(/\(.*\)/,""),block.setAttribute("index",i.toString()),li.appendChild(block),this.ul.appendChild(li)}},selectResolution.prototype.setFocus=function(url){if(this.list)for(var i=0;i<this.list.length;i++)this.list[i].url==url?this.ul.children[i].classList.add("eq-focus"):this.ul.children[i].classList.remove("eq-focus");this.visible=!1},selectResolution}(playerElementBase);EQPlayer_parts.selectResolution=selectResolution;var selectSpeed=function(_super){function selectSpeed(node){var _this=_super.call(this,node)||this;_this.title=_this.node.children[0];navigator.userAgent.toLowerCase();return _this.event=new CustomEvent("closeSelectMenu"),_this.title.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(_this.event)}),_this.closeBtn=_this.node.children[1],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,document.dispatchEvent(_this.event)}),_this.ul=_this.node.children[2],_this}return __extends(selectSpeed,_super),selectSpeed.prototype.setList=function(list,HTML5Player_t3){var _this=this;this.list=list;for(var i=this.ul.children.length-1;i>=0;i--)this.ul.removeChild(this.ul.children[i]);for(i=0;i<this.list.length;i++){var li=document.createElement("div");li.className="eq-select-item";var val=this.list[i].toString();-1==val.indexOf(".")&&(val+=".0"),li.onclick=function(i){return function(){HTML5Player_t3.changePlaybackRate(HTML5Player_t3.playbackrateList[i]),HTML5Player_t3.selectSpeed.visible=!1,document.dispatchEvent(_this.event)}}(i);var block=document.createElement("div");block.innerText=val,block.setAttribute("index",i.toString()),li.appendChild(block),this.ul.appendChild(li)}},selectSpeed.prototype.setFocus=function(rate){if(this.list)for(var i=0;i<this.list.length;i++)this.list[i]==rate?this.ul.children[i].classList.add("eq-focus"):this.ul.children[i].classList.remove("eq-focus")},selectSpeed}(playerElementBase);EQPlayer_parts.selectSpeed=selectSpeed;var captionContainer=function(_super){function captionContainer(node,useLightBox){var _this=_super.call(this,node)||this;_this.index=1,_this.viewingTrack={lang:"",label:""},_this.viewingCue={startTime:0,endTime:0,text:""},_this.useNativeTrack=!1,_this.isiOS=!1,_this._enable=!0,_this._visible=!1,_this.textNode=node.children[0];window.navigator.appVersion.toLowerCase();if(/iP(hone|od|ad)/.test(navigator.platform)){_this.isiOS=!0;var v=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);[parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3]||"0",10)][0]<10&&(_this.useNativeTrack=!0)}return _this.textTracks=[],_this}return __extends(captionContainer,_super),captionContainer.prototype.setFontSize=function(width,isMobile){var fontSize=20;isMobile?(fontSize=16,this.textNode.style.lineHeight="21px"):fontSize=width/30,this.textNode.style.fontSize=fontSize+"px",this.textNode.style.lineHeight=1.5*fontSize+"px"},captionContainer.prototype.createSubtitles=function(currentTime){var currentText="",textTrackCueList=[],element=this.textNode;window.navigator.appVersion.toLowerCase();if(this.list&&!(this.list.length<1)){var cueCheck=this.list[this.index];if(!this.useNativeTrack){if(0==this.index||1==this.index)return element.innerHTML=currentText,this.viewingCue.startTime=0,this.viewingCue.endTime=0,this.viewingCue.text="",this.viewingTrack.label="",void(this.viewingTrack.lang="");if(this.viewingCue.startTime>currentTime||this.viewingCue.endTime<currentTime||cueCheck.lang!=this.viewingTrack.lang||cueCheck.text!=this.viewingTrack.label){this.viewingCue.startTime=-1,this.viewingCue.endTime=-1,this.viewingTrack.lang=cueCheck.lang,this.viewingTrack.label=cueCheck.text;for(var textIndex=0;textIndex<this.textTracks.length;textIndex++)cueCheck.text===this.textTracks[textIndex].label&&cueCheck.lang===this.textTracks[textIndex].lang&&(textTrackCueList=this.textTracks[textIndex].textTrackCueList);for(var cueIndex=0;cueIndex<textTrackCueList.length;cueIndex++)if(textTrackCueList[cueIndex].startTime<=currentTime&&textTrackCueList[cueIndex].endTime>=currentTime){currentText=textTrackCueList[cueIndex].text,this.viewingCue.text=currentText,this.viewingCue.startTime=textTrackCueList[cueIndex].startTime,this.viewingCue.endTime=textTrackCueList[cueIndex].endTime;break}this.removeTextNode(),this.createTextNode(currentText)}}}},captionContainer.prototype.createTextNode=function(txt){this.textNode=document.createElement("span"),this.textNode.className="eq-caption_text",this.textNode.innerHTML=txt;var fontSize=this.node.clientWidth/30;this.textNode.style.fontSize=fontSize+"px",this.textNode.style.lineHeight=1.5*fontSize+"px",this.node.appendChild(this.textNode)},captionContainer.prototype.removeTextNode=function(){this.node.removeChild(this.textNode),this.textNode=null},captionContainer.prototype.init_subtitles=function(subtitles,instans){this.node,this.textNode;if(subtitles&&!(subtitles.length<3)){this.list=subtitles;for(var langTypes=[],i=2;i<subtitles.length;i++)if(/\.vtt$/.test(subtitles[i].url)){var vtt=this.getVtt(subtitles[i].url);if(null!==vtt&&""!==vtt)(cueList=new Object).textTrackCueList=this.parseVtt(vtt),cueList.label=subtitles[i].text,langTypes.length>0&&-1!=langTypes.indexOf(subtitles[i].lang)?subtitles[i].lang=subtitles[i].lang+"_"+i.toString():langTypes.push(subtitles[i].lang),cueList.lang=subtitles[i].lang,this.textTracks.push(cueList)}else if(/\.ttml$/.test(subtitles[i].url)){var cueList,ttml=this.getTTML(subtitles[i].url);if(null!==ttml)(cueList=new Object).textTrackCueList=this.parseTTML(ttml),cueList.label=subtitles[i].text,langTypes.length>0&&-1!=langTypes.indexOf(subtitles[i].lang)?subtitles[i].lang=subtitles[i].lang+"_"+i.toString():langTypes.push(subtitles[i].lang),cueList.lang=subtitles[i].lang,this.textTracks.push(cueList)}var textTrackIndex=-1;if(this.isiOS&&this.textTracks&&!(instans.playerInstans.accessor.model.playlist&&instans.playerInstans.accessor.model.playlist.length>0)){for(var index=0;index<this.textTracks.length;index++){this.textTracks[index].label==subtitles[this.index].text&&this.textTracks[index].lang==subtitles[this.index].lang&&(textTrackIndex=index);for(var track=this.video.addTextTrack("captions",this.textTracks[index].label,this.textTracks[index].lang),cueIndex=0;cueIndex<this.textTracks[index].textTrackCueList.length;cueIndex++)track.addCue(this.textTracks[index].textTrackCueList[cueIndex])}for(i=0;i<this.video.textTracks.length;i++)this.video.textTracks[i].mode="disabled";if(this.useNativeTrack)return void setTimeout(function(){this.video.textTracks[textTrackIndex].mode="showing"},1e3)}}},captionContainer.prototype.overwriteTextTracks=function(textTracks,useNativeTrack){},captionContainer.prototype.getVtt=function(src){var xmlHttp=new XMLHttpRequest;return xmlHttp.open("GET",src,!1),xmlHttp.send(null),xmlHttp.responseText},captionContainer.prototype.parseVtt=function(string){for(var startTime,endTime,text,match,timeStampIndex,lines=string.replace(/\r\n/gm,"\n").replace(/\r/gm,"\n").split("\n"),timestampMatcher=/([0-9,:,.]{0,})\s-->\s([0-9,:,.]{0,})/,brMatcher=/<br>$/gm,cues=[],index=0;index<lines.length;index++)if(match=lines[index].match(timestampMatcher)){text="",[],startTime=this.parseToNumber(match[1]),endTime=this.parseToNumber(match[2]);for(var nextIndex=index+1;nextIndex<lines.length&&(timeStampIndex=nextIndex,!lines[nextIndex].match(timestampMatcher));nextIndex++);for(timeStampIndex==lines.length-1&&(timeStampIndex+=1),text=lines.slice(index+1,timeStampIndex-1).join("\r\n<br>"),index=timeStampIndex-1;text.match(brMatcher);)text=text.replace(brMatcher,"");for(;text.match(/\r\n$/gm);)text=text.replace(/\r\n$/gm,"");var ua=window.navigator.userAgent.toLowerCase();if(void 0!==startTime&&void 0!==endTime)try{ua.match(/msie/)||ua.match(/trident/)||ua.match(/edge/)?cues.push(new TextTrackCue(startTime,endTime,text)):cues.push(new VTTCue(startTime,endTime,text))}catch(error){}}return cues},captionContainer.prototype.getTTML=function(src){var xmlHttp=new XMLHttpRequest;return xmlHttp.open("GET",src,!1),xmlHttp.send(null),xmlHttp.responseXML},captionContainer.prototype.parseTTML=function(ttml){var startTime,endTime,text,cues=[],textLines=[];textLines=ttml.getElementsByTagName("body")[0].getElementsByTagName("div")[0].getElementsByTagName("p");for(var index=0;index<textLines.length;index++){text=textLines[index].innerHTML,startTime=this.parseToNumber(textLines[index].getAttribute("begin")),endTime=this.parseToNumber(textLines[index].getAttribute("end"));var ua=window.navigator.userAgent.toLowerCase();if(void 0!==startTime&&void 0!==endTime)try{ua.match(/msie/)||ua.match(/trident/)||ua.match(/edge/)?cues.push(new TextTrackCue(startTime,endTime,text)):cues.push(new VTTCue(startTime,endTime,text))}catch(error){}}return cues},captionContainer.prototype.parseToNumber=function(time){var times=time.split(":"),seconds=0;return times.length>=3?(seconds=60*Number(times[0])*60,seconds+=60*Number(times[1]),seconds+=Number(times[2])):times.length>=2?(seconds+=60*Number(times[0]),seconds+=Number(times[1])):times.length>=1?seconds+=Number(times[0]):seconds},captionContainer.prototype.clearTextTracks=function(video){},captionContainer}(playerElementBase);EQPlayer_parts.captionContainer=captionContainer;var chapterContainer=function(_super){function chapterContainer(node){var _this=_super.call(this,node)||this;return _this.closeBtn=node.children[0],_this.closeBtn.addEventListener("click",function(){_this.visible=!1,_this.node.classList.remove("eq-chapter-slideInRight")}),_this.chapterList=new Array,_this.chapterListNode=document.createElement("div"),_this.node.appendChild(_this.chapterListNode),_this}return __extends(chapterContainer,_super),chapterContainer.prototype.setChapter=function(player,chapterData){if(this.chapterList=new Array,chapterData&&chapterData.length>0){this.chapterList=chapterData;for(var index=0;index<this.chapterList.length;index++){var elem=this.createChapterItem(index,this.chapterList[index],player);this.chapterListNode.appendChild(elem)}}},chapterContainer.prototype.createChapterItem=function(index,chapter,player){chapter.time=0==chapter.time?0:Math.floor(chapter.time/1e3);var chapterDiv=document.createElement("div");chapterDiv.className="eq-chapter",chapterDiv.addEventListener("click",function(){player.setCurrentTime(chapter.time)});var childDiv=document.createElement("div"),indexDiv=document.createElement("div");indexDiv.className="eq-chapter-index",indexDiv.innerText=(index+1).toString(),childDiv.appendChild(indexDiv);var textDiv=document.createElement("div");return textDiv.className="eq-chapter-text",textDiv.innerText=chapter.label,childDiv.appendChild(textDiv),chapterDiv.appendChild(childDiv),chapterDiv},chapterContainer}(playerElementBase);EQPlayer_parts.chapterContainer=chapterContainer}(EQPlayer_parts||(EQPlayer_parts={}));var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3,jstream_t3;!function(jstream_t3_1){var PlayerManger=function(){function PlayerManger(){}return PlayerManger.addPlayerAPI=function(player){var jstream_t3=window.jstream_t3;jstream_t3.PlayerManger_players;null==jstream_t3.PlayerManger_players&&(jstream_t3.PlayerManger_players={}),jstream_t3.PlayerManger_players[player.objectID]=player},PlayerManger.removePlayerAPI=function(objectID){PlayerManger.getPlayer(objectID)&&(PlayerManger.getPlayer(objectID).destroy(),delete window.jstream_t3.PlayerManger_players[objectID])},PlayerManger.getPlayer=function(objectID){var jstream_t3=window.jstream_t3;jstream_t3.PlayerManger_players;return null==jstream_t3.PlayerManger_players&&(jstream_t3.PlayerManger_players={}),jstream_t3.PlayerManger_players[objectID]},PlayerManger.getFlashVars=function(objectID){return PlayerManger.getPlayer(objectID).eqPlayer.getFlashVars().createVarsParam()},PlayerManger.getFlashVarsLength=function(objectID){return PlayerManger.getPlayer(objectID).eqPlayer.getFlashVarsLength()},PlayerManger.getFlashVarsAt=function(objectID,index){return PlayerManger.getPlayer(objectID).eqPlayer.getFlashVarsAt(index)},PlayerManger.dispatchEvent=function(objectID,type){PlayerManger.getPlayer(objectID).dispatchEvent(type)},PlayerManger.setState=function(objectID,state){PlayerManger.getPlayer(objectID).setState(state)},PlayerManger.sendClickBeacon=function(objectID,state){PlayerManger.getPlayer(objectID).sendClickBeacon(state)},PlayerManger.connectionCheck=function(objectID){PlayerManger.getPlayer(objectID).playCall()},PlayerManger}();jstream_t3_1.PlayerManger=PlayerManger}(jstream_t3||(jstream_t3={})),function(jstream_t3){var version=function(){function version(){}return version.getVersion=function(){return"player_3_2_0"},version.getAsemVersion=function(){return"v3.6.1r2019102901"},version}();jstream_t3.version=version}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(utils){var Util=function(){function Util(){}return Util.parseToTime=function(time){var sec=time%60,hour=Math.floor((time-sec)/60/60),min=Math.floor((time-sec-60*hour*60)/60),secStr=sec<10?"0"+Math.floor(sec).toString():Math.floor(sec).toString(),minStr=min<10?"0"+Math.floor(min).toString():Math.floor(min).toString();return hour.toString()+":"+minStr+":"+secStr},Util.getCanonical=function(){for(var linkList=document.getElementsByTagName("link"),i=0;i<linkList.length;i++)if("canonical"==linkList[i].rel){return linkList[i].href}return null},Util.getAPIServerURL=function(url){return url+"/apiservice/"},Util.parse_uri=function(uri){var m=uri.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return m?{scheme:m[1],authority:m[2],path:m[3],query:m[4],fragment:m[5]}:null},Util.encode=function(value){return null==value?value:value.split("&").join("__and__")},Util.decode=function(value){return null==value?value:value.split("__and__").join("&")},Util.decodeHTMLEncode=function(src){return null==src?src:src.split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&").split("&quot;").join('"').split("&nbsp;").join(" ")},Util.encodeHTMLEncode=function(str){return null==str?str:str=(str=(str=(str=(str=str.replace(/&/g,"&amp;")).replace(/\"/g,"&quot;")).replace(/\'/g,"&#039;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")},Util.isFlash=function(){return jstream_t3.utils.EmbedSwf.detectFlashVer(10,1,0)},Util.browserLanguage=function(){return Util.isMobileList().Android2?navigator.appVersion.indexOf("ja-jp")>=0?"ja":"en":document.all?navigator.browserLanguage.split("-")[0]:(window.navigator.userLanguage||window.navigator.language||window.navigator.browserLanguage).split("-")[0]},Util.getOSVersion=function(){return-1!=window.navigator.userAgent.toLowerCase().indexOf("nt 6.1")?"Win7":"other"},Util.getUserAgent=function(){var ua=window.navigator.userAgent.toLowerCase(),appVersion=window.navigator.appVersion.toLowerCase();if(ua.indexOf("msie")>-1||ua.indexOf("trident")>-1)return-1!=appVersion.indexOf("msie 6.")?"ie6":-1!=appVersion.indexOf("msie 7.")?"ie7":-1!=appVersion.indexOf("msie 8.")?"ie8":-1!=appVersion.indexOf("msie 9.")?"ie9":-1!=appVersion.indexOf("msie 10.")?"ie10":"IE";if(ua.indexOf("edge")>-1)return"edge";if(ua.indexOf("firefox")>-1)return"Firefox";if(ua.indexOf("opera")>-1)return"opera";if(ua.indexOf("netscape")>-1)return"netscape";if(ua.indexOf("chrome")>-1)return"Chrome";if(ua.indexOf("safari")>-1&&-1==ua.indexOf("mobile")){return parseInt(/version\/(\d+)/.exec(appVersion)[1])>=9?"Safari":"oldSafari"}return"Unknown"},Util.isMobileList=function(userAgent){return void 0===userAgent&&(userAgent=null),null==Util.isMobile&&(Util.isMobile=new MobileAgentList(userAgent)),Util.isMobile},Util.isAndroidMobile=function(){var ua=navigator.userAgent;return!!(/Android/.test(ua)&&/Linux; U;/.test(ua)&&!/Chrome/.test(ua)||/Android/.test(ua)&&/Chrome/.test(ua)&&/Version/.test(ua)||/Android/.test(ua)&&/Chrome/.test(ua)&&/SamsungBrowser/.test(ua))},Util.isLegacyBrowser=function(os,browser){return!1},Util.isPC=function(){var ua=window.navigator.userAgent.toLowerCase();return!(ua.indexOf("iphone")>0||ua.indexOf("ipad")>0||ua.indexOf("android")>0&&ua.indexOf("mobile")>0||ua.indexOf("windows phone")>0)},Util.getOS=function(){window.navigator.platform.toLowerCase();return""},Util.deleteNullItem=function(myArray){var i,_results;if(myArray){for(i=myArray.length-1,_results=[];i>=0;)myArray[i]||myArray.splice(i,1),_results.push(i--);return _results}},Util.isFunction=function(value){return"function"==typeof value},Util.isObject=function(value){return"object"==typeof value},Util.escapeObject=function(value){if(null==value||"function"==typeof value)return null;if("string"==typeof value)return window.escape(value);if("number"==typeof value||"boolean"==typeof value)return value;var result;for(var prop in result=value instanceof Array?[]:{},value)result[prop]=Util.escapeObject(value[prop]);return result},Util.changeParamName=function(params){return params.base=params.b,params.contract_id=params.c,params.meta_id=params.m||params.meta_id,params.partner_id=params.pcid||params.partner_id,params.maker_id=params.mkid||params.maker_id,params.product_id=params.pdid||params.product_id,params.t<=0&&(params.t=void 0),params.start_time=params.t,params.plugins=params.p,params.va_url=params.v,params.width=params.s.wp,params.height=params.s.hp,isNaN(parseFloat(params.s.wt))||(params.s.wt=parseFloat(params.s.wt)),params.thumb_width=params.s.wt,isNaN(parseFloat(params.s.ht))||(params.s.ht=parseFloat(params.s.ht)),params.thumb_height=params.s.ht,params.responsive=params.s.rp,params.default_quality=params.s.dq||2,params.auth=params.a,params.optionId=params.opid,params.onetimeTag=params.ot,params.line=params.s.line,params.isPreview=params.s.isPreview,params.playlist_id=params.pl||params.playlist_id,params.lightboxTextLink=params.ltl||params.lightboxTextLink||"",params.lightboxTextLink=decodeURI(params.lightboxTextLink),1===params.lfs||2===params.lfs?params.liveFeedSelect=params.lfs:params.liveFeedSelect=0,params},Util.checkDynamicPlayerSetting=function(params){var isDynamic=!0;if(params.s)for(var prop in params)if("rp"!=prop&&"va"!=prop){isDynamic=!1;break}return isDynamic},Util.unObfuscate=function(str){return str=decodeURIComponent(str),str=this.base64decode(str).toString()},Util.obfuscate=function(str){return str=this.base64encode(str),str=encodeURIComponent(str)},Util.base64encode=function(s){for(var c,t="",p=-6,a=0,i=0,v=0;i<s.length||p>-6;)p<0&&(i<s.length?(c=s.charCodeAt(i++),v+=8):c=0,a=(255&a)<<8|255&c,p+=8),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(v>0?a>>p&63:64),p-=6,v-=6;return t},Util.base64decode=function(s){for(var c,d,t="",p=-8,a=0,i=0;i<s.length;i++)(c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s.charAt(i)))<0||(a=a<<6|63&c,(p+=6)>=0&&(d=a>>p&255,64!=c&&(t+=String.fromCharCode(d)),a&=63,p-=8));return t},Util.toJSON=function(obj){var buff=[],read=function(o){if("function"!=typeof o){if("string"==typeof o||o instanceof String)return'"'+o+'"';if("number"==typeof o||o instanceof Number)return o;if(o instanceof Array){if(o){for(var idx in buff.push("["),o)buff.push(read(o[idx])),buff.push(", ");o.length>0&&delete buff[buff.length-1],buff.push("]")}}else if(o instanceof Object&&o){for(var key in buff.push("{"),o)buff.push(key+": "),buff.push(read(o[key])),buff.push(",");delete buff[buff.length-1],buff.push("}")}}};return read(obj),buff.join("")},Util.toJSONforCustomVA=function(obj){var buff=[],read=function(o){if("function"!=typeof o){if("string"==typeof o||o instanceof String)return'"'+o+'"';if("number"==typeof o||o instanceof Number)return o;if(o instanceof Array){if(o){for(var idx in buff.push("["),o)buff.push(read(o[idx])),buff.push(", ");o.length>0&&delete buff[buff.length-1],buff.push("]")}}else if(o instanceof Object&&o){for(var key in buff.push("{"),o)buff.push('"'+key+'": '),buff.push(read(o[key])),buff.push(",");delete buff[buff.length-1],buff.push("}")}}};return read(obj),buff.join("")},Util.toQuery=function(obj){var buff=[],read=function(o){if("function"!=typeof o){if("string"==typeof o||o instanceof String)return o;if("number"==typeof o||o instanceof Number)return o;if(o instanceof Array){if(o){for(var idx in buff.push("["),o)buff.push(read(o[idx])),buff.push(", ");o.length>0&&delete buff[buff.length-1],buff.push("]")}}else if(o instanceof Object&&o){for(var key in buff.push("{"),o)buff.push(key+": "),buff.push(read(o[key])),buff.push(",");delete buff[buff.length-1],buff.push("}")}}};return read(obj),buff.join("")},Util.GetCookie=function(name){var result=null,cookieName=name+"=",allcookies=window.document.cookie,position=allcookies.indexOf(cookieName);if(-1!=position){var startIndex=position+cookieName.length,endIndex=allcookies.indexOf(";",startIndex);-1==endIndex&&(endIndex=allcookies.length),result=decodeURIComponent(allcookies.substring(startIndex,endIndex))}return result},Util.SetCookie=function(name,value,path,period,domain){if(void 0===period&&(period=null),void 0===domain&&(domain=null),null==domain||(domain="domain="+domain+";"),null!=period){var date=new Date;date.setTime(date.getTime()+60*period*60*24*1e3);var nowtime=(new Date).getTime(),expires=(new Date(nowtime+864e5*period),date.toUTCString()),max_age=86400*period;window.document.cookie=name+"="+encodeURIComponent(value)+";path=/;"+domain+"max-age="+max_age+";expires="+expires}else window.document.cookie=name+"="+encodeURIComponent(value)+";path=/;"+domain},Util.CheckOverCookie=function(key,name,max){var cookies=window.document.cookie.split(";");if(-1!=window.document.cookie.indexOf(name))return null;for(var firstCookie=null,cookieCount=0,i=0;i<cookies.length;i++)-1!=cookies[i].indexOf(key)&&(null==firstCookie&&(firstCookie=cookies[i].split("=")[0]),cookieCount++);return cookieCount>=max?firstCookie:null},Util.DeleteCookie=function(name,domain){void 0===domain&&(domain=null),null==domain||(domain="domain="+domain+";");var date1=new Date;date1.setTime(0),window.document.cookie=name+"=;path=/;"+domain+" expires="+date1.toDateString()},Util.ReplaceHtmltagWithString=function(originString,htmlTagName,newString){var pattern="/<"+htmlTagName+"[^>]+?/>|<"+htmlTagName+"(.|s)*?/"+htmlTagName+">/gi";return originString.replace(pattern,newString)},Util.messageConvertForLegacy=function(msg,value,iframeID){var stringMessage;if(stringMessage=msg,"string"==typeof value)stringMessage+=","+value;else for(var prop in value)stringMessage+=","+value[prop];return stringMessage+=","+iframeID},Util.messageRevertForLagacy=function(data){var returnObject={msg:"",value:"",iframeID:""},parseData=data.split(",");if(3==parseData.length)returnObject.msg=parseData[0],returnObject.value=parseData[1],returnObject.iframeID=parseData[2];else{returnObject.msg=parseData[0];var value={currentTime:parseData[1],totalTime:parseData[2],quality:parseData[3],isMute:parseData[4],volume:parseData[5],playbackRate:parseData[6],currentAPI:parseData[7]};returnObject.value=value,returnObject.iframeID=parseData[parseData.length-1]}return returnObject},Util.createCrashReportQuery=function(errorCode,crashPoint,cid,mid,tagType,params,referer){return"?errorCode="+errorCode+"&crashPoint="+crashPoint+"&cid="+cid+"&mid="+mid+"&tagType="+tagType+"&params="+encodeURIComponent(JSON.stringify(params))+"&referer="+encodeURIComponent(referer)+"&version="+jstream_t3.version.getAsemVersion()},Util.createLogReportQuery=function(cid,mid,tagType,params,referer){return"?cid="+cid+"&mid="+mid+"&tagType="+tagType+"&params="+encodeURIComponent(JSON.stringify(params))+"&referer="+encodeURIComponent(referer)+"&version="+jstream_t3.version.getAsemVersion()},Util.appendScript=function(endpoint,query){var script=document.createElement("script");script.src=endpoint+query,document.body.appendChild(script)},Util.isPublishSitePlayerSetting=function(params){var checkParamList=["ti","ip","is","fa","ft","cp","pb","wm","wd","rb","sb","vc","fs","mb","el","tg","il","sn","rs","pr","dq","mdq","lu","skb","plac","cpt"];for(var prop in params)for(var j=0;j<checkParamList.length;j++)if(prop==checkParamList[j])return!1;return!0},Util.isContainApiDomain=function(url){return-1!=url.search(/api.*-platform\.stream\.co\.jp/)},Util}();utils.Util=Util;var MobileAgentList=function(){return function(userAgent){void 0===userAgent&&(userAgent=null),this.iOSP=!1,this.iOST=!1,this.Android1=!1,this.Android2=!1,this.Android3=!1,this.Android4=!1,this.BlackBerry=!1,this.Windows=!1,this.WindowsPC=!1,this.Firefox=!1;var agent=userAgent||navigator.userAgent,navMatch=function(exp){return!!agent.match(exp)};this.iOSP=navMatch(/iPhone|iPod/i),this.iOST=navMatch(/iPad/i),this.Android1=navMatch(/Android 1/i),this.Android2=navMatch(/Android 2/i),this.Android3=navMatch(/Android 3/i),this.Android4=navMatch(/Android [4-9]/i)||navMatch(/Silk/i),this.BlackBerry=navMatch(/BlackBerry/i),this.Windows=navMatch(/Windows Phone/i),this.WindowsPC=navMatch(/Windows NT/i),this.Firefox=navMatch(/Firefox/i)&&navMatch(/Mobile|Tablet/i)}}();utils.MobileAgentList=MobileAgentList;var Trace=function(){function Trace(){}return Trace.write=function(str){var el=document.getElementById("debug");if(el){var dt=new Date,HHMMSS=String(dt.getHours()+100).substr(1)+":"+String(dt.getMinutes()+100).substr(1)+":"+String(dt.getSeconds()+100).substr(1)+"."+String(dt.getMilliseconds()+1e3).substr(1),tmpStr=el.innerText;el.innerText=HHMMSS+" "+str+"\n"+tmpStr}},Trace}();utils.Trace=Trace;var EmbedSwf=function(){function EmbedSwf(){}return EmbedSwf.embed=function(id,path,width,height,thumb){void 0===thumb&&(thumb=null);var params={quality:"high",bgcolor:"#000000",play:"true",loop:"false",wmode:"opaque",scale:"noScale",menu:"false",devicefont:"false",salign:"TL",allowscriptaccess:"always",allowfullscreen:"true"},target=document.getElementById(id);if(window.ActiveXObject){var objectTag,paramTags="";for(var key in params)paramTags+='<param name="'+key+'" value="'+params[key]+'" />';paramTags+='<param name="movie" value="'+path+'" />',objectTag='<object id="'+id+'" name="'+id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+String(width)+'" height="'+String(height)+'">'+paramTags+"</object>",target.outerHTML=objectTag;var object=document.getElementById(id)}else{var parent=target.parentElement;parent.removeChild(target);object=document.createElement("object");for(var key in object.id=id,object.setAttribute("name",id),object.setAttribute("type","application/x-shockwave-flash"),object.setAttribute("width",String(width)),object.setAttribute("height",String(height)),object.setAttribute("data",path),params){var param=document.createElement("param");param.setAttribute("name",key),param.setAttribute("value",params[key]),object.appendChild(param)}var w=-1,h=-1;if(null!=width&&(w="100%"==width?parent.clientWidth:parseInt(width)),null!=height&&(h="100%"==height?parent.clientHeight:parseInt(height)),null!=thumb&&(w<398||h<298)){var img=document.createElement("param");img.setAttribute("name","poster"),img.setAttribute("value",thumb),object.appendChild(img)}parent.appendChild(object)}},EmbedSwf.fallbackEmbed=function(id,path,width,height,thumb){void 0===thumb&&(thumb=null);var params={quality:"high",bgcolor:"#000000",play:"true",loop:"false",wmode:"opaque",scale:"noScale",menu:"false",devicefont:"false",salign:"TL",allowscriptaccess:"always",allowfullscreen:"true"},target=document.getElementById(id);if(window.ActiveXObject){var objectTag,paramTags="";for(var key in params)paramTags+='<param name="'+key+'" value="'+params[key]+'" />';paramTags+='<param name="movie" value="'+path+'" />',objectTag='<object id="'+id+'" name="'+id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+String(width)+'" height="'+String(height)+'">'+paramTags+"</object>",target.innerHTML=objectTag;var object=document.getElementById(id)}else{var parent=target.parentElement;object=document.createElement("object");for(var key in object.id=id+"fallback",object.setAttribute("name",id+"fallback"),object.setAttribute("type","application/x-shockwave-flash"),object.setAttribute("width",String(width)),object.setAttribute("height",String(height)),object.setAttribute("data",path),params){var param=document.createElement("param");param.setAttribute("name",key),param.setAttribute("value",params[key]),object.appendChild(param)}var w=-1,h=-1;if(null!=width&&(w="100%"==width?parent.clientWidth:parseInt(width)),null!=height&&(h="100%"==height?parent.clientHeight:parseInt(height)),null!=thumb&&(w<398||h<298)){var img=document.createElement("param");img.setAttribute("name","poster"),img.setAttribute("value",thumb),object.appendChild(img)}target.appendChild(object)}},EmbedSwf.getFpVer=function(){var isIE=-1!=navigator.appVersion.indexOf("MSIE"),isWin=-1!=navigator.appVersion.toLowerCase().indexOf("win"),isOpera=-1!=navigator.userAgent.indexOf("Opera"),flashVer="-1";if(null!=navigator.plugins&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",descArray=navigator.plugins["Shockwave Flash"+swVer2].description.split(" "),tempArrayMajor=descArray[2].split("."),versionMajor=tempArrayMajor[0],versionMinor=tempArrayMajor[1],versionRevision=descArray[3];""==versionRevision&&(versionRevision=descArray[4]),"d"==versionRevision[0]?versionRevision=versionRevision.substring(1):"r"==versionRevision[0]&&(versionRevision=versionRevision.substring(1)).indexOf("d")>0&&(versionRevision=versionRevision.substring(0,versionRevision.indexOf("d")));flashVer=versionMajor+"."+versionMinor+"."+versionRevision}}else isIE&&isWin&&!isOpera&&(flashVer=this.controlVersion());return flashVer},EmbedSwf.controlVersion=function(){var version,axo;try{version=(axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(e){}if(!version)try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),version="WIN 6,0,21,0",axo.AllowScriptAccess="always",version=axo.GetVariable("$version")}catch(e){version=-1}return version},EmbedSwf.detectFlashVer=function(reqMajorVer,reqMinorVer,reqRevision){var versionStr=this.getFpVer();if("-1"==versionStr)return!1;if("0"!=versionStr){if(versionStr.match(/ /)){var tmpArray=versionStr.split(" ");versionStr=String(tmpArray[1])}var versionArray=versionStr.replace(/,/g,".").split("."),versionMajor=versionArray[0],versionMinor=versionArray[1],versionRevision=versionArray[2];if(versionMajor>parseFloat(reqMajorVer))return!0;if(versionMajor==parseFloat(reqMajorVer)){if(versionMinor>parseFloat(reqMinorVer))return!0;if(versionMinor==parseFloat(reqMinorVer)&&versionRevision>=parseFloat(reqRevision))return!0}return!1}},EmbedSwf}();utils.EmbedSwf=EmbedSwf}(jstream_t3.utils||(jstream_t3.utils={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(events){var Event=function(){function Event(type,data){void 0===type&&(type=null),void 0===data&&(data=null),this.type=type,this.data=data}return Event.LOADED="loaded",Event.ERROR="error",Event}();events.Event=Event}(jstream_t3.events||(jstream_t3.events={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(events){var EventDispatcher=function(){function EventDispatcher(){this.listeners={}}return EventDispatcher.prototype.dispatchEvent=function(event){var e,type;if(event instanceof events.Event?(type=event.type,e=event):(type=event,e=new events.Event(type)),null!=this.listeners[type]){e.currentTarget=this;for(var i=0;i<this.listeners[type].length;i++){var listener=this.listeners[type][i];try{listener.handler(e)}catch(error){window.console&&console.error(error.stack)}}}},EventDispatcher.prototype.dispatchCustomEvent=function(event){var e,type;if(event instanceof CustomEvent&&(type=event.type,e=event),null!=this.listeners[type])for(var i=0;i<this.listeners[type].length;i++){var listener=this.listeners[type][i];try{listener.handler(e)}catch(error){window.console&&console.error(error.stack)}}},EventDispatcher.prototype.addEventListener=function(type,callback,priolity){void 0===priolity&&(priolity=0),null==this.listeners[type]&&(this.listeners[type]=[]),this.listeners[type].push(new EventListener(type,callback,priolity)),this.listeners[type].sort(function(listerner1,listener2){return listener2.priolity-listerner1.priolity})},EventDispatcher.prototype.removeEventListener=function(type,callback){if(this.hasEventListener(type,callback))for(var i=0;i<this.listeners[type].length;i++){var listener=this.listeners[type][i];if(listener.equalCurrentListener(type,callback))return listener.handler=null,void this.listeners[type].splice(i,1)}},EventDispatcher.prototype.clearEventListener=function(){this.listeners={}},EventDispatcher.prototype.containEventListener=function(type){return null!=this.listeners[type]&&this.listeners[type].length>0},EventDispatcher.prototype.hasEventListener=function(type,callback){if(null==this.listeners[type])return!1;for(var i=0;i<this.listeners[type].length;i++){if(this.listeners[type][i].equalCurrentListener(type,callback))return!0}return!1},EventDispatcher}();events.EventDispatcher=EventDispatcher;var EventListener=function(){function EventListener(type,handler,priolity){void 0===type&&(type=null),void 0===handler&&(handler=null),void 0===priolity&&(priolity=0),this.type=type,this.handler=handler,this.priolity=priolity}return EventListener.prototype.equalCurrentListener=function(type,handler){return this.type==type&&this.handler==handler},EventListener}()}(jstream_t3.events||(jstream_t3.events={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(resource){var LanguageKinds=function(){return function(){}}();resource.LanguageKinds=LanguageKinds;var LanguageResource=function(){function LanguageResource(languageResouce){void 0===languageResouce&&(languageResouce=null),this.kinds=new LanguageKinds,this.setUp(),null!=languageResouce&&this.setUpResource(languageResouce)}return LanguageResource.kinds=function(){if(null==jstream_t3.resource.LanguageResource_kinds){var language=new LanguageResource;jstream_t3.resource.LanguageResource_kinds=language.kinds}return jstream_t3.resource.LanguageResource_kinds},LanguageResource.prototype.getMessage=function(type){return this.kinds[type]},LanguageResource.prototype.setUp=function(){if("ja"==jstream_t3.utils.Util.browserLanguage())return this.kinds.ERROR_LIMIT="",this.kinds.ERROR_LIMIT_MESSAGE="(P5001)",this.kinds.ERROR_LIMIT_PRE_TITLE="",this.kinds.ERROR_LIMIT_PRE_MESSAGE="(P5002)",this.kinds.ERROR_LIMIT_OVER_TITLE="",this.kinds.ERROR_LIMIT_OVER_MESSAGE="(P5003)",this.kinds.ERROR_META_DATA_TITLE="",this.kinds.ERROR_META_DATA_MESSAGE="(P1001)",this.kinds.ERROR_SETTING_TITLE="",this.kinds.ERROR_SETTING_DELETE="(P0501)",this.kinds.ERROR_ENV_TITLE="",this.kinds.ERROR_ENV_MESSAGE="(P5101:_STATUS_)",this.kinds.ERROR_CID_ILLEGAL_TITLE="",this.kinds.ERROR_CID_ILLEGAL_MESSAGE="(P0201)",this.kinds.SHARE_MOVIE="",this.kinds.LINKS="",this.kinds.MOVIES="",this.kinds.VIRALTAG_TITLE="",this.kinds.VIRALTAG="",this.kinds.VIRALTAG_BTN="",this.kinds.AUTH="",this.kinds.ERROR_AUTH="",this.kinds.ID="ID",this.kinds.PASS="",this.kinds.PLAY="",this.kinds.Replay="",this.kinds.Speed="",this.kinds.Caption="",this.kinds.Quality="",this.kinds.Unmute="",this.kinds.Label_Low="",this.kinds.Label_Standard="",this.kinds.Label_High="",this.kinds.Label_HD="",this.kinds.Label_FullHD="",this.kinds.Label_4K="",this.kinds.Label_Auto="",this.kinds.ERROR_TITLE="",this.kinds.ERROR_MOVIE_NOT_FOUND="(P7011)",this.kinds.ERROR_MOVIE_NOT_FOUND_2="(P7012)",this.kinds.ERROR_NO_FLASH_TITLE="FlashPlayer",this.kinds.ERROR_NO_FLASH_MESSAGE='<span style="color:#fff">Flash Player<br /><a target="_blank" href="https://www.adobe.com/go/getflashplayer" style="color:#ff0;" >Flash Player</a>(P0102)</span>',this.kinds.ERROR_NO_FLASH_ANDROID_TITLE="FlashPlayer",this.kinds.ERROR_NO_FLASH_ANDROID_MESSAGE="Flash Player(P0103)",this.kinds.ERROR_SERVICE_TITLE="",this.kinds.ERROR_SERVICE_DELETE="(P2001)",this.kinds.ERROR_LIVE_RELOAD="<br />(P7101)",this.kinds.P1201T="",this.kinds.P1201M="(P1201)",this.kinds.P3001T="",this.kinds.P3001M="(P3001)",this.kinds.P3501T="",this.kinds.P3501M="(P3501)",this.kinds.P3502M="(P3502)",this.kinds.P3503M="(P3503)",this.kinds.P3502T="",this.kinds.P3503T="",this.kinds.P8001T="",this.kinds.P8001M="(P8001)",this.kinds.P8002T="",this.kinds.P8002M="(P8002)",this.kinds.P8003T="",this.kinds.P8003M="(P8003)",this.kinds.P8004T="",this.kinds.P8004M="(P8004)",this.kinds.P8005T="",this.kinds.P8005M="(P8005)",this.kinds.P8006T="",this.kinds.P8006M="(P8006)",this.kinds.P8007T="",this.kinds.P8007M="(P8007)",this.kinds.P8008T="",this.kinds.P8008M="(P8008)",this.kinds.P8009T="",this.kinds.P8009M="(P8009)",this.kinds.P8010T="",this.kinds.P8010M="(P8010)",this.kinds.P8011T="",this.kinds.P8011M="(P8011)",this.kinds.P8012T="",this.kinds.P8012M="(P8012)",this.kinds.P8013T="",this.kinds.P8013M="(P8013)",this.kinds.P8014T="",this.kinds.P8014M="(P8014)",this.kinds.P8015T="",this.kinds.P8015M="(P8015)",this.kinds.P8016T="",this.kinds.P8016M="(P8016)",this.kinds.P8017T="",this.kinds.P8017M="(P8017)",this.kinds.P8018T="",this.kinds.P8018M="(P8018)",this.kinds.P8019T="",this.kinds.P8019M="(P8019)",this.kinds.P8020T="",this.kinds.P8020M="(P8020)",this.kinds.P8021T="",this.kinds.P8021M="(P8021)",this.kinds.P8022T="",this.kinds.P8022M="(P8022)",this.kinds.P8000T="",void(this.kinds.P8000M="(P8000)");this.kinds.ERROR_LIMIT="Content Not Available",this.kinds.ERROR_LIMIT_MESSAGE="This content is not currently available.<br />This content is only available for a limited term.(P5001)",this.kinds.ERROR_LIMIT_PRE_TITLE="Content Not Available",this.kinds.ERROR_LIMIT_PRE_MESSAGE="This content is not in public yet.<br />This content will be available in the near future.(P5002)",this.kinds.ERROR_LIMIT_OVER_TITLE="Content Not Available",this.kinds.ERROR_LIMIT_OVER_MESSAGE="This content has been expired.<br />This content was only available for a limited term(P5003)",this.kinds.ERROR_META_DATA_TITLE="Player failed to load this content information",this.kinds.ERROR_SETTING_TITLE="Failed to load configuration files of this player",this.kinds.ERROR_SETTING_DELETE="This player configuration may have been deleted by the publisher.(P0501)",this.kinds.ERROR_ENV_TITLE="Unauthorized content.",this.kinds.ERROR_ENV_MESSAGE="Unauthorized content.(P5101:_STATUS_)",this.kinds.SHARE_MOVIE="Share This Content",this.kinds.ERROR_META_DATA_MESSAGE="This content has been deleted or is being converted. (P1001)",this.kinds.ERROR_CID_ILLEGAL_TITLE="Failed to load this content information",this.kinds.ERROR_CID_ILLEGAL_MESSAGE="Illegal data exists in content information.(P0201)",this.kinds.LINKS="Related Link",this.kinds.MOVIES="Related Movie",this.kinds.VIRALTAG_TITLE="Viral Tag",this.kinds.VIRALTAG="Viral Tag",this.kinds.VIRALTAG_BTN="Copy Viral Tag",this.kinds.AUTH="Enter ID/PW",this.kinds.ERROR_AUTH="Invalid ID or PW",this.kinds.ID="ID",this.kinds.PASS="PASSWORD",this.kinds.PLAY="PLAY",this.kinds.Label_Low="Low",this.kinds.Label_Standard="Standard",this.kinds.Label_High="High",this.kinds.Label_HD="HD",this.kinds.Label_FullHD="FullHD",this.kinds.Label_4K="4K",this.kinds.Label_Auto="AUTO",this.kinds.Replay="Replay",this.kinds.Speed="Speed",this.kinds.Caption="Caption",this.kinds.Quality="Quality",this.kinds.Unmute="Unmute",this.kinds.ERROR_TITLE="Error",this.kinds.ERROR_MOVIE_NOT_FOUND="Movie not found(P7011)",this.kinds.ERROR_MOVIE_NOT_FOUND_2="Movie not found(P7012)",this.kinds.ERROR_NO_FLASH_TITLE="flashPlayer not found",this.kinds.ERROR_NO_FLASH_MESSAGE='<span style="color:#fff">Require "Flash Player" to play this content. Please<br /><a target="_blank" href="https://www.adobe.com/go/getflashplayer" style="color:#ff0">install the Flash Player.</a>(P0102)</span>',this.kinds.ERROR_NO_FLASH_ANDROID_TITLE="flashPlayer not found",this.kinds.ERROR_NO_FLASH_ANDROID_MESSAGE="This content is unavailable to you because your device doesn't support Flash Player.(P0103)",this.kinds.ERROR_SERVICE_TITLE="Failed to load configuration files of this serivce",this.kinds.ERROR_SERVICE_DELETE="This service configuration may have been deleted by the publisher.(P2001)",this.kinds.ERROR_LIVE_RELOAD="Live broadcast is interrupted.<br />Please try reload this page.(P7101)",this.kinds.P1201T="Player failed to load this live information",this.kinds.P1201M="This live may be canceled.(P1201)",this.kinds.P3001T="Player failed to load live status.",this.kinds.P3001M="Please try reload this page.(P3001)",this.kinds.P3501T="Player failed to load live status.",this.kinds.P3501M="Please try reload this page.(P3501)",this.kinds.P3502M="Please reload the page or access it again after a while.(P3502)",this.kinds.P3503M="Please reload the page or access it again after a while.(P3503)",this.kinds.P3502T="Player failed to load content information.",this.kinds.P3503T="Player failed to load content information.",this.kinds.P8001T="Network Error",this.kinds.P8001M="Failed to load.<br>To recconect the session, reload this page please.(P8001)",this.kinds.P8002T="Network Error",this.kinds.P8002M="Failed to load.<br>To recconect the session, reload this page please.(P8002)",this.kinds.P8003T="Network Error",this.kinds.P8003M="Failed to load.<br>To recconect the session, reload this page please.(P8003)",this.kinds.P8004T="Network Error",this.kinds.P8004M="Failed to load.<br>To recconect the session, reload this page please.(P8004)",this.kinds.P8005T="Network Error",this.kinds.P8005M="Failed to load.<br>To recconect the session, reload this page please.(P8005)",this.kinds.P8006T="Network Error",this.kinds.P8006M="Failed to load.<br>To recconect the session, reload this page please.(P8006)",this.kinds.P8007T="Network Error",this.kinds.P8007M="Failed to load.<br>To recconect the session, reload this page please.(P8007)",this.kinds.P8008T="Network Error",this.kinds.P8008M="Failed to load.<br>To recconect the session, reload this page please.(P8008)",this.kinds.P8009T="Network Error",this.kinds.P8009M="Failed to load.<br>To recconect the session, reload this page please.(P8009)",this.kinds.P8010T="Network Error",this.kinds.P8010M="Failed to load.<br>To recconect the session, reload this page please.(P8010)",this.kinds.P8011T="Media Error",this.kinds.P8011M="Failed to load.<br>To recconect the session, reload this page please.(P8011)",this.kinds.P8012T="Media Error",this.kinds.P8012M="Failed to load.<br>To recconect the session, reload this page please.(P8012)",this.kinds.P8013T="Media Error",this.kinds.P8013M="Failed to load.<br>To recconect the session, reload this page please.(P8013)",this.kinds.P8014T="Media Error",this.kinds.P8014M="Failed to load.<br>To recconect the session, reload this page please.(P8014)",this.kinds.P8015T="Media Error",this.kinds.P8015M="Failed to load.<br>To recconect the session, reload this page please.(P8015)",this.kinds.P8016T="Media Error",this.kinds.P8016M="Failed to load.<br>To recconect the session, reload this page please.(P8016)",this.kinds.P8017T="Media Error",this.kinds.P8017M="Failed to load.<br>To recconect the session, reload this page please.(P8017)",this.kinds.P8018T="Other Error",this.kinds.P8018M="Failed to load.<br>To recconect the session, reload this page please.(P8018)",this.kinds.P8019T="Other Error",this.kinds.P8019M="Failed to load.<br>To recconect the session, reload this page please.(P8019)",this.kinds.P8020T="Other Error",this.kinds.P8020M="Failed to load.<br>To recconect the session, reload this page please.(P8020)",this.kinds.P8021T="Other Error",this.kinds.P8021M="Failed to load.<br>To recconect the session, reload this page please.(P8021)",this.kinds.P8022T="Other Error",this.kinds.P8022M="Failed to load.<br>To recconect the session, reload this page please.(P8022)",this.kinds.P8000T="Other Error",this.kinds.P8000M="Failed to load.<br>To recconect the session, reload this page please.(P8000)"},LanguageResource.prototype.setUpResource=function(languageResouce){this.kinds.ERROR_LIMIT=null!=languageResouce.title_P5001?languageResouce.title_P5001:this.kinds.ERROR_LIMIT,this.kinds.ERROR_LIMIT_MESSAGE=null!=languageResouce.info_P5001?languageResouce.info_P5001:this.kinds.ERROR_LIMIT_MESSAGE,this.kinds.ERROR_LIMIT_PRE_TITLE=null!=languageResouce.title_P5002?languageResouce.title_P5002:this.kinds.ERROR_LIMIT_PRE_TITLE,this.kinds.ERROR_LIMIT_PRE_MESSAGE=null!=languageResouce.info_P5002?languageResouce.info_P5002:this.kinds.ERROR_LIMIT_PRE_MESSAGE,this.kinds.ERROR_LIMIT_OVER_TITLE=null!=languageResouce.title_P5003?languageResouce.title_P5003:this.kinds.ERROR_LIMIT_OVER_TITLE,this.kinds.ERROR_LIMIT_OVER_MESSAGE=null!=languageResouce.info_P5003?languageResouce.info_P5003:this.kinds.ERROR_LIMIT_OVER_MESSAGE,this.kinds.ERROR_META_DATA_TITLE=null!=languageResouce.title_P1001?languageResouce.title_P1001:this.kinds.ERROR_META_DATA_TITLE,this.kinds.ERROR_META_DATA_MESSAGE=null!=languageResouce.info_P1001?languageResouce.info_P1001:this.kinds.ERROR_META_DATA_MESSAGE,this.kinds.ERROR_SETTING_TITLE=null!=languageResouce.title_P0501?languageResouce.title_P0501:this.kinds.ERROR_SETTING_TITLE,this.kinds.ERROR_SETTING_DELETE=null!=languageResouce.info_P0501?languageResouce.info_P0501:this.kinds.ERROR_SETTING_DELETE,this.kinds.ERROR_ENV_TITLE=null!=languageResouce.title_P5101?languageResouce.title_P5101:this.kinds.ERROR_ENV_TITLE,this.kinds.ERROR_ENV_MESSAGE=null!=languageResouce.info_P5101?languageResouce.info_P5101:this.kinds.ERROR_ENV_MESSAGE,this.kinds.ERROR_CID_ILLEGAL_TITLE=this.kinds.ERROR_CID_ILLEGAL_TITLE,this.kinds.ERROR_CID_ILLEGAL_MESSAGE=this.kinds.ERROR_CID_ILLEGAL_MESSAGE,this.kinds.SHARE_MOVIE=null!=languageResouce.title_share_movie?languageResouce.title_share_movie:this.kinds.ERROR_LIMIT,this.kinds.LINKS=null!=languageResouce.title_links?languageResouce.title_links:this.kinds.LINKS,this.kinds.VIRALTAG_TITLE=null!=languageResouce.viral_tag_title?languageResouce.viral_tag_title:this.kinds.VIRALTAG_TITLE,this.kinds.VIRALTAG=null!=languageResouce.title_viral_tag?languageResouce.title_viral_tag:this.kinds.VIRALTAG,this.kinds.VIRALTAG_BTN=null!=languageResouce.btn_viral_tag?languageResouce.btn_viral_tag:this.kinds.VIRALTAG_BTN,this.kinds.AUTH=null!=languageResouce.title_auth?languageResouce.title_auth:this.kinds.AUTH,this.kinds.ERROR_AUTH=null!=languageResouce.title_auth_error?languageResouce.title_auth_error:this.kinds.ERROR_AUTH,this.kinds.ID=null!=languageResouce.hint_id?languageResouce.hint_id:this.kinds.ID,this.kinds.PASS=null!=languageResouce.hint_pass?languageResouce.hint_pass:this.kinds.PASS,this.kinds.PLAY=null!=languageResouce.btn_play?languageResouce.btn_play:this.kinds.PLAY,this.kinds.Label_Low=null!=languageResouce.label_Low?languageResouce.label_Low:this.kinds.Label_Low,this.kinds.Label_Standard=null!=languageResouce.label_Standard?languageResouce.label_Standard:this.kinds.Label_Standard,this.kinds.Label_High=null!=languageResouce.label_High?languageResouce.label_High:this.kinds.Label_High,this.kinds.Label_HD=null!=languageResouce.label_HD?languageResouce.label_HD:this.kinds.Label_HD,this.kinds.Label_FullHD=null!=languageResouce.label_FullHD?languageResouce.label_FullHD:this.kinds.Label_FullHD,this.kinds.Label_4K=null!=languageResouce.label_4K?languageResouce.label_4K:this.kinds.Label_4K,this.kinds.Label_4K=null!=languageResouce.label_Auto?languageResouce.label_Auto:this.kinds.Label_Auto,this.kinds.Replay=null!=languageResouce.label_replay?languageResouce.label_replay:this.kinds.Replay,this.kinds.Speed=null!=languageResouce.label_speed?languageResouce.label_speed:this.kinds.Speed,this.kinds.Caption=null!=languageResouce.label_caption?languageResouce.label_caption:this.kinds.Caption,this.kinds.Quality=null!=languageResouce.label_quality?languageResouce.label_quality:this.kinds.Quality,this.kinds.Unmute=null!=languageResouce.unmute?languageResouce.unmute:this.kinds.Unmute,this.kinds.ERROR_TITLE=null!=languageResouce.title_P7011?languageResouce.title_P7011:this.kinds.ERROR_TITLE,this.kinds.ERROR_MOVIE_NOT_FOUND=null!=languageResouce.info_P7011?languageResouce.info_P7011:this.kinds.ERROR_MOVIE_NOT_FOUND,this.kinds.ERROR_MOVIE_NOT_FOUND=null!=languageResouce.info_P7012?languageResouce.info_P7012:this.kinds.ERROR_MOVIE_NOT_FOUND_2,this.kinds.ERROR_NO_FLASH_TITLE=null!=languageResouce.title_P0102?languageResouce.title_P0102:this.kinds.ERROR_NO_FLASH_TITLE,this.kinds.ERROR_NO_FLASH_MESSAGE=null!=languageResouce.info_P0102?languageResouce.info_P0102:this.kinds.ERROR_NO_FLASH_MESSAGE,this.kinds.ERROR_NO_FLASH_ANDROID_TITLE=null!=languageResouce.title_P0103?languageResouce.title_P0103:this.kinds.ERROR_NO_FLASH_ANDROID_TITLE,this.kinds.ERROR_NO_FLASH_ANDROID_MESSAGE=null!=languageResouce.info_P0103?languageResouce.info_P0103:this.kinds.ERROR_NO_FLASH_ANDROID_MESSAGE,this.kinds.ERROR_SERVICE_TITLE=null!=languageResouce.title_P2001?languageResouce.title_P2001:this.kinds.ERROR_SERVICE_TITLE,this.kinds.ERROR_SERVICE_DELETE=null!=languageResouce.info_P2001?languageResouce.info_P2001:this.kinds.ERROR_SERVICE_DELETE,this.kinds.ERROR_LIVE_RELOAD=null!=languageResouce.info_P7101?languageResouce.info_P7101:this.kinds.ERROR_LIVE_RELOAD,this.kinds.P1201T=null!=languageResouce.title_P1201?languageResouce.title_P1201:this.kinds.P1201T,this.kinds.P1201M=null!=languageResouce.info_P1201?languageResouce.info_P1201:this.kinds.P1201M,this.kinds.P3501T=null!=languageResouce.title_P3501?languageResouce.title_P3501:this.kinds.P3501T,this.kinds.P3501M=null!=languageResouce.info_P3501?languageResouce.info_P3501:this.kinds.P3501M,this.kinds.P8001T=null!=languageResouce.title_P8001?languageResouce.title_P8001:this.kinds.P8001T,this.kinds.P8001M=null!=languageResouce.info_P8001?languageResouce.info_P8001:this.kinds.P8001M,this.kinds.P8002T=null!=languageResouce.title_P8002?languageResouce.title_P8002:this.kinds.P8002T,this.kinds.P8002M=null!=languageResouce.info_P8002?languageResouce.info_P8002:this.kinds.P8002M,this.kinds.P8003T=null!=languageResouce.title_P8003?languageResouce.title_P8003:this.kinds.P8003T,this.kinds.P8003M=null!=languageResouce.info_P8003?languageResouce.info_P8003:this.kinds.P8003M,this.kinds.P8004T=null!=languageResouce.title_P8004?languageResouce.title_P8004:this.kinds.P8004T,this.kinds.P8004M=null!=languageResouce.info_P8004?languageResouce.info_P8004:this.kinds.P8004M,this.kinds.P8005T=null!=languageResouce.title_P8005?languageResouce.title_P8005:this.kinds.P8005T,this.kinds.P8005M=null!=languageResouce.info_P8005?languageResouce.info_P8005:this.kinds.P8005M,this.kinds.P8006T=null!=languageResouce.title_P8006?languageResouce.title_P8006:this.kinds.P8006T,this.kinds.P8006M=null!=languageResouce.info_P8006?languageResouce.info_P8006:this.kinds.P8006M,this.kinds.P8007T=null!=languageResouce.title_P8007?languageResouce.title_P8007:this.kinds.P8007T,this.kinds.P8007M=null!=languageResouce.info_P8007?languageResouce.info_P8007:this.kinds.P8007M,this.kinds.P8008T=null!=languageResouce.title_P8008?languageResouce.title_P8008:this.kinds.P8008T,this.kinds.P8008M=null!=languageResouce.info_P8008?languageResouce.info_P8008:this.kinds.P8008M,this.kinds.P8009T=null!=languageResouce.title_P8009?languageResouce.title_P8009:this.kinds.P8009T,this.kinds.P8009M=null!=languageResouce.info_P8009?languageResouce.info_P8009:this.kinds.P8009M,this.kinds.P8010T=null!=languageResouce.title_P8010?languageResouce.title_P8010:this.kinds.P8010T,this.kinds.P8010M=null!=languageResouce.info_P8010?languageResouce.info_P8010:this.kinds.P8010M,this.kinds.P8011T=null!=languageResouce.title_P8011?languageResouce.title_P8011:this.kinds.P8011T,this.kinds.P8011M=null!=languageResouce.info_P8014?languageResouce.info_P8011:this.kinds.P8011M,this.kinds.P8012T=null!=languageResouce.title_P8012?languageResouce.title_P8012:this.kinds.P8012T,this.kinds.P8012M=null!=languageResouce.info_P8012?languageResouce.info_P8012:this.kinds.P8012M,this.kinds.P8013T=null!=languageResouce.title_P8013?languageResouce.title_P8013:this.kinds.P8013T,this.kinds.P8013M=null!=languageResouce.info_P8013?languageResouce.info_P8013:this.kinds.P8013M,this.kinds.P8014T=null!=languageResouce.title_P8014?languageResouce.title_P8014:this.kinds.P8014T,this.kinds.P8014M=null!=languageResouce.info_P8014?languageResouce.info_P8014:this.kinds.P8014M,this.kinds.P8015T=null!=languageResouce.title_P8015?languageResouce.title_P8015:this.kinds.P8015T,this.kinds.P8015M=null!=languageResouce.info_P8015?languageResouce.info_P8015:this.kinds.P8015M,this.kinds.P8016T=null!=languageResouce.title_P8016?languageResouce.title_P8016:this.kinds.P8016T,this.kinds.P8016M=null!=languageResouce.info_P8016?languageResouce.info_P8016:this.kinds.P8016M,this.kinds.P8017T=null!=languageResouce.title_P8017?languageResouce.title_P8017:this.kinds.P8017T,this.kinds.P8017M=null!=languageResouce.info_P8017?languageResouce.info_P8017:this.kinds.P8017M,this.kinds.P8018T=null!=languageResouce.title_P8018?languageResouce.title_P8018:this.kinds.P8018T,this.kinds.P8018M=null!=languageResouce.info_P8018?languageResouce.info_P8018:this.kinds.P8018M,this.kinds.P8019T=null!=languageResouce.title_P8019?languageResouce.title_P8019:this.kinds.P8019T,this.kinds.P8019M=null!=languageResouce.info_P8019?languageResouce.info_P8019:this.kinds.P8019M,this.kinds.P8020T=null!=languageResouce.title_P8020?languageResouce.title_P8020:this.kinds.P8020T,this.kinds.P8020M=null!=languageResouce.info_P8020?languageResouce.info_P8020:this.kinds.P8020M,this.kinds.P8021T=null!=languageResouce.title_P8021?languageResouce.title_P8021:this.kinds.P8021T,this.kinds.P8021M=null!=languageResouce.info_P8021?languageResouce.info_P8021:this.kinds.P8021M,this.kinds.P8022T=null!=languageResouce.title_P8022?languageResouce.title_P8022:this.kinds.P8022T,this.kinds.P8022M=null!=languageResouce.info_P8022?languageResouce.info_P8022:this.kinds.P8022M,this.kinds.P8000T=null!=languageResouce.title_P8000?languageResouce.title_P8000:this.kinds.P8000T,this.kinds.P8000M=null!=languageResouce.info_P8000?languageResouce.info_P8000:this.kinds.P8000M},LanguageResource}();resource.LanguageResource=LanguageResource}(jstream_t3.resource||(jstream_t3.resource={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(utils){var PlayerSetting=function(){function PlayerSetting(){}return PlayerSetting.setPlayerPreSetting=function(plyerId,params){var setting;switch(plyerId.toString()){case"1":setting={name:"Syndication01",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"off",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"on",tag_use:"off",multibitrate_use:"on",sns_use:"off"};break;case"2":setting={name:"Syndication02",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"off",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"on",tag_use:"off",multibitrate_use:"on",sns_use:"on",sns_id_list:["facebook","twitter","line","google"]};break;case"3":setting={name:"Syndication03",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"off",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"on",tag_use:"off",multibitrate_use:"on",sns_use:"off"};break;case"4":setting={name:"Syndication04",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"off",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"off",tag_use:"off",multibitrate_use:"on",sns_use:"on",sns_id_list:["facebook","twitter","line","google"]};break;case"5":setting={name:"Syndication05",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"off",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"off",tag_use:"off",multibitrate_use:"on",sns_use:"off"};break;case"101":setting={name:"Syndication101",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"on",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"on",tag_use:"off",multibitrate_use:"on",sns_use:"off"};break;case"102":setting={name:"Syndication102",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"on",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"on",tag_use:"off",multibitrate_use:"on",sns_use:"on",sns_id_list:["facebook","twitter","line","google"]};break;case"103":setting={name:"Syndication103",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"on",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"on",tag_use:"off",multibitrate_use:"on",sns_use:"off"};break;case"104":setting={name:"Syndication104",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"on",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"off",tag_use:"off",multibitrate_use:"on",sns_use:"on",sns_id_list:["facebook","twitter","line","google"]};break;case"105":setting={name:"Syndication105",movie_width:"640",movie_height:"360",movie_aspect:"16:9",movie_protocol:"rtmp",play_use:"on",volume_use:"on",seak_use:"on",fullscreen_use:"on",footer_use:"off",title_use:"on",init_sound:"on",init_play:"on",embed_width:"640",embed_height:"360",va_use:"on",exlink_use:"off",tag_use:"off",multibitrate_use:"on",sns_use:"off"}}for(var key in setting)params[key]=setting[key]},PlayerSetting}();utils.PlayerSetting=PlayerSetting}(jstream_t3.utils||(jstream_t3.utils={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(model){var NetServiceModel=function(){return function(){}}();model.NetServiceModel=NetServiceModel}(jstream_t3.model||(jstream_t3.model={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var AlertView=function(){function AlertView(){}return AlertView.show=function(message,title,parentElementId,cssDir){void 0===title&&(title=""),void 0===parentElementId&&(parentElementId=null),void 0===cssDir&&(cssDir="");var errorAlert='<div class="errorDialog" style="top:0px;left:0px;right:0px;bottom:0px;margin:auto;height:134px"><div class="errorDialogHeader"><div class="hl"><img src="'+cssDir+'e_ico.png"" style="margin-right:10px;" />#head</div><div class="hr"></div></div><div class="errorContent"><div class="bl"><p id="jsterrormessage">#message</p></div><div class="br"></div></div></div>',targetElement=parentElementId?document.getElementById(parentElementId):document.body;errorAlert=targetElement.clientWidth<240||targetElement.clientHeight<180?(errorAlert=errorAlert.split("#head").join("")).split("#message").join(message):(errorAlert=errorAlert.split("#head").join(title)).split("#message").join(message),targetElement.innerHTML=errorAlert;var bl=targetElement.getElementsByTagName("p")[0];bl.style.top=((84-bl.clientHeight)/2).toString()+"px"},AlertView}();view.AlertView=AlertView}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(parser){var EmbedTagBuilder=function(){function EmbedTagBuilder(){}return EmbedTagBuilder.create=function(params){var result=new("player_1_0_0"==params.tagType?null==params.stype?Onetag10:Syn10:null==params.stype?Onetag16:Syn16);return result.createTag(params),result},EmbedTagBuilder}();parser.EmbedTagBuilder=EmbedTagBuilder;var TagBase=function(){function TagBase(){}return TagBase.prototype.getTag=function(){return this.tag},TagBase}();parser.TagBase=TagBase;var Onetag10=function(_super){function Onetag10(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Onetag10,_super),Onetag10.prototype.createTag=function(params){var list,source;source=(source='<script language="javascript">document.write(\'<iframe frameborder="0" src="'+("http://"+(list=window.location.href.split("/"))[4]+".webcdn.stream.ne.jp/"+list.slice(3).join("/").split("?")[0])+"?c=#contract_id&m=#meta_id&s=#setting##start_time##plugins##va_url#&file_id=#file_id&parent_url='+encodeURIComponent(window.location.href) +'&ref=' + encodeURIComponent(document.referrer) + '\" width=\""+params.width+'" height="'+params.height+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden;" allowtransparency="true"></iframe>\');<\/script>').split("#contract_id").join(jstream_t3.utils.Util.obfuscate(params.contract_id)).split("#meta_id").join(jstream_t3.utils.Util.obfuscate(params.meta_id)).split("#file_id").join(params.file_id);var settings="";params.s&&(params.s.ft&&(params.s.ft=decodeURIComponent(params.s.ft)),settings=jstream_t3.utils.Util.toJSON(params.s),settings=encodeURIComponent(settings)),source=source.split("#setting#").join(settings),source=params.start_time?source.split("#start_time#").join(", t: "+params.start_time):source.split("#start_time#").join(""),source=params.plugins?source.split("#plugins#").join(', p: "'+params.plugins+'"'):source.split("#plugins#").join(""),source=params.va_url?source.split("#va_url#").join(', v: "'+params.va_url+'"'):source.split("#va_url#").join(""),this.tag=source},Onetag10.prototype.getTag=function(){return this.tag},Onetag10}(TagBase);parser.Onetag10=Onetag10;var Onetag16=function(_super){function Onetag16(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Onetag16,_super),Onetag16.prototype.createTag=function(params){var source='<script type="text/javascript" src="https://ssl-cache.stream.ne.jp/#playerDir#t3/#type_exp#.js" charset="UTF-8"><\/script><script type="text/javascript">jstream_t3.PlayerFactory#type#.create({b: "#playerURI#",c: "#contract_id#",m: "#meta_id#",s: #setting##start_time##plugins##va_url##object#});<\/script>';source=(source=(source=(source=(source=params.isIframe?(source=source.split("#type_exp#").join("if")).split("#type#").join("IF"):(source=source.split("#type_exp#").join("obj")).split("#type#").join("OBJ")).split("#playerDir#").join(params.base.split("://")[1].split("/").slice(1).join("/"))).split("#playerURI#").join(params.base.split("://")[1])).split("#contract_id#").join(jstream_t3.utils.Util.base64encode(params.contract_id))).split("#meta_id#").join(jstream_t3.utils.Util.base64encode(params.meta_id));var settings="";params.s&&(params.s.ft&&(params.s.ft=decodeURIComponent(params.s.ft)),"on"!=params.s.rp&&"fit"!=params.s.rp||(params.s.rp="off",params.s.hp=270,params.s.wp=480),settings=jstream_t3.utils.Util.toJSON(params.s)),source=source.split("#setting#").join(settings),source=params.start_time?source.split("#start_time#").join(", t: "+params.start_time):source.split("#start_time#").join(""),source=params.plugins?source.split("#plugins#").join(', p: "'+params.plugins+'"'):source.split("#plugins#").join(""),source=params.va_url?source.split("#va_url#").join(', v: "'+params.va_url+'"'):source.split("#va_url#").join("");var objects="";params.o?(objects=jstream_t3.utils.Util.toJSONforCustomVA(params.o),source=source.split("#object#").join(", o: "+objects)):source=source.split("#object#").join(""),params.useInboundLink()&&(source+='<br><a href="'+params.inbound_link.url+'">'+params.inbound_link.link+"</a>"),this.tag=source},Onetag16}(TagBase);parser.Onetag16=Onetag16;var Syn10=function(_super){function Syn10(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Syn10,_super),Syn10.prototype.createTag=function(params){this.tag=""},Syn10}(TagBase);parser.Syn10=Syn10;var Syn16=function(_super){function Syn16(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Syn16,_super),Syn16.prototype.createTag=function(params){this.tag=""},Syn16}(TagBase);parser.Syn16=Syn16}(jstream_t3.parser||(jstream_t3.parser={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(events){var ErrorEvent=function(_super){function ErrorEvent(code,message,subject){void 0===message&&(message=""),void 0===subject&&(subject="");var _this=_super.call(this,"error")||this;return _this.code=code,_this.message=message,_this.subject=subject,_this}return __extends(ErrorEvent,_super),ErrorEvent.METAINFO_LOAD_ERROR="MetaInfo.LoadError",ErrorEvent.SETTINGS_LOAD_ERROR="PlayerSettings.LoadError",ErrorEvent.SERVICE_SETTING_ERROR="ServiceSettings.LoadError",ErrorEvent.VIEWLIMIT_DISABLED="ViewLimit.Disabled",ErrorEvent.SERVER_MEDIA_ERROR="Server.MediaError",ErrorEvent.FLASHPLAYER_VERSION_ERROR="FlashPlayer.VersionError",ErrorEvent.LIVELIMIT_LOAD_ERROR="LiveLimit.LoadError",ErrorEvent.LIDSETTINGS_LOAD_ERROR="LidSettings.LoadError",ErrorEvent.AUTHENTICATION_FAILED="Authentication.Failed",ErrorEvent.OTHER_ERROR="Other.Error",ErrorEvent}(events.Event);events.ErrorEvent=ErrorEvent}(jstream_t3.events||(jstream_t3.events={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(model){var EQPlayerModel=function(){function EQPlayerModel(params){var prop;for(prop in void 0===params&&(params=null),this.isLightbox=!1,this.isMSEnable=!0,this.isHlsjsSupported=!1,this.ssl_url="https://ssl-cache.stream.ne.jp",this.time_use="on",this.isLive=!1,this.auth="0",this.a="",this.auth_mode="and",this.hostCheckResult="none",this.isAuthPassed=!1,this.api_url="api01-platform.stream.co.jp",this.syndicationapi_url="syndication-api.stream.co.jp/ec/",this.isThumbnail=!1,this.vc=null,this.resumeEnable="off",this.resumeVolumeEnable="on",this.inCookieCurrentTime="0",this.inCookieVolume="100",this.ot="",this.isDebug=!1,this.connection_limit=-1,this.CheckConnectionService=!1,this.isCheckConnectionPassed="undefined",this.checkconnection_url="count01-platform.stream.co.jp",this.checkconnection_filename="/index.php",this.stat="",this.connectionCheckEndpoint="",this.kollective_flg="0",this.info_dir="",this.loop_use="off",this.isInIframe=!1,this.device_profile_id="0",this.subtitles=null,this.init_play="off",this.sb_default=1,this.closedCaption="on",this.playlist_use="off",this.playlist_id="",this.playlist=[],this.playerFromPlaylist=!1,this.publish_site=0,this.publish_tag="",this.crashReportEndPoint="https://eq-player-log.cdnext.stream.ne.jp/player.txt",this.playbackRate_index=-1,this.playOnSelect=!0,this.autoadvance=!1,this.repeat=!1,this.isPreview="0",this.useShortcutKey="on",this.isFirsttimePlay=!0,this.usedSubtitles=!1,this.low_latency=1,this.viewers_use="off",this.playlist_name="",this.use_playlist_name="0",this.lightboxTextLink="",this._thumbnailURL=null,params)if("isAuthPassed"==prop){var authPassedParam=jstream_t3.utils.Util.base64decode(params[prop]),date=new Date,passedKey="true"+(date.getFullYear().toString()+(date.getMonth()+1).toString()+date.getDate().toString());this[prop]=authPassedParam==passedKey}else this[prop]=params[prop];try{new MediaSource}catch(e){this.isMSEnable=!1}}return EQPlayerModel.prototype.setEnviroment=function(){var ua=navigator.userAgent.toLowerCase(),matches=[],platform={browser:{name:"",version:"",engine:""},os:{name:"",version:""},isIE:!1,isEdge:!1,isFirefox:!1,isSafari:!1,isChrome:!1,isOpera:!1,isSP:!1,isTablet:!1};ua.match(/msie/)||ua.match(/trident/)?(platform.browser.name="Internet Explorer",(matches=ua.match(/(msie|rv:?)\s?([\d\.]+)/))&&matches.length>0&&matches[2]&&(platform.browser.version=matches[2]),platform.isIE=!0):ua.match(/mozilla\/.+windows nt 10\.[0-9].+chrome.+safari.+edge\/[0-9\.]+/i)?(platform.browser.name="Edge",(matches=ua.match(/mozilla\/.+windows nt 10\.[0-9].+chrome.+safari.+edge\/([0-9\.]+)/))&&matches.length>0&&matches[1]&&(platform.browser.version=matches[1]),platform.isEdge=!0):ua.match(/opera|opr/)?(platform.browser.name="Opera",ua.match(/version\//)?(matches=ua.match(/version\/([\d\.]+)/))&&matches.length>0&&matches[1]&&(platform.browser.version=matches[1]):(matches=ua.match(/(opera(\s|\/)|opr\/)([\d\.]+)/))&&matches.length>0&&matches[3]&&(platform.browser.version=matches[3]),platform.isOpera=!0):ua.match(/firefox/)?(platform.browser.name="Firefox",(matches=ua.match(/firefox\/([\d\.]+)/))&&matches.length>0&&matches[1]&&(platform.browser.version=matches[1]),platform.isFirefox=!0):ua.match(/chrome/)?(platform.browser.name="Chrome",(matches=ua.match(/chrome\/([\d\.]+)/))&&matches.length>0&&matches[1]&&(platform.browser.version=matches[1]),platform.isChrome=!0):ua.match(/safari/)?(platform.browser.name="Safari",(matches=ua.match(/version\/([\d\.]+)/))&&matches.length>0&&matches[1]&&(platform.browser.version=matches[1]),platform.isSafari=!0):platform.browser.name="Unknown",ua.match(/trident/)?platform.browser.engine="Trident":ua.match(/blink/)?platform.browser.engine="Blink":ua.match(/webkit/)?platform.browser.engine="Webkit":ua.match(/khtml/)?platform.browser.engine="KHTML":ua.match(/gecko/)?platform.browser.engine="Gecko":ua.match(/presto/)?platform.browser.engine="Presto":platform.browser.engine="Unknown",ua.match(/windows phone/)?platform.os.name="Windows Phone":ua.match(/windows/)?(platform.os.name="Windows",(matches=ua.match(/windows nt ([\d\.]+)/))&&matches.length>0&&matches[1]&&(matches[1].match(/10\.[0-9]/)?platform.os.version=matches[1]:"6.3"===matches[1]?platform.os.version="8.1":"6.2"===matches[1]?platform.os.version="8.0":"6.1"===matches[1]?platform.os.version="7":"6.1"===matches[1]?platform.os.version="7":"6.0"===matches[1]?platform.os.version="Vista":"5.2"===matches[1]||"5.1"===matches[1]?platform.os.version="XP":"5.0"===matches[1]&&(platform.os.version="2000")),(matches=ua.match(/windows ([\d]+)/))&&matches.length>0&&matches[1]&&("98"===matches[1]&&ua.match(/9x/)?platform.os.version="Me":"98"===matches[1]?platform.os.version="98":"95"===matches[1]?platform.os.version="95":"3.1"===matches[1]&&(platform.os.version="3.1"))):ua.match(/ios|iphone|ipad|ipod/)?(platform.os.name="iOS",(matches=ua.match(/((iphone)? os) ([\d_]+)/))&&matches.length>0&&matches[3]&&(platform.os.version=matches[3].replace(/_/g,"."))):ua.match(/mac os|mac_powerpc|macintosh/)?platform.os.name="Macintosh":ua.match(/android/)?(platform.os.name="Android",(matches=ua.match(/android ([\d\.]+)/))&&matches.length>0&&matches[1]&&(platform.os.version=matches[1])):ua.match(/linux/)?platform.os.name="Linux":ua.match(/firefox/)&&ua.match(/mobile|tablet/)?platform.os.name="Firefox OS":platform.os.name="Unknown",ua.match(/iphone/)||ua.match(/ipod/)||ua.match(/android/)&&ua.match(/mobile/)||ua.match(/windows phone/)?platform.isSP=!0:(ua.match(/ipad/)||ua.match(/android/)&&!ua.match(/mobile/))&&(platform.isTablet=!0),this.platform=platform},EQPlayerModel.prototype.getSSLDomain=function(){return jstream_t3.utils.Util.parse_uri(this.ssl_url).authority},EQPlayerModel.prototype.useInboundLink=function(){return"on"==this.inboundlink_use&&this.inbound_link&&null!=this.inbound_link.link&&null!=this.inbound_link.url},EQPlayerModel.prototype.isPDPlayerEnable=function(){return"1"==this.pd_enable},EQPlayerModel.prototype.isAuthEnable=function(){return!("1"!=this.auth||this.isAuthPassed||"or"==this.auth_mode&&"ok"==this.hostCheckResult||"and"==this.auth_mode&&"ng"==this.hostCheckResult)},EQPlayerModel.prototype.isMobilePlayer=function(){var env=this.getEnvironmentType();return env==jstream_t3.EnviromentKind.MOBILE_STREAMING||env==jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE||env==jstream_t3.EnviromentKind.MOBILE_NATIVE||env==jstream_t3.EnviromentKind.MOBILE_HLSJS},EQPlayerModel.prototype.isConnectionEneble=function(){return this.connection_limit>0&&"off"!=this.checkconnection_url&&("NG"==this.isCheckConnectionPassed||"undefined"==this.isCheckConnectionPassed)&&"1"!=this.isPreview},EQPlayerModel.prototype.getConnectionURL=function(){return this.checkconnection_url+this.checkconnection_filename},EQPlayerModel.prototype.isKollectiveEnable=function(){return"1"==this.kollective_flg&&this.kontikiAgent.isInstalled()&&!(this.platform.isSP||this.platform.isTablet)&&!(1==this.line||2==this.line)},EQPlayerModel.prototype.createServiceModel=function(){return new model.EQPlayerServiceModel(this)},EQPlayerModel.prototype.clone=function(){var prop,result=new EQPlayerModel;for(prop in this)"function"!=typeof this[prop]&&(result[prop]=this[prop]);return result},EQPlayerModel.prototype.onError=function(code,title,message){},EQPlayerModel.prototype.parce=function(){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en");var messages=new jstream_t3.resource.LanguageResource(this["language_resource_"+lang]);if("1"!==this.enable)return this.onError(jstream_t3.events.ErrorEvent.VIEWLIMIT_DISABLED,messages.kinds.ERROR_LIMIT,messages.kinds.ERROR_LIMIT_MESSAGE),!1;if(null!=this.parent_url&&0!=this.parent_url.indexOf("file")&&0!=this.parent_url.indexOf("http://localhost")||(this.va_use="off"),"string"==typeof this.start_time&&(this.start_time=parseInt(this.start_time),isNaN(this.start_time)&&(this.start_time=0)),this.start_time>parseInt(this.duration)&&(this.start_time=0),"iOS"==this.platform.os.name&&this.platform.os.version.split(".")[0]<10&&(this.init_play="off"),this.thumbnail_url=this.getThumbnailURL(),this.convertMP4Path(),jstream_t3.utils.Util.deleteNullItem(this.exlink),jstream_t3.utils.Util.deleteNullItem(this.multibitrate_list),this.tag_text=this.createTagText(),this.setFooterAlign(),"s1"!=this.stype&&"s2"!=this.stype){if(this.setDefaultMovie(),this.movie_list.length<1){var language=null;if(null==language){lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),language=new jstream_t3.resource.LanguageResource(this["language_resource_"+lang])}return jstream_t3.view.AlertView.show(language.kinds.ERROR_MOVIE_NOT_FOUND_2,language.kinds.ERROR_TITLE,this.fieldID,this.cssDir),!1}}else this.setDefaultMovieForSyndication();return this.isAuthPassed||this.setMovieMobileURL(),this.isAuthPassed&&this.setMovieMobileURL_AfterAuth(),this.setQualityLabel(),this.encodeText(),this.formatSubtitles(),this.formatPlaylist(this.playlist,window.location.protocol),this.formatChapter(this.chapter),!0},EQPlayerModel.prototype.formatChapter=function(chapter_url){if("off"!=this.chapter_use)if(chapter_url){var xhr=new XMLHttpRequest,url=window.location.protocol+"//"+this.b.split("/").slice(0,-3).join("/")+"/"+chapter_url+"?_"+(new Date).getTime();xhr.open("GET",url,!1),xhr.send();var result=JSON.parse(xhr.response);this.chapterData=result.chapter,(!this.chapterData||this.chapterData.length<1)&&(this.chapter_use="off")}else this.chapter_use="off"},EQPlayerModel.prototype.setFooterAlign=function(){switch(this.footer_align){case"L":this.footer_align="left";break;case"C":this.footer_align="center";break;case"R":this.footer_align="right"}},EQPlayerModel.prototype.formatSubtitles=function(){var userDir=window.location.protocol+"//"+this.b.split("/").slice(0,-3).join("/")+"/";if(this.subtitles&&"off"!=this.closedCaption)for(var index=0;index<this.subtitles.length;index++)this.subtitles[index].url.indexOf("http")<0&&(this.subtitles[index].url=userDir+this.subtitles[index].url);else this.subtitles=[];this.subtitles.unshift({url:null,lang:null,text:"off"}),this.subtitles.unshift({url:null,lang:null,text:"dummy"}),this.subtitles[this.sb_default]||(this.sb_default=1)},EQPlayerModel.prototype.formatPlaylist=function(playlist,protocol){if("https:"==protocol)for(var i=0;i<playlist.length;i++){var parsedUri=jstream_t3.utils.Util.parse_uri(playlist[i].thumbnail_url);playlist[i].thumbnail_url=this.ssl_url+parsedUri.path}return playlist},EQPlayerModel.prototype.getListFormat=function(){var result=[];for(var prop in this)if("function"!=typeof this[prop]){var item={};item[prop]=this[prop],result.push(item)}return result},EQPlayerModel.prototype.getThumbnailURL=function(){if(!this.thumbnail_url)return"";if(null==this._thumbnailURL)if(-1===this.thumbnail_url.indexOf("http"))this._thumbnailURL="../../jmc_thumb/"+this.thumbnail_url;else if("https:"===window.location.protocol&&0!=this.thumbnail_url.indexOf("https:")){var list=this.thumbnail_url.split("http").join("https").split("/");list[2]=this.getSSLDomain(),this._thumbnailURL=list.join("/")}else this._thumbnailURL=this.thumbnail_url;return this._thumbnailURL},EQPlayerModel.prototype.resetThumbnailURL=function(){this._thumbnailURL=null},EQPlayerModel.prototype.getEnvironmentType=function(){return this.environmentType?this.environmentType:"flash"==this.mode?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):this.platform.isTablet||this.platform.isSP?document.createElement("video").canPlayType?"iOS"==this.platform.os.name&&(this.platform.isTablet||this.platform.isSP)?this.isPDPlayerEnable()?(this.environmentType=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE,jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE):(this.environmentType=jstream_t3.EnviromentKind.MOBILE_STREAMING,jstream_t3.EnviromentKind.MOBILE_STREAMING):"Android"==this.platform.os.name?"Android"==this.platform.os.name&&Number(this.platform.os.version.split(".")[0])>=4&&(this.platform.isTablet||this.platform.isSP)||this.platform.isFirefox?this.isPDPlayerEnable()?(this.environmentType=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE,jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE):this.isMSEnable&&this.isHlsjsSupported?(this.environmentType=jstream_t3.EnviromentKind.MOBILE_HLSJS,jstream_t3.EnviromentKind.MOBILE_HLSJS):(this.environmentType=jstream_t3.EnviromentKind.MOBILE_NATIVE,jstream_t3.EnviromentKind.MOBILE_NATIVE):jstream_t3.utils.Util.isFlash()?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):(this.environmentType=jstream_t3.EnviromentKind.NO_FLASH,jstream_t3.EnviromentKind.NO_FLASH):this.isPDPlayerEnable()?(this.environmentType=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE,jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE):(this.environmentType=jstream_t3.EnviromentKind.MOBILE_STREAMING,jstream_t3.EnviromentKind.MOBILE_STREAMING):jstream_t3.utils.Util.isFlash()?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):(this.environmentType=jstream_t3.EnviromentKind.NO_FLASH,jstream_t3.EnviromentKind.NO_FLASH):document.createElement("video").canPlayType?this.isPDPlayerEnable()?this.platform.isIE&&Number(this.platform.browser.version)<=9||this.platform.isSafari&&"Macintosh"==this.platform.os.name&&Number(this.platform.browser.version.split(".")[0])<=8?jstream_t3.utils.Util.isFlash()?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):(this.environmentType=jstream_t3.EnviromentKind.NO_FLASH,jstream_t3.EnviromentKind.NO_FLASH):(this.environmentType=jstream_t3.EnviromentKind.PC_PROGRESSIVE,jstream_t3.EnviromentKind.PC_PROGRESSIVE):this.platform.isIE&&("11.0"==this.platform.browser.version&&"Windows"==this.platform.os.name&&"7"==this.platform.os.version||Number(this.platform.browser.version)<=10)||this.platform.isSafari&&"Macintosh"==this.platform.os.name&&Number(this.platform.browser.version.split(".")[0])<=8?jstream_t3.utils.Util.isFlash()?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):(this.environmentType=jstream_t3.EnviromentKind.NO_FLASH,jstream_t3.EnviromentKind.NO_FLASH):this.platform.isSafari?(this.environmentType=jstream_t3.EnviromentKind.PC_HTML5HLS,jstream_t3.EnviromentKind.PC_HTML5HLS):0==this.isMSEnable||0==this.isHlsjsSupported?jstream_t3.utils.Util.isFlash()?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):(this.environmentType=jstream_t3.EnviromentKind.NO_FLASH,jstream_t3.EnviromentKind.NO_FLASH):(this.environmentType=jstream_t3.EnviromentKind.HLSJS,jstream_t3.EnviromentKind.HLSJS):jstream_t3.utils.Util.isFlash()?(this.environmentType=jstream_t3.EnviromentKind.PC_STREAMING,jstream_t3.EnviromentKind.PC_STREAMING):(this.environmentType=jstream_t3.EnviromentKind.NO_FLASH,jstream_t3.EnviromentKind.NO_FLASH)},EQPlayerModel.prototype.encodeText=function(){this.footer_text=jstream_t3.utils.Util.encodeHTMLEncode(this.footer_text)},EQPlayerModel.prototype.convertMP4Path=function(){var convert,i,_results;if(convert=function(src){var list;return src&&src.indexOf("mp4:")>-1?src:(src&&src.indexOf("rtmp")>-1&&src.indexOf(".mp4")>-1&&((list=src.split("_definst_/"))[1]="mp4:"+list[1],src=list.join("_definst_/")),src)},this.movie_url=convert(this.movie_url),this.movie_list){for(i=0,_results=[];i<this.movie_list.length;)this.movie_list[i].url=convert(this.movie_list[i].url),_results.push(i++);return _results}},EQPlayerModel.prototype.convertPDPath=function(){var results;return this.movie_url_pd&&(this.movie_url=this.movie_url_pd),results=[],this.movie_list_pd&&(this.movie_list=this.movie_list_pd),results},EQPlayerModel.prototype.createTagText=function(){return jstream_t3.parser.EmbedTagBuilder.create(this).getTag()},EQPlayerModel.prototype.setDefaultMovie=function(){var useQualityList,default_quality,userDir,qualityList=["lq","sq","hq","hd","fh","4k"],movie_list=[],auto="";this.movie_url="",void 0==this.movie_list&&(this.movie_list=[]),this.platform.isSP||this.platform.isTablet?(useQualityList=this.sp,this.default_quality=this.mobile_default_quality,default_quality=this.mobile_default_quality,auto="auto_sp"):(useQualityList=this.pc,default_quality=this.default_quality,auto="auto_pc"),this.isPDPlayerEnable()?(movie_list=this.movie_list_pd,qualityList.unshift(auto)):(movie_list=this.movie_list_hls,useQualityList.length>0&&useQualityList.unshift(auto),qualityList.unshift(auto)),userDir=window.location.protocol+"//"+this.b.split("/").slice(0,-3).join("/")+"/";for(var index=0;index<useQualityList.length;index++)for(var movie_listIndex=0;movie_listIndex<movie_list.length;movie_listIndex++)if(movie_list[movie_listIndex].text==useQualityList[index]){var movie_data={url:"",text:""};movie_data.url=userDir+movie_list[movie_listIndex].url,movie_data.text=movie_list[movie_listIndex].text,this.movie_list.push(movie_data)}default_quality>=90&&(90==default_quality?default_quality=this.getDefaultQualityLower(this.movie_list,qualityList):92==default_quality&&(default_quality=this.getDefaultQualityHigher(this.movie_list,qualityList)),this.default_quality=default_quality);for(movie_listIndex=0;movie_listIndex<this.movie_list.length;movie_listIndex++)if(this.movie_list[movie_listIndex].text==qualityList[Number(default_quality)]){this.movie_url=this.movie_list[movie_listIndex].url;break}if(!this.movie_url)for(var qualityListIndex=0;qualityListIndex<qualityList.length;qualityListIndex++){for(index=0;index<this.movie_list.length;index++)if(qualityList[qualityListIndex]==this.movie_list[index].text){this.movie_url=this.movie_list[index].url,this.default_quality=qualityListIndex.toString(),this.mobile_default_quality=qualityListIndex.toString();break}if(this.movie_url)break}},EQPlayerModel.prototype.getDefaultQualityHigher=function(movie_list,qualityList){for(var qualityListIndex=qualityList.length-1;0<=qualityListIndex;qualityListIndex--)for(var movieListIndex=0;movieListIndex<movie_list.length;movieListIndex++)if(qualityList[qualityListIndex]==movie_list[movieListIndex].text)return qualityListIndex;return 0},EQPlayerModel.prototype.getDefaultQualityLower=function(movie_list,qualityList){var qualityListIndex=0;for(-1!=qualityList[qualityListIndex].indexOf("auto")&&1!=qualityList.length&&(qualityListIndex=1);qualityListIndex<qualityList.length;qualityListIndex++)for(var movieListIndex=0;movieListIndex<movie_list.length;movieListIndex++)if(qualityList[qualityListIndex]==movie_list[movieListIndex].text)return qualityListIndex;return 0},EQPlayerModel.prototype.setDefaultMovieForSyndication=function(){var qualityList=["","","","","","",""];function getQualityURL(list,key){if(void 0===list)return null;for(var i=0;i<list.length;i++)if(list[i].text==key)return list[i].url;return null}var qualityKey=qualityList[this.default_quality];if(this.movie_list){var qualityURL=getQualityURL(this.movie_list,qualityKey);if(null==qualityURL){var i=1;for(qualityURL=getQualityURL(this.movie_list,qualityList[2]);null==qualityURL&&i<7;)qualityURL=getQualityURL(this.movie_list,qualityList[i]),qualityKey=qualityList[this.default_quality],i++}qualityURL&&(this.movie_url=qualityURL)}if(this.movie_list_mobile){var qualityURL_mobile=getQualityURL(this.movie_list_mobile,qualityList[this.default_quality]);if(null==qualityURL_mobile){i=0;for(qualityURL_mobile=getQualityURL(this.movie_list_mobile,qualityList[2]);null==qualityURL_mobile&&i<7;)qualityURL_mobile=getQualityURL(this.movie_list_mobile,qualityList[i]),qualityKey=qualityList[this.default_quality],i++}qualityURL_mobile&&(this.movie_url_mobile=qualityURL_mobile)}if(this.movie_list_pd&&null!=this.movie_url_pd){var qualityURL_pd=getQualityURL(this.movie_list_pd,qualityList[this.default_quality]);if(!qualityURL_pd){i=1;for(qualityURL_pd=getQualityURL(this.movie_list_pd,qualityList[2]);null==qualityURL_pd&&i<7;)qualityURL_pd=getQualityURL(this.movie_list_pd,qualityList[i]),qualityKey=qualityList[this.default_quality],i++}qualityURL_pd&&(this.movie_url_pd=qualityURL_pd)}this.isPDPlayerEnable()?(this.movie_url=this.movie_url_pd,this.movie_list=this.movie_list_pd):(this.movie_url=this.movie_url_mobile,this.movie_list=this.movie_list_mobile)},EQPlayerModel.prototype.setQualityLabel=function(){var _this=this,changeQualityLabel=function(item){switch(item.text){case"4k":case"":"ja"==jstream_t3.utils.Util.browserLanguage()?item.text="(2160p)":item.text="4K(2160p)";break;case"fh":case"":"ja"==jstream_t3.utils.Util.browserLanguage()?item.text="(1080p)":item.text="FullHD(1080p)";break;case"hd":case"":"ja"==jstream_t3.utils.Util.browserLanguage()?item.text="(720p)":item.text="HD(720p)";break;case"hq":case"":"ja"==jstream_t3.utils.Util.browserLanguage()?item.text="(480p)":item.text="High(480p)";break;case"sq":case"":"ja"==jstream_t3.utils.Util.browserLanguage()?item.text="(360p)":item.text="Standard(360p)";break;case"lq":case"":"ja"==jstream_t3.utils.Util.browserLanguage()?item.text="(270p)":item.text="Low(270p)";break;case"auto_pc":case"auto_sp":case"":jstream_t3.utils.Util.browserLanguage(),item.text="Auto"}_this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_STREAMING&&(item.text=item.text.replace(/\(.*\)/,""),"Auto"==item.text&&(item.text=""))},i=0,movie_list=this.movie_list;for(i=0;i<movie_list.length;i++)changeQualityLabel(movie_list[i])},EQPlayerModel.prototype.changeMovieMobileURL=function(item,api,cid,mid,tk,dq){var quality,url=item;return quality="0"==this.device_profile_id||"auto_pc"!=dq&&"auto_sp"!=dq?""==dq||"AUTO"==dq||"Auto"==dq||"auto_pc"==dq||"auto_sp"==dq||this.stype&&"0"==dq?"0":item.split("/").pop().split("_").pop().split(".",1):dq,item.split("/")[4]&&(url="http://"+api.split("/").slice(0,2).join("/")+"/getPlayList/"+cid+"/"+mid+"/"+quality+"/"+tk+".m3u8"),url},EQPlayerModel.prototype.setMovieMobileURL=function(){var enviroment=this.getEnvironmentType();if(enviroment!=jstream_t3.EnviromentKind.MOBILE_STREAMING&&enviroment!=jstream_t3.EnviromentKind.MOBILE_NATIVE&&enviroment!=jstream_t3.EnviromentKind.HLSJS&&enviroment!=jstream_t3.EnviromentKind.MOBILE_HLSJS&&this.isPDPlayerEnable()||!this.tk||this.tk&&"1"!=this.viewlimit_flg||"_NG_"==this.tk||this.tk&&"and"==this.auth_mode&&"1"==this.auth)this.changeMovieMobileURLforM3U8();else if(!(void 0==this.movie_list||null==this.movie_list||void 0==this.movie_list.length||this.movie_list.length<1)){var cid=this.contract_id||this.maker_id,dq=this.default_quality;if("0"==dq)for(var i=0;i<this.movie_list.length;i++)this.movie_url==this.movie_list[i].url&&(dq=this.movie_list[i].text);this.movie_url=this.changeMovieMobileURL(this.movie_url,jstream_t3.utils.Util.getAPIServerURL(this.api_url),cid,this.meta_id,this.tk,dq);for(i=0;i<this.movie_list.length;i++)this.movie_list[i].url=this.changeMovieMobileURL(this.movie_list[i].url,jstream_t3.utils.Util.getAPIServerURL(this.api_url),cid,this.meta_id,this.tk,this.movie_list[i].text);this.changeMovieMobileURLforM3U8()}},EQPlayerModel.prototype.setMovieMobileURL_AfterAuth=function(){var enviroment=this.getEnvironmentType();if((enviroment==jstream_t3.EnviromentKind.MOBILE_STREAMING||enviroment==jstream_t3.EnviromentKind.MOBILE_NATIVE||enviroment==jstream_t3.EnviromentKind.HLSJS||enviroment==jstream_t3.EnviromentKind.MOBILE_HLSJS||!this.isPDPlayerEnable())&&this.tk){var cid=this.contract_id||this.maker_id,dq=this.default_quality;if("0"==dq)for(var i=0;i<this.movie_list.length;i++)this.movie_url==this.movie_list[i].url&&(dq=this.movie_list[i].text);this.movie_url=this.changeMovieMobileURL(this.movie_url,jstream_t3.utils.Util.getAPIServerURL(this.api_url),cid,this.meta_id,this.tk,dq);for(i=0;i<this.movie_list.length;i++)this.movie_list[i].url=this.changeMovieMobileURL(this.movie_list[i].url,jstream_t3.utils.Util.getAPIServerURL(this.api_url),cid,this.meta_id,this.tk,this.movie_list[i].text);this.changeMovieMobileURLforM3U8()}},EQPlayerModel.prototype.changeMovieMobileURLforM3U8=function(){if("https:"===window.location.protocol){var env=this.getEnvironmentType();if(env==jstream_t3.EnviromentKind.MOBILE_STREAMING||env==jstream_t3.EnviromentKind.HLSJS||env==jstream_t3.EnviromentKind.PC_HTML5HLS||env==jstream_t3.EnviromentKind.MOBILE_NATIVE||env==jstream_t3.EnviromentKind.MOBILE_HLSJS){for(var i=0;i<this.movie_list.length;i++)this.movie_list[i].url=this.replaceToSSL(this.movie_list[i].url);this.movie_url=this.replaceToSSL(this.movie_url)}else if(env==jstream_t3.EnviromentKind.PC_PROGRESSIVE||env==jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE){for(i=0;i<this.movie_list.length;i++)this.movie_list[i].url=this.replaceToSSL(this.movie_list[i].url);this.movie_url=this.replaceToSSL(this.movie_url)}}},EQPlayerModel.prototype.replaceToSSL=function(url){return url.replace(/^http:/,"https:")},EQPlayerModel.prototype.replaceToHttp=function(url){return url.replace(/^https:/,"http:")},EQPlayerModel.prototype.isFooder=function(){return"on"===this.footer_use&&null!=this.footer_text&&""!==this.footer_text},EQPlayerModel.prototype.isVa=function(){return("player_1_0_0"!=this.tagType||!this.isMobilePlayer())&&("on"==this.va_use&&0!=window.location.protocol.indexOf("file"))},EQPlayerModel.prototype.createVarsParam=function(){return jstream_t3.utils.Util.escapeObject(this)},EQPlayerModel.prototype.setTagSize=function(fieldID){var divTagMaxWidth,divTagMaxHeight,movieWidth=this.movie_width||150,movieHeight=this.movie_height||136,divTagID=fieldID,divTag=document.getElementById(divTagID),divTagWidth=divTag.clientWidth,divTagHeight=divTag.clientHeight,setW=this.width,setH=this.height,ftHeight="on"===this.footer_use?20:0;"eq-auto"==setW||"eq-auto"==setH?divTagWidth<=0||null==divTagWidth?(divTagMaxWidth=Number(movieWidth),divTagMaxHeight=Number(movieHeight)+ftHeight):divTagHeight<=24||null==divTagHeight?(divTagMaxWidth=Number(divTagWidth),divTagMaxHeight=Math.ceil(movieHeight/movieWidth*divTagWidth)+ftHeight):(divTagMaxWidth=Number(divTagWidth),divTagMaxHeight=Number(divTagHeight)):isNaN(parseInt(setW))||isNaN(parseInt(setH))?(divTagMaxWidth=Number(movieWidth),divTagMaxHeight=Number(movieHeight)+ftHeight):(setW=parseInt(setW),setH=parseInt(setH),setW>divTagWidth&&divTagWidth>150?(divTagMaxWidth=Number(divTagWidth),divTagMaxHeight=Math.ceil(movieHeight/movieWidth*divTagWidth)+ftHeight):(divTagMaxWidth=Number(setW),divTagMaxHeight=Number(setH))),this.width=divTagMaxWidth,this.height=divTagMaxHeight},EQPlayerModel.prototype.getTagType=function(){return this.publish_tag?this.publish_tag:(this.isLive?this.publish_tag="LiveOBJ":"s1"==this.stype||"s2"==this.stype?this.isLightbox?this.publish_tag=this.stype.toUpperCase()+"LB":this.isIframe?this.publish_tag=this.stype.toUpperCase()+"SCRIPT":this.publish_tag=this.stype.toUpperCase()+"OBJ":this.isLightbox?this.publish_tag="LB":this.isIframe?this.publish_tag="SCRIPT":this.publish_tag="OBJ",this.publish_tag)},EQPlayerModel.prototype.destroy=function(){for(var prop in this)this[prop]=null},EQPlayerModel.prototype.reset=function(){this.init_play="off",this.title="",this.enable="",this.duration="",this.movie_url="",this.movie_url_mobile="",this.movie_url_pd="",this.viewlimit_flg="",this.viewlimit_url="",this.auth="0",this.api_url="api01-platform.stream.co.jp",this.device_profile_id="0",this.movie_list_pd=[],this.movie_list_hls=[],this.inbound_link="",this.resetThumbnailURL(),this.subtitles=[],this.movie_list=[],this.exlink=[],this.chapter="",this.chapter_use=this.s.cpt||"on",this.chapterData=[],this.pc=[],this.sp=[],this.hostCheckResult="none",this.tk="",this.isAuthPassed=!1},EQPlayerModel}();model.EQPlayerModel=EQPlayerModel}(jstream_t3.model||(jstream_t3.model={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){var EnviromentKind=function(){function EnviromentKind(){}return EnviromentKind.HLSJS="HlsJS",EnviromentKind.PC_STREAMING="pcStreaming",EnviromentKind.MOBILE_STREAMING="mobileStreaming",EnviromentKind.MOBILE_PROGRESSIVE="mobileProgressive",EnviromentKind.MOBILE_HLSJS="mobile_hlsjs",EnviromentKind.MOBILE_NATIVE="mobileNative",EnviromentKind.PC_HTML5HLS="pcHls",EnviromentKind.PC_PROGRESSIVE="pcProgressive",EnviromentKind.NO_FLASH="noFlash",EnviromentKind}();jstream_t3.EnviromentKind=EnviromentKind}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(model){var EQPlayerLiveModel=function(_super){function EQPlayerLiveModel(params){void 0===params&&(params=null);var _this=_super.call(this,params)||this;return _this.isLive=!0,_this.interval=0,_this.MaxRetryLid=0,_this._liveLidURL=null,_this}return __extends(EQPlayerLiveModel,_super),EQPlayerLiveModel.prototype.parseLive=function(){return this.seak_use="off",this.time_use="off",this.title_use="off",this.tag_use="off",this.init_play="on",this.playbackRate="",this.loop_use="off",this.start_time&&(this.start_time=0),this.setFooterAlign(),this.setDefaultQuality(),this.setLiveList(),this.setLiveHTML5List(),this.setLiveFeedSelectHLSUrl(),this.setLiveHLSUrl(),this.setLiveKollectiveHLSUrl(),this.setLiveNestedKollectiveHLSUrl(),this.setLivePreviewList(),this.formatChapter(this.chapter),!0},EQPlayerLiveModel.prototype.createLiveServiceModel=function(){return new model.EQPlayerLiveServiceModel(this)},EQPlayerLiveModel.prototype.getPlayerVersion=function(){return jstream_t3.version.getVersion()},EQPlayerLiveModel.prototype.setDefaultQuality=function(){var def_quality;def_quality=null!=this.default_quality&&parseInt(this.default_quality)>0&&parseInt(this.default_quality)<=4?this.default_quality:"2";this.getPropertyNum(this.quality);for(var i=def_quality;i>0;i--)if(this.quality.hasOwnProperty(i))return void(this.default_quality=i);for(i=def_quality;i<=4;i++)if(this.quality.hasOwnProperty(i))return void(this.default_quality=i)},EQPlayerLiveModel.prototype.setLiveList=function(){var i,prop,liveListAll=[],qualityLen=this.getPropertyNum(this.quality),streamIndex=0;if(this.list.hds){for(;streamIndex<2;){var liveList=[];for(prop in i=1,this.quality){var liveURLSetting;liveURLSetting={quality:prop,url:this.list.hds[prop][streamIndex],text:this.quality[prop].ja,text_en:this.quality[prop].en},liveList[qualityLen-i]=liveURLSetting,i++}liveListAll[streamIndex]=liveList,streamIndex++}this.movie_list=liveListAll}},EQPlayerLiveModel.prototype.setLiveHTML5List=function(){if((this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_STREAMING||this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_STREAMING||this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_HTML5HLS||this.getEnvironmentType()==jstream_t3.EnviromentKind.HLSJS||this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_HLSJS)&&1!==this.liveFeedSelect&&2!==this.liveFeedSelect){var i,prop,qualityLen=this.getPropertyNum(this.quality);this.movie_url_mobile=this.list.nested_hls[this.default_quality][0],"https:"===window.location.protocol&&(this.movie_url_mobile=_super.prototype.replaceToSSL.call(this,this.movie_url_mobile));var movieListMobileAll=[];for(prop in i=1,this.quality){var liveMobileURLSetting,url=this.list.nested_hls[prop][0];"https:"===window.location.protocol&&(url=_super.prototype.replaceToSSL.call(this,url)),liveMobileURLSetting={url:url,text:"ja"==jstream_t3.utils.Util.browserLanguage()?this.quality[prop].ja:this.quality[prop].en},movieListMobileAll[qualityLen-i]=liveMobileURLSetting,i++}this.movie_list_mobile=movieListMobileAll}},EQPlayerLiveModel.prototype.setLiveHLSUrl=function(){if(this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_NATIVE){if(this.list.hls[this.default_quality].length>1)if(1===this.liveFeedSelect||2===this.liveFeedSelect)this.movie_url_mobile=this.list.hls[this.default_quality][this.liveFeedSelect-1];else{var streamNum=this.list.hls[this.default_quality].length,round=Math.floor(100*Math.random())%streamNum;this.movie_url_mobile=this.list.hls[this.default_quality][round]}else this.movie_url_mobile=this.list.hls[this.default_quality][0];"https:"===window.location.protocol&&(this.movie_url_mobile=_super.prototype.replaceToSSL.call(this,this.movie_url_mobile))}},EQPlayerLiveModel.prototype.setLiveKollectiveHLSUrl=function(){if("1"==this.kollective_flg&&(this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_STREAMING||this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_STREAMING||this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_HTML5HLS||this.getEnvironmentType()==jstream_t3.EnviromentKind.HLSJS||this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_HLSJS)){var i,prop,codec="nested_kollective_hls",qualityLen=this.getPropertyNum(this.quality);this.kollective_url=this.list[codec][this.default_quality][0],"https:"===window.location.protocol&&(this.kollective_url=_super.prototype.replaceToSSL.call(this,this.kollective_url));var movieListMobileAll=[];for(prop in i=1,this.quality){var liveMobileURLSetting,url=this.list[codec][prop][0];"https:"===window.location.protocol&&(url=_super.prototype.replaceToSSL.call(this,url)),liveMobileURLSetting={url:url,text:"ja"==jstream_t3.utils.Util.browserLanguage()?this.quality[prop].ja:this.quality[prop].en},movieListMobileAll[qualityLen-i]=liveMobileURLSetting,i++}this.kollective_list=movieListMobileAll}},EQPlayerLiveModel.prototype.setLiveNestedKollectiveHLSUrl=function(){if("1"==this.kollective_flg&&this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_NATIVE){var codec="setLiveNestedKollectiveHLSUrl";if(this.list[codec][this.default_quality].length>1){var streamNum=this.list[codec][this.default_quality].length,round=Math.floor(100*Math.random())%streamNum;this.kollective_url=this.list[codec][this.default_quality][round]}else this.kollective_url=this.list[codec][this.default_quality][0];"https:"===window.location.protocol&&(this.kollective_url=_super.prototype.replaceToSSL.call(this,this.movie_url_mobile))}},EQPlayerLiveModel.prototype.getLiveLidURL=function(){if(!this.img)return"";if(-1===this.img.indexOf("http"))this._liveLidURL="../../jmc_thumb/"+this.img;else if("https:"===window.location.protocol&&0!=this.img.indexOf("https:")){var list=this.img.split("http").join("https").split("/");list[2]=this.getSSLDomain(),this._liveLidURL=list.join("/")}else this._liveLidURL=this.img;return this._liveLidURL},EQPlayerLiveModel.prototype.setLivePreviewList=function(){if(1===this.line||2===this.line){var i,prop,streamIndex,previewStreamIndex,codec,url,liveListAll=[],qualityLen=this.getPropertyNum(this.quality);if(1===this.line?previewStreamIndex=0:2===this.line&&(previewStreamIndex=1),this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_STREAMING||this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_STREAMING||this.getEnvironmentType()==jstream_t3.EnviromentKind.PC_HTML5HLS||this.getEnvironmentType()==jstream_t3.EnviromentKind.HLSJS||this.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_HLSJS){for(codec="hls",streamIndex=0;streamIndex<2;){var liveList=[];for(prop in i=1,this.quality){url=this.list[codec][prop][previewStreamIndex],"https:"===window.location.protocol&&(url=_super.prototype.replaceToSSL.call(this,url));var liveURLSetting={};liveURLSetting={quality:prop,url:url,text:this.quality[prop].ja,text_en:this.quality[prop].en},liveList[qualityLen-i]=liveURLSetting,i++}liveListAll[streamIndex]=liveList,streamIndex++}return this.movie_url_mobile=this.list[codec][this.default_quality][previewStreamIndex],"https:"===window.location.protocol&&(this.movie_url_mobile=_super.prototype.replaceToSSL.call(this,this.movie_url_mobile)),void(this.movie_list_mobile=liveListAll[previewStreamIndex])}for(codec="hds",streamIndex=0;streamIndex<2;){liveList=[];for(prop in i=1,this.quality){liveURLSetting={};liveURLSetting={quality:prop,url:this.list[codec][prop][previewStreamIndex],text:this.quality[prop].ja,text_en:this.quality[prop].en},liveList[qualityLen-i]=liveURLSetting,i++}liveListAll[streamIndex]=liveList,streamIndex++}this.movie_list=liveListAll}},EQPlayerLiveModel.prototype.getPropertyNum=function(obj){var len=0;for(var key in obj)++len;return len},EQPlayerLiveModel.prototype.getPreviewMode=function(){return 1===this.line||2===this.line},EQPlayerLiveModel.prototype.setLiveFeedSelectHLSUrl=function(){if(!(this.getEnvironmentType()!=jstream_t3.EnviromentKind.PC_STREAMING&&this.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_STREAMING&&this.getEnvironmentType()!=jstream_t3.EnviromentKind.PC_HTML5HLS&&this.getEnvironmentType()!=jstream_t3.EnviromentKind.HLSJS&&this.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_HLSJS||1!==this.liveFeedSelect&&2!==this.liveFeedSelect)){var i,prop,liveFeedSelectIndex,url,liveList=[],qualityLen=this.getPropertyNum(this.quality);for(prop in"hls",i=1,liveFeedSelectIndex=2===this.liveFeedSelect&&this.list.hls[this.default_quality].length>1?1:0,this.quality){url=this.list.hls[prop][liveFeedSelectIndex],"https:"===window.location.protocol&&(url=_super.prototype.replaceToSSL.call(this,url));var liveURLSetting;liveURLSetting={quality:prop,url:url,text:this.quality[prop].ja,text_en:this.quality[prop].en},liveList[qualityLen-i]=liveURLSetting,i++}this.movie_url_mobile=this.list.hls[this.default_quality][liveFeedSelectIndex],"https:"===window.location.protocol&&(this.movie_url_mobile=_super.prototype.replaceToSSL.call(this,this.movie_url_mobile)),this.movie_list_mobile=liveList}},EQPlayerLiveModel}(model.EQPlayerModel);model.EQPlayerLiveModel=EQPlayerLiveModel}(jstream_t3.model||(jstream_t3.model={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(model){var EQPlayerServiceModel=function(_super){function EQPlayerServiceModel(value){var _this=_super.call(this)||this;return value=value||{},_this.stype=value.stype||"",_this.playerDir=value.playerDir||"",_this.contract_id=value.contract_id||"",_this.player_id=value.player_id||"",_this.meta_id=value.meta_id||"",_this.partner_id=value.partner_id||"",_this.maker_id=value.maker_id||"",_this.product_id=value.product_id||"",_this.type=value.type||"",_this.viewlimit_flg=value.viewlimit_flg||"",_this.viewlimit_url=value.viewlimit_url||"",_this.isLive=value.isLive||!1,value.isIframe?_this.domain=value.domain||value.parent_url:_this.domain=location.href,_this.auth=value.auth||"",_this.a=value.a||"",_this.auth_mode=value.auth_mode||"and",_this.resultObject=value,_this.opid=value.optionId||"",_this.lpid=value.lpid||"",_this}return __extends(EQPlayerServiceModel,_super),EQPlayerServiceModel}(model.NetServiceModel);model.EQPlayerServiceModel=EQPlayerServiceModel;var EQPlayerLiveServiceModel=function(_super){function EQPlayerLiveServiceModel(value){var _this=_super.call(this)||this;return value=value||{},_this.playerDir=value.playerDir||"",_this.contract_id=value.contract_id||"",_this.player_id=value.player_id||"",_this.type=value.type||"",_this.viewlimit_flg=value.viewlimit_flg||"",_this.viewlimit_url=value.viewlimit_url||"",value.isIframe?_this.domain=value.domain||value.parent_url:_this.domain=location.href,_this.auth=value.auth||"",_this.a=value.a||"",_this.auth_mode=value.auth_mode||"and",_this.lpid=value.lpid||"",_this.isLive=value.isLive||!1,_this.resultObject=value,_this}return __extends(EQPlayerLiveServiceModel,_super),EQPlayerLiveServiceModel}(model.NetServiceModel);model.EQPlayerLiveServiceModel=EQPlayerLiveServiceModel}(jstream_t3.model||(jstream_t3.model={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var LoginFormView=function(){function LoginFormView(){}return LoginFormView.show=function(accesser,parentElementId,cssDir,errorMessage){void 0===parentElementId&&(parentElementId=null),void 0===cssDir&&(cssDir=""),void 0===errorMessage&&(errorMessage=!1);var targetElement=parentElementId?document.getElementById(parentElementId+"video_operation"):document.body;if(!(targetElement=targetElement||document.getElementById(parentElementId)).getElementsByClassName("eq-state-auth")[0]){var blockElement=document.createElement("div");blockElement.id=parentElementId+"block_layer",blockElement.className="eq-state-auth",blockElement.style.display="block",targetElement.appendChild(blockElement),targetElement.clientWidth<240||targetElement.clientHeight<135?blockElement.classList.add("mini"):(targetElement.clientWidth<480||targetElement.clientHeight<270)&&blockElement.classList.add("small");var splitAuthParam=accesser.model.a.split(":"),languageResource=(splitAuthParam[0],splitAuthParam.length>=2&&splitAuthParam[1],new jstream_t3.resource.LanguageResource),headerText=languageResource.kinds.AUTH;errorMessage&&(headerText=languageResource.kinds.ERROR_AUTH);var inner=document.createElement("div");inner.id=parentElementId+"login",inner.className="eq-state-auth_inner",blockElement.appendChild(inner);var title=document.createElement("div");title.id=parentElementId+"login_header",errorMessage&&title.classList.add("eq-input-error"),title.innerText=headerText,inner.appendChild(title);var form=document.createElement("form");inner.appendChild(form);var loginID=document.createElement("input");loginID.id=parentElementId+"loginID",errorMessage&&loginID.classList.add("eq-input-error"),loginID.type="text",loginID.placeholder=languageResource.kinds.ID,form.appendChild(loginID);var loginPASS=document.createElement("input");loginPASS.id=parentElementId+"loginPASS",errorMessage&&loginPASS.classList.add("eq-input-error"),loginPASS.type="password",loginPASS.placeholder=languageResource.kinds.PASS,form.appendChild(loginPASS);var login_button=document.createElement("div");login_button.className="eq-btn-play",login_button.id=parentElementId+"login_btn",inner.appendChild(login_button);var login_button_icon=document.createElement("div");login_button_icon.className="eq-btn-play_icon",login_button.appendChild(login_button_icon);var login_button_text=document.createElement("div");login_button_text.className="eq-btn-play_text",login_button_text.innerText=languageResource.kinds.PLAY,login_button.appendChild(login_button_text),loginID.focus(),login_button.onclick=function(e){blockElement.style.display="none",targetElement.removeChild(blockElement),accesser.login(loginID.value,loginPASS.value)},loginID.onkeydown=function(e){e.stopPropagation(),13==e.keyCode&&(blockElement.style.display="none",targetElement.removeChild(blockElement),accesser.login(loginID.value,loginPASS.value))},loginPASS.onkeydown=function(e){e.stopPropagation(),13==e.keyCode&&(blockElement.style.display="none",targetElement.removeChild(blockElement),accesser.login(loginID.value,loginPASS.value))}}},LoginFormView}();view.LoginFormView=LoginFormView}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){var NetService=function(){function NetService(){this.d_hashList=["44e98f98e536cdafbae856e39d55e59f","1e5359952c511952eb056d3067fda4db","973972a65c74b4f2dcd69d11a22a2cbf","4277f84d88ae3a1e67111f062426ea10","3e11bd70a8f2567f41d8bd68cf7559c9","57f56bdc88a4b57dd762ed843ca0b386","e538ecfb8e431d3fabf3ecaa45d82ea1","fd5a733cc61698bac7141184fc607e05"],this.p_hashList=["c629722cf33adb04e52ef5adeb61e5a6","eadbb9116952e42cd59aab00b0e4e11a","90e8da89bb462061b421c1cb7191de14"],this.maxRetryCount=3,this.errCount=0}return NetService.prototype.load=function(){},NetService.prototype.setModel=function(model){this.model=model},NetService.prototype.loadJsonp=function(url,result,errResult,checkTarget){var _this_1=this;try{var dt=(new Date).getTime(),script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.async=!0,script.defer=!0,"accessControlResultEq"===result?(dt=Math.round(dt/6e4),script.src=url+"&callback="+result+"&_"+dt+"="):script.src=url+"?callback="+result+"&_"+dt+"=",script.addEventListener?(script.onload=function(){clearTimeout(timer)},script.onerror=function(ev){clearTimeout(timer),_this_1.errCount>=_this_1.maxRetryCount?errResult():(_this_1.errCount+=1,setTimeout(function(){_this_1.loadJsonp(url,result,errResult,checkTarget)},500))}):script.readyState&&(script.onreadystatechange=function(){"loaded"===script.readyState&&(void 0===_this_1.model.resultObject[checkTarget]&&result==result?(script.onreadystatechange=null,clearTimeout(timer),_this_1.errCount>=_this_1.maxRetryCount?errResult():(_this_1.errCount+=1,setTimeout(function(){_this_1.loadJsonp(url,result,errResult,checkTarget)},500))):(script.onreadystatechange=null,clearTimeout(timer)))}),document.body.appendChild(script);var timer=setTimeout(function(){clearTimeout(timer),errResult()},13e3)}catch(e){script.src=null,clearTimeout(timer),0!=this.errCount?errResult():(this.errCount+=1,this.loadJsonp(url,result,errResult,checkTarget))}},NetService.prototype.loadJsonp_auth=function(url,result,errResult,checkTarget){var _this_1=this;try{var dt=(new Date).getTime();"playlistDataResult"===result&&-1!==result.indexOf("getAccessControl")&&(dt=Math.round(dt/6e4));var script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.async=!0,script.defer=!0,script.src=url+"&callback="+result+"&_"+dt+"=",script.addEventListener?(script.onload=function(){clearTimeout(timer)},script.onerror=function(ev){clearTimeout(timer),_this_1.errCount>=_this_1.maxRetryCount?errResult():(_this_1.errCount+=1,setTimeout(function(){_this_1.loadJsonp_auth(url,result,errResult,checkTarget)},500))}):script.readyState&&(script.onreadystatechange=function(){"loaded"===script.readyState&&(void 0===_this_1.model.resultObject[checkTarget]&&result==result?(script.onreadystatechange=null,clearTimeout(timer),errResult()):(script.onreadystatechange=null,clearTimeout(timer)))}),document.body.appendChild(script);var timer=setTimeout(function(){clearTimeout(timer),errResult()},13e3)}catch(e){script.src=null,clearTimeout(timer),0!=this.errCount?errResult():(this.errCount+=1,this.loadJsonp_auth(url,result,errResult,checkTarget))}},NetService}();jstream_t3.NetService=NetService;var deviceService=function(_super){function deviceService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(deviceService,_super),deviceService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,dir=params.playerDir.split("/").slice(0,-4).join("/");this.url=dir+"/eq_meta/v1_s/"+_this.model.resultObject.device_profile_id+".jsonp",window.deviceResult=function(json){if(null==json.error){var i,prop;for(prop in json){switch(prop){case"pc":case"sp":if(json[prop])for(i=0;i<json[prop].length;i++)json[prop][i]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i]);break;default:json[prop]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop])}_this.model.resultObject[prop]=json[prop]}_this.result()}else _this.fault()}},deviceService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp(url,"deviceResult",errorHandler,"pc")},deviceService}(NetService);jstream_t3.deviceService=deviceService;var MetaService=function(_super){function MetaService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.syndicationapi_url="syndication-api.stream.co.jp/ec/",_this_1}return __extends(MetaService,_super),MetaService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,synDir="http://"+this.syndicationapi_url;if("https:"==window.location.protocol&&(synDir="https://"+this.syndicationapi_url),params.stype)"s1"==params.stype?this.url=synDir+"get_metainfo_by_product_id?partner_id="+params.partner_id+"&maker_id="+params.maker_id+"&product_id="+params.product_id+"&type="+params.type:"s2"==params.stype&&(this.url=synDir+"get_metainfo?partner_id="+params.partner_id+"&maker_id="+params.maker_id+"&meta_id="+params.meta_id+"&type="+params.type);else{var dir=params.playerDir.split("/").slice(0,-4).join("/");_this.model.resultObject.optionId&&""!=_this.model.resultObject.optionId?this.url=dir+"/eq_meta/v1_o/"+_this.model.resultObject.optionId+".jsonp":this.url=dir+"/eq_meta/v1/"+params.meta_id+".jsonp"}window.metaDataResult=function(json){if(null==json.error){var i,prop;for(prop in json=json.movie){switch(prop){case"inbound_link":case"movie_list":case"movie_list_mobile":case"movie_list_pd":case"movie_list_hls":case"exlink":if(i=0,json[prop])for(;i<json[prop].length;)json[prop][i].text=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i].text),i++;break;case"pc":case"sp":if(json[prop])for(i=0;i<json[prop].length;i++)json[prop][i]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i]);break;case"subtitles":if(i=0,json[prop])for(;i<json[prop].length;)json[prop][i].lang=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i].lang||""),json[prop][i].text=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i].text),json[prop][i].default=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i].default||""),i++;break;default:json[prop]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop])}_this.model.resultObject[prop]=json[prop]}for(var d=jstream_t3.utils.Util.parse_uri(params.domain).authority,j=0;j<_this.d_hashList.length;j++)MD5_hexhash(d)==_this.d_hashList[j]&&(_this.model.resultObject.auth=0,_this.model.resultObject.hostCheckResult="ok",_this.model.resultObject.enable="1");_this.result()}else _this.fault()}},MetaService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp(url,"metaDataResult",errorHandler,"movie_url")},MetaService}(NetService);jstream_t3.MetaService=MetaService;var PlaylistService=function(_super){function PlaylistService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.api_domain="api01-platform.stream.co.jp",_this_1.api_endpoint="/apiservice/getRelatedVideo/",_this_1}return __extends(PlaylistService,_super),PlaylistService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this;this.url=window.location.protocol+"//"+this.api_domain+this.api_endpoint;var shaObj=new jsSHA("SHA-256","TEXT");shaObj.setHMACKey(params.playerDir.split("/")[4],"TEXT"),shaObj.update(params.contract_id.toString());var token=shaObj.getHMAC("B64"),cid=params.contract_id,plid=this.model.resultObject.playlist_id;this.url+="?token="+encodeURIComponent(token)+"&cid="+cid+"&plid="+plid,window.playlistDataResult=function(json){if(null==json.error)if(void 0!==json.movie){void 0!==json.use_playlist_name&&"1"==json.use_playlist_name&&void 0!==json.playlist_name&&""!=json.playlist_name&&(_this.model.resultObject.use_playlist_name="1",_this.model.resultObject.playlist_name=json.playlist_name);for(var i=0;i<json.movie.length;i++)_this.model.resultObject.playlist.push(json.movie[i]);_this.result()}else _this.result();else _this.fault()}},PlaylistService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp_auth(url,"playlistDataResult",errorHandler,"movie")},PlaylistService}(NetService);jstream_t3.PlaylistService=PlaylistService;var LiveMetaService=function(_super){function LiveMetaService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(LiveMetaService,_super),LiveMetaService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,dir=params.playerDir.split("/").slice(0,-4).join("/");this.url=dir+"/livemeta/"+params.lpid+".jsonp",window.metaDataResult=function(json){if(null==json.error){var i,prop,prop2;for(prop in json=json.movie){if("number"!=typeof json[prop])switch(prop){case"quality":for(prop2 in json[prop])json[prop][prop2].ja=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][prop2].ja);break;case"exlink":for(i=0;i<json[prop].length;)json[prop][i].text=jstream_t3.utils.Util.decodeHTMLEncode(json[prop][i].text),i++;break;case"list":break;default:json[prop]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop])}_this.model.resultObject[prop]=json[prop];for(var d=jstream_t3.utils.Util.parse_uri(params.domain).authority,j=0;j<_this.d_hashList.length;j++)MD5_hexhash(d)==_this.d_hashList[j]&&(_this.model.resultObject.auth=0,_this.model.resultObject.hostCheckResult="ok",_this.model.resultObject.enable="1")}_this.result()}else _this.fault()}},LiveMetaService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp(url,"metaDataResult",errorHandler,"list")},LiveMetaService}(NetService);jstream_t3.LiveMetaService=LiveMetaService;var DirInfoService=function(_super){function DirInfoService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DirInfoService,_super),DirInfoService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,synDir=params.playerDir.split("/").slice(0,-2).join("/")+"/dirinfo.jsonp",dir=params.playerDir.split("/").slice(0,-4).join("/");_this.model.resultObject.isLive?this.url=dir+"/jmc_swf/liveplayer/dirinfo.jsonp":"s1"==params.stype||"s2"==params.stype?this.url=synDir:this.url=dir+"/jmc_swf/player/dirinfo.jsonp",window.DirInfoResult=function(json){if(null==json.error){var info=json.info;_this.model.resultObject.info_dir=info.dir,_this.result()}else _this.fault()}},DirInfoService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp(url,"DirInfoResult",errorHandler,"info")},DirInfoService}(NetService);jstream_t3.DirInfoService=DirInfoService;var SettingService=function(_super){function SettingService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.ssl_url="https://ssl-cache.stream.ne.jp",_this_1}return __extends(SettingService,_super),SettingService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this;if(params.stype){if("s1"==params.stype||"s2"==params.stype){var synDir="http://syndication.webcdn.stream.ne.jp/www50/syndication/setting/";"https:"==window.location.protocol&&(synDir=this.ssl_url+"/www50/syndication/setting/"),this.url=synDir+"player.jsonp"}}else{var dir=params.playerDir.split("/").slice(0,-3).join("/");this.url=dir+"/setting/player.jsonp"}window.settingResult=function(json){var prop;if(null==json.error)if(void 0!=(json=json.Player))if(null!=json[params.player_id]){for(prop in json[params.player_id])"string"==typeof json[params.player_id][prop]&&(json[params.player_id][prop]=jstream_t3.utils.Util.decodeHTMLEncode(json[params.player_id][prop])),_this.model.resultObject[prop]=json[params.player_id][prop];_this.setPlayerSetting(_this.model.resultObject),_this.result()}else _this.fault();else _this.fault();else _this.fault()}},SettingService.prototype.load=function(){this.url,this.fault;this.setPlayerSetting(this.model.resultObject),this.result()},SettingService.prototype.setPlayerSetting=function(params){var key,settings={pb:["play_use","on"],vc:["volume_use","on"],sb:["seak_use","on"],fs:["fullscreen_use","on"],ft:["footer_text",""],fa:["footer_align","right"],ti:["title_use","on"],is:["init_sound","on"],ip:["init_play","off"],va:["va_use","on"],el:["exlink_use","on"],tg:["tag_use","on"],mb:["multibitrate_use","on"],il:["inboundlink_use","on"],rb:["replaybtn_use","on"],wm:["watermark_use","on"],wd:["watermark_design","1"],cp:["controlbar_use","on"],rs:["resumeEnable","off"],rv:["resumeVolumeEnable","on"],ot:["onetimeTag",""],cc:["closedCaption","on"],pr:["playbackRate",""],lu:["loop_use","off"],dq:["default_quality","2"],mdq:["mobile_default_quality","2"],lm:["livemark_use","on"],plac:["playlist_autoChange","off"],skb:["skipbtn_use","10"],cpt:["chapter_use","on"]};for(key in settings)"string"==typeof params.s[key]&&(params.s[key]=jstream_t3.utils.Util.decodeHTMLEncode(params.s[key])),"mdq"==key&&!params.s.mdq&&params.s.dq&&(params.s[key]=params.s.dq),params[settings[key][0]]=params.s[key]||settings[key][1];"s1"!=params.stype&&"s2"!=params.stype||(params.tag_use="off"),""==params.footer_text?params.footer_use="off":(params.footer_use="on",params.s.ft=encodeURIComponent(params.footer_text),params.footer_text=decodeURIComponent(params.footer_text)),this.setSnsList(params.s),params.isLive?(this.model.resultObject.playbackRate_list=[1],this.model.resultObject.playbackRate_index=this.model.resultObject.playbackRate_list.indexOf(1)):(this.setPlaybackList(params.s),this.setCaptionList(params.s))},SettingService.prototype.setPlaybackList=function(params){if(this.model.resultObject.playbackRate_list=[1],params.pr&&"string"==typeof params.pr){for(var prList=params.pr.split(","),i=0;i<prList.length;i++){var item=Number(prList[i]);isFinite(item)&&this.model.resultObject.playbackRate_list.push(item)}this.model.resultObject.playbackRate_list.sort(function(a,b){return a>b?-1:a<b?1:0})}this.model.resultObject.playbackRate_index<0&&(this.model.resultObject.playbackRate_index=this.model.resultObject.playbackRate_list.indexOf(1))},SettingService.prototype.setCaptionList=function(params){},SettingService.prototype.setSnsList=function(params){if(params.sn&&"string"==typeof params.sn){var snsSites=["facebook","twitter","LINE","google","mixi"],snsList=params.sn.split(",");this.model.resultObject.sns_id_list=[];for(var tempList=[],i=0;i<snsList.length;i++)if("f"==snsList[i])tempList.push("facebook");else if("t"==snsList[i])tempList.push("twitter");else if("m"==snsList[i]);else if("g"==snsList[i]);else{if("l"!=snsList[i]){tempList=[];break}tempList.push("LINE")}if(tempList.length>0){tempList.length>4&&tempList.splice(4,1);for(i=0;i<snsSites.length;i++)for(var j=0;j<tempList.length;j++)snsSites[i]==tempList[j]&&("LINE"!=tempList[j]||this.model.resultObject.platform.isSP||this.model.resultObject.platform.isTablet)&&this.model.resultObject.sns_id_list.push(snsSites[i])}}else""==params.sn?this.model.resultObject.sns_id_list=[]:this.model.resultObject.platform.isSP||this.model.resultObject.platform.isTablet?this.model.resultObject.sns_id_list=["facebook","twitter","google","LINE"]:this.model.resultObject.sns_id_list=["facebook","twitter","google"];0==this.model.resultObject.sns_id_list.length?this.model.resultObject.sns_use="off":this.model.resultObject.sns_use="on"},SettingService}(NetService);jstream_t3.SettingService=SettingService;var ServiceSettingService=function(_super){function ServiceSettingService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ServiceSettingService,_super),ServiceSettingService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,dir=params.playerDir.split("/").slice(0,-3).join("/");this.url=dir+"/setting/service.jsonp",window.serviceResult=function(json){if(null==json.error){var prop;for(prop in json=json.service)if("string"==typeof json[prop]&&(json[prop]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop])),_this.model.resultObject[prop]=json[prop],"cid"==prop&&json[prop]!=params.contract_id)return void _this.fault("illegal");_this.result()}else _this.fault()}},ServiceSettingService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp(url,"serviceResult",errorHandler,"pd_enable")},ServiceSettingService}(NetService);jstream_t3.ServiceSettingService=ServiceSettingService;var AuthenticationService=function(_super){function AuthenticationService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.isLive=!1,_this_1.callbackNum=0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.api_domain="api01-platform.stream.co.jp",_this_1}return __extends(AuthenticationService,_super),AuthenticationService.prototype.setModel=function(params){if(_super.prototype.setModel.call(this,params),this.cid=params.contract_id||params.maker_id,1==params.isLive){this.isLive=params.isLive,this.lpid=params.lpid;var qstring="?cid="+this.cid+"&lpid="+this.lpid}else{this.mid=params.meta_id;qstring="?cid="+this.cid+"&mid="+this.mid}var _this=this;qstring=qstring+"&a="+params.a;this.callbackNum=parseInt(this.cid+this.mid),this.model.resultObject.api_url&&this.model.resultObject.api_url.length>0&&(this.api_domain=this.model.resultObject.api_url),this.url="https://"+this.api_domain+"/apiservice/checkAuth/"+qstring,window.authResult=function(json){_this.result(!1)},window["checkauthresulteq"+this.callbackNum]=function(json){var response=json.response;json.response_status;if(null!=json.error)return _this.model.resultObject.tk="_NG_",void _this.result(!1);var tk=json.tk;"OK"===response&&""!==tk?("string"==typeof json.tk&&(json.tk=jstream_t3.utils.Util.decodeHTMLEncode(json.tk)),_this.model.resultObject.tk=json.tk,_this.result(!0)):(_this.model.resultObject.tk="_NG_",_this.result(!1))}},AuthenticationService.prototype.load=function(){var url=this.url,resultHandller="checkauthresulteq"+this.callbackNum,errorHandler=this.fault;this.loadJsonp_auth(url,resultHandller,errorHandler,"tk")},AuthenticationService}(NetService);jstream_t3.AuthenticationService=AuthenticationService;var HostCheckService2=function(_super){function HostCheckService2(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.isLive=!1,_this_1.api_domain="api01-platform.stream.co.jp",_this_1.BOTH="1",_this_1.PARAMS="0",_this_1.HOST="",_this_1}return __extends(HostCheckService2,_super),HostCheckService2.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this;if(this.isLoad=!0,params.resultObject.publish_site>0&&!jstream_t3.utils.Util.isPublishSitePlayerSetting(params.resultObject.s)&&(params.resultObject.publish_site=0),("1"!=params.viewlimit_flg||!params.viewlimit_url)&&!params.resultObject.start_date&&!params.resultObject.end_date&&params.resultObject.publish_site<=0)return this.isLoad=!1,void(params.resultObject.hostCheckResult="ok");if("ok"!=params.resultObject.hostCheckResult){this.cid=params.contract_id||params.maker_id;var p=jstream_t3.utils.Util.parse_uri(params.domain),domain=p.scheme+"://"+p.authority+p.path,referer="";jstream_t3.utils.Util.isContainApiDomain(domain)&&this.model.resultObject.ref&&(referer=this.model.resultObject.ref);var player="";if((params.viewlimit_flg=params.viewlimit_url)||params.resultObject.start_date&&params.resultObject.end_date?player=params.resultObject.publish_site>0?this.BOTH:this.HOST:params.resultObject.publish_site>0&&(player=this.PARAMS),1==params.isLive){this.isLive=params.isLive,this.lpid=params.lpid;var qstring="?cid="+this.cid+"&lpid="+this.lpid}else{this.mid=params.meta_id;qstring="?cid="+this.cid+"&mid="+this.mid}qstring=qstring+"&ot="+params.resultObject.ot+"&domain="+domain,referer.length>0&&(qstring+="&referer="+referer),player.length>0&&(qstring+="&player="+player),this.model.resultObject.api_url&&this.model.resultObject.api_url.length>0&&(this.api_domain=this.model.resultObject.api_url),this.url="https://"+this.api_domain+"/apiservice/getAccessControl/"+qstring,window.accessControlResultEq=function(json){var response=json.response,responseStatus=json.response_status;if(null!=json.error)return _this.model.resultObject.tk="_NG_",params.hostCheckResult="ng",_this.fault(responseStatus||""),void("or"==params.auth_mode&&"1"==params.auth&&"2003"!=responseStatus&&"2004"!=responseStatus&&_this.result());if(json.parameter)for(var prop in json.parameter)"string"==typeof json.parameter[prop]&&(json.parameter[prop]=jstream_t3.utils.Util.decodeHTMLEncode(json.parameter[prop])),_this.model.resultObject.s[prop]=json.parameter[prop];var tk=json.tk;"OK"===response&&""!==tk?("string"==typeof json.tk&&(json.tk=jstream_t3.utils.Util.decodeHTMLEncode(json.tk)),_this.model.resultObject.tk=json.tk,params.hostCheckResult="ok",_this.model.resultObject.hostCheckResult="ok",_this.result()):(_this.model.resultObject.tk="_NG_",params.hostCheckResult="ng",_this.fault(responseStatus||""),"or"==params.auth_mode&&"1"==params.auth&&"2003"!=responseStatus&&"2004"!=responseStatus&&_this.result())}}else this.isLoad=!1},HostCheckService2.prototype.load=function(){if(this.isLoad){var url=this.url,errorHandler=this.fault;this.loadJsonp(url,"accessControlResultEq",errorHandler,"tk")}else this.result()},HostCheckService2}(NetService);jstream_t3.HostCheckService2=HostCheckService2;var CheckConnectionService=function(_super){function CheckConnectionService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.endPoint="count01-platform.stream.co.jp/index.php",_this_1}return __extends(CheckConnectionService,_super),CheckConnectionService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this;this.url=this.model.resultObject.getConnectionURL(),"http:"===window.location.protocol?this.url="http://"+this.url:this.url="https://"+this.url,this.cid=params.contract_id||params.maker_id,this.isLive=this.model.resultObject.isLive?"2":"1",this.sid=this.model.resultObject.eqplsid,this.sid||this.fault(),this.sv=params.contract_id||params.maker_id,this.v=params.meta_id||this.model.resultObject.lpid;var qstring="?sv="+this.sv+"&e=2&v="+this.v+"&sd="+this.sid+"&mode="+this.isLive;this.url+=qstring,this.callbackNum=this.sv+"_"+this.v;var win=window;win.connectionResult=function(json){null==json.error?"OK"==json.result?_this.result():this.fault():_this.fault()},win["connectionResult"+this.callbackNum]=function(json){var result=json.result,now=json.now,total=json.total;null==json.error?(_this.model.resultObject.isCheckConnectionPassed=result,_this.model.resultObject.currentConnecting=now,_this.model.resultObject.totalConnectiong=total,"OK"==result?_this.result():_this.fault()):_this.fault()}},CheckConnectionService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp_auth(url,"connectionResult",errorHandler,"result")},CheckConnectionService}(NetService);jstream_t3.CheckConnectionService=CheckConnectionService;var CheckConnectionResultService=function(_super){function CheckConnectionResultService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.endPoint="count01-platform.stream.co.jp/index.php",_this_1}return __extends(CheckConnectionResultService,_super),CheckConnectionResultService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this;this.url=this.model.resultObject.getConnectionURL(),this.url=this.url.replace("index.php","result.php"),"http:"===window.location.protocol?this.url="http://"+this.url:this.url="https://"+this.url,this.cid=params.contract_id||params.maker_id,this.isLive=this.model.resultObject.isLive?"2":"1",this.sid=this.model.resultObject.eqplsid,this.sid||this.fault(),this.sv=params.contract_id||params.maker_id,this.v=params.meta_id||this.model.resultObject.lpid;var qstring="?sv="+this.sv+"&e="+this.model.resultObject.stat+"&v="+this.v+"&sd="+this.sid+"&mode="+this.isLive;this.url+=qstring,this.callbackNum=this.sv+"_"+this.v;var win=window;win.connectionResult=function(json){null==json.error?"OK"==json.result?_this.result():this.fault():_this.fault()},win["connectionResult"+this.callbackNum]=function(json){var result=json.result,nowCount=json.nowCount;json.total;null==json.error?(_this.model.resultObject.currentConnecting=nowCount,"OK"==result?_this.result():_this.fault()):_this.fault()}},CheckConnectionResultService.prototype.load=function(){var url=this.url,errorHandler=this.fault;this.loadJsonp_auth(url,"connectionResult",errorHandler,"result")},CheckConnectionResultService}(NetService);jstream_t3.CheckConnectionResultService=CheckConnectionResultService;var ConnectionCheckService=function(_super){function ConnectionCheckService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ConnectionCheckService,_super),ConnectionCheckService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,dir=params.playerDir.split("/").slice(0,-4).join("/");this.mid=params.lpid,this.url=dir+"/livelimit/"+params.lpid+".jsonp";var lpid=("00000"+this.mid).slice(-5);eval("connectionResult"+lpid+"= function (json) { if (json.error != null) { _this.fault(); return; } var prop; for (prop in json) { if (typeof json[prop] === 'string') { json[prop] = jstream_t3.utils.Util.decodeHTMLEncode(json[prop]); } _this.model.resultObject[prop] = json[prop]; } _this.result(); }")},ConnectionCheckService.prototype.load=function(){var url=this.url,resultHandller="connectionResult"+("00000"+this.mid).slice(-5),errorHandler=this.fault;this.loadJsonp(url,resultHandller,errorHandler,"connection")},ConnectionCheckService}(NetService);jstream_t3.ConnectionCheckService=ConnectionCheckService;var LiveStatusService=function(_super){function LiveStatusService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(LiveStatusService,_super),LiveStatusService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params);var _this=this,dir=params.playerDir.split("/").slice(0,-4).join("/");this.mid=params.lpid,this.url=dir+"/livelid/"+params.lpid+".jsonp",window["lidResult"+this.mid]=function(json){if(null==json.error){var prop;for(prop in json)"string"==typeof json[prop]&&(json[prop]=jstream_t3.utils.Util.decodeHTMLEncode(json[prop])),_this.model.resultObject[prop]=json[prop];_this.result()}else _this.fault()}},LiveStatusService.prototype.load=function(){var url=this.url,resultHandller="lidResult"+this.mid,errorHandler=this.fault;this.loadJsonp(url,resultHandller,errorHandler,"enabled")},LiveStatusService}(NetService);jstream_t3.LiveStatusService=LiveStatusService;var getAccessControlService=function(_super){function getAccessControlService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.endPoint="rcc.cdnext.stream.ne.jp/v1.0/getAccessControl/",_this_1}return __extends(getAccessControlService,_super),getAccessControlService.prototype.setModel=function(params){var _this_1=this;_super.prototype.setModel.call(this,params),"http:"===window.location.protocol?this.url="http://":this.url="https://";var win=window;this.sv=params.contract_id||params.maker_id,this.v=params.meta_id||this.model.resultObject.lpid,this.callbackNum=this.sv+"_"+this.v;var liveEventId=this.model.resultObject.leid||"",account_id="",mode_id="";this.model.resultObject.isLive?(account_id=this.sv+"_"+this.v+"_"+liveEventId,mode_id="2"):(account_id=this.sv,mode_id="1");var queryString="?account_id="+account_id+"&mode_id="+mode_id+"&app_name=eq&type=jsonp";this.url=this.url+this.endPoint+queryString,win.AccessControlResult=function(json){_this_1.result(json)},win["AccessControlResult"+this.callbackNum]=function(json){_this_1.result(json)}},getAccessControlService.prototype.load=function(){var url=this.url,resultHandller="AccessControlResult"+this.callbackNum,errorHandler=this.fault;this.loadJsonp_auth(url,resultHandller,errorHandler,"result")},getAccessControlService}(NetService);jstream_t3.getAccessControlService=getAccessControlService;var beaconAPIService=function(_super){function beaconAPIService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.endPoint="rcc.cdnext.stream.ne.jp/v1.0/beaconAPI/",_this_1}return __extends(beaconAPIService,_super),beaconAPIService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params),"http:"===window.location.protocol?this.url="http://":this.url="https://";window;this.sv=params.contract_id||params.maker_id,this.v=params.meta_id||this.model.resultObject.lpid,this.callbackNum=this.sv+"_"+this.v;var liveEventId=this.model.resultObject.leid||"",account_id="",mode_id="";this.model.resultObject.isLive?(account_id=this.sv+"_"+this.v+"_"+liveEventId,mode_id="2"):(account_id=this.sv,mode_id="1");var queryString="?account_id="+account_id+"&mode_id="+mode_id+"&app_name=eq&sd="+this.model.resultObject.eqplsid+"&_"+(new Date).getTime();this.url=this.url+this.endPoint+queryString},beaconAPIService.prototype.load=function(){this.url,this.callbackNum,this.fault;var request=new XMLHttpRequest;request.open("GET",this.url),request.send()},beaconAPIService}(NetService);jstream_t3.beaconAPIService=beaconAPIService;var getAccessCount=function(_super){function getAccessCount(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.endPoint="rcc.cdnext.stream.ne.jp/v1.0/getAccessCount/",_this_1}return __extends(getAccessCount,_super),getAccessCount.prototype.setModel=function(params){_super.prototype.setModel.call(this,params),"http:"===window.location.protocol?this.url="http://":this.url="https://";window;this.sv=params.contract_id||params.maker_id,this.v=params.meta_id||this.model.resultObject.lpid,this.callbackNum=this.sv+"_"+this.v;var liveEventId=this.model.resultObject.leid||"",account_id="",mode_id="";this.model.resultObject.isLive?(account_id=this.sv+"_"+this.v+"_"+liveEventId,mode_id="2"):(account_id=this.sv,mode_id="1");var queryString="?account_id="+account_id+"&mode_id="+mode_id+"&app_name=eq&sd="+this.model.resultObject.eqplsid+"&_"+(new Date).getTime();this.url=this.url+this.endPoint+queryString},getAccessCount.prototype.load=function(){this.url,this.callbackNum,this.fault;var request=new XMLHttpRequest;request.open("GET",this.url),request.send()},getAccessCount}(NetService);jstream_t3.getAccessCount=getAccessCount;var getLiveStartTimeService=function(_super){function getLiveStartTimeService(){var _this_1=null!==_super&&_super.apply(this,arguments)||this;return _this_1.isLoad=!0,_this_1.unixTimes=Math.round((new Date).getTime()/1e3),_this_1.endPoint="time.akamai.com",_this_1}return __extends(getLiveStartTimeService,_super),getLiveStartTimeService.prototype.setModel=function(params){_super.prototype.setModel.call(this,params),"http:"===window.location.protocol?this.url="http://":this.url="https://";window;this.url=this.url+this.endPoint},getLiveStartTimeService.prototype.load=function(){var _this_1=this,request=(this.url,new XMLHttpRequest);request.addEventListener("load",function(){_this_1.result(request.responseText)}),request.addEventListener("error",function(){_this_1.fault("error")}),request.addEventListener("timeout",function(){_this_1.fault("timeout")}),request.addEventListener("abort",function(){_this_1.fault("abort")}),request.open("GET",this.url),request.send()},getLiveStartTimeService}(NetService);jstream_t3.getLiveStartTimeService=getLiveStartTimeService}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(utils){var Timer=function(_super){function Timer(interval,repeateCount){void 0===repeateCount&&(repeateCount=0);var _this=_super.call(this)||this;return _this.interval=interval,_this.repeateCount=repeateCount,_this.running=!1,_this}return __extends(Timer,_super),Timer.prototype.start=function(){var _this=this;this.running=!0,this.currentCount=0,this.intervalID=setInterval(function(){if(_this.repeateCount>0&&_this.currentCount>_this.repeateCount)return _this.dispatchEvent(Timer.TIMER_COMPLETE),void _this.stop();_this.dispatchEvent(Timer.TIMER),_this.currentCount++},this.interval)},Timer.prototype.stop=function(){clearInterval(this.intervalID),this.running=!1},Timer.prototype.reset=function(){this.stop(),this.currentCount=0},Timer.TIMER="time",Timer.TIMER_COMPLETE="timeComplete",Timer}(jstream_t3.events.EventDispatcher);utils.Timer=Timer}(jstream_t3.utils||(jstream_t3.utils={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(utils){var HashChecker=function(_super){function HashChecker(checkInterval){void 0===checkInterval&&(checkInterval=300);var _this=_super.call(this)||this;return _this.timer=new utils.Timer(checkInterval),_this.timer.addEventListener("time",function(){_this.checkHash()}),_this.checkHash(),_this}return __extends(HashChecker,_super),HashChecker.prototype.checkHash=function(){var hash=window.location.hash.slice(1);this.currentHash!=hash&&(this.currentHash=hash,this.dispatchEvent("chenge"))},HashChecker.prototype.start=function(){this.timer.start()},HashChecker.prototype.stop=function(){this.timer.stop()},HashChecker}(jstream_t3.events.EventDispatcher);utils.HashChecker=HashChecker}(jstream_t3.utils||(jstream_t3.utils={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(geom){var Point=function(){function Point(x,y){void 0===x&&(x=0),void 0===y&&(y=0),this.x=x,this.y=y}return Point.prototype.racio=function(){return this.y/this.x},Point}();geom.Point=Point}(jstream_t3.geom||(jstream_t3.geom={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(geom){var Rectangle=function(){function Rectangle(x,y,width,height){void 0===x&&(x=0),void 0===y&&(y=0),void 0===width&&(width=0),void 0===height&&(height=0),this.x=x,this.y=y,this.width=width,this.height=height}return Rectangle.prototype.fexedZoom=function(width,height){var xScale=width/this.width,yScale=height/this.height,scale=xScale>yScale?yScale:xScale;return this.zoom(scale),this},Rectangle.prototype.centerXY=function(width,height,basePosition){return void 0===basePosition&&(basePosition=null),null==basePosition&&(basePosition=new geom.Point),this.x=Math.floor((width-this.width)/2)+basePosition.x,this.y=Math.floor((height-this.height)/2)+basePosition.y,this},Rectangle.prototype.zoom=function(scale){return this.width*=scale,this.height*=scale,this},Rectangle}();geom.Rectangle=Rectangle}(jstream_t3.geom||(jstream_t3.geom={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var ViewElement=function(_super){function ViewElement(dom,style){void 0===dom&&(dom=null),void 0===style&&(style=null);var _this=_super.call(this)||this;return _this.parent=null,_this.id=_this.createID(),_this.children=[],_this.childrenHash={},_this.dom=_this.createDom(dom),dom||_this.initStyle(style),_this}return __extends(ViewElement,_super),ViewElement.prototype.createID=function(){return"t"+Math.floor(Math.random()*(new Date).getTime())},ViewElement.prototype.createDom=function(dom){return void 0===dom&&(dom=null),null==dom&&(dom=document.createElement("div")),this.setUpEvent(dom),dom},ViewElement.prototype.useHandCursole=function(value){this.dom.style.cursor=value?"pointer":null},ViewElement.prototype.setUpEvent=function(dom){var _this=this;dom.onload=function(){_this.dispatchEvent(DOMEventKind.LOAD)},dom.onclick=function(){_this.dispatchEvent(MouseEventKind.CLICK)},dom.onmouseout=function(){_this.dispatchEvent(MouseEventKind.MOUSE_OUT)},dom.onmouseover=function(){_this.dispatchEvent(MouseEventKind.MOUSE_OVER)},dom.onmousemove=function(){_this.dispatchEvent(MouseEventKind.MOUSE_MOVE)},dom.onmousedown=function(){_this.dispatchEvent(MouseEventKind.MOUSE_DOWN)},dom.onmouseup=function(){_this.dispatchEvent(MouseEventKind.MOUSE_UP)}},ViewElement.prototype.initStyle=function(style){void 0===style&&(style=null),null==style&&(style={}),this.dom.style.position=style.position||"absolute",this.dom.style.margin=style.margin||"0px",this.dom.style.padding=style.padding||"0px",this.dom.style.left=style.left||"0px",this.dom.style.top=style.top||"0px"},ViewElement.prototype.setNumberStyle=function(type,value){return void 0===value&&(value=null),null!=value&&(this.dom.style[type]=value.toString()+"px"),this.getNumberStyle(type)},ViewElement.prototype.setStringStyle=function(type,value){return void 0===value&&(value=null),null!=value&&(this.dom.style[type]=value),this.getStringStyle(type)},ViewElement.prototype.getNumberStyle=function(type){return this.dom.style[type]?parseInt(this.dom.style[type].slice(0,-2)):0},ViewElement.prototype.getStringStyle=function(type){return this.dom.style[type]?this.dom.style[type]:""},ViewElement.prototype.left=function(value){return void 0===value&&(value=null),this.setNumberStyle("left",value)},ViewElement.prototype.top=function(value){return void 0===value&&(value=null),this.setNumberStyle("top",value)},ViewElement.prototype.right=function(value){return void 0===value&&(value=null),this.setNumberStyle("right",value)},ViewElement.prototype.bottom=function(value){return void 0===value&&(value=null),this.setNumberStyle("bottom",value)},ViewElement.prototype.width=function(value){return void 0===value&&(value=null),null!=value&&(this.dom.style.width=value+"px"),this.dom.offsetWidth-this.getNumberStyle("borderLeftWidth")-this.getNumberStyle("borderRightWidth")-this.getNumberStyle("paddingLeft")-this.getNumberStyle("paddingRight")},ViewElement.prototype.outerWidth=function(){return this.dom.offsetWidth},ViewElement.prototype.height=function(value){return void 0===value&&(value=null),null!=value&&(this.dom.style.height=value+"px"),this.dom.offsetHeight},ViewElement.prototype.outerHeight=function(){return this.dom.offsetHeight},ViewElement.prototype.innerHeight=function(){return this.dom.offsetHeight},ViewElement.prototype.borderVisible=function(value){return void 0===value&&(value=null),null!=value&&(this.dom.style.border=value||"none"),"none"!=this.dom.style.border},ViewElement.prototype.visible=function(value){return void 0===value&&(value=null),null!=value&&(this.dom.style.visibility=value?"visible":"hidden"),"visible"==this.dom.style.visibility},ViewElement.prototype.alpha=function(value){return void 0===value&&(value=null),null!=value&&(this.dom.style.opacity=value.toString()),parseFloat(this.dom.style.opacity)},ViewElement.prototype.getElement=function(){return this.dom},ViewElement.prototype.addChild=function(value){null==this.childrenHash[value.id]&&(this.children.push(value),this.childrenHash[value.id]=value,this.dom.appendChild(value.getElement()),value.parent=this)},ViewElement.prototype.removeChild=function(value){if(this.childrenHash[value.id]){delete this.childrenHash[value.id];for(var i=0;i<this.children.length;i++)if(this.children[i].id==value.id)return this.children.splice(i,1),this.dom.removeChild(value.getElement()),void(value.parent=null)}},ViewElement.prototype.parentDom=function(){return this.dom.parentElement},ViewElement}(jstream_t3.events.EventDispatcher);view.ViewElement=ViewElement;var MouseEventKind=function(){function MouseEventKind(){}return MouseEventKind.MOUSE_UP="mouseup",MouseEventKind.MOUSE_DOWN="mosuedown",MouseEventKind.MOUSE_MOVE="mousemove",MouseEventKind.CLICK="click",MouseEventKind.MOUSE_OUT="mouseout",MouseEventKind.MOUSE_OVER="mouseover",MouseEventKind}();view.MouseEventKind=MouseEventKind;var DOMEventKind=function(){function DOMEventKind(){}return DOMEventKind.LOAD="load",DOMEventKind}();view.DOMEventKind=DOMEventKind}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var ImageView=function(_super){function ImageView(fit){void 0===fit&&(fit=!0);var _this=_super.call(this)||this;return _this.fit=fit,_this.isLoading=!1,_this._rawHeigt=0,_this._rawWidth=0,_this.setupRawSize(),_this.addEventListener(view.DOMEventKind.LOAD,_this.onload),_this}return __extends(ImageView,_super),ImageView.prototype.createDom=function(dom){void 0===dom&&(dom=null);var img=document.createElement("img");return _super.prototype.createDom.call(this,img)},ImageView.prototype.onload=function(e){var currentTarget=e.currentTarget;currentTarget.isLoading=!0,currentTarget.fit&&currentTarget.resize(e),currentTarget.visible(!0)},ImageView.prototype.rawHeight=function(){return this.getElement().naturalHeight},ImageView.prototype.rawWidth=function(){return this.getElement().naturalWidth},ImageView.prototype.load=function(src){var _this=this;this.isLoading=!0,this.visible(!1),this._rawWidth=0,this._rawHeigt=0,this.getElement().src=src,"naturalWidth"in this.getElement()||setTimeout(function(){_this.isLoading&&0!=_this.getElement().width&&_this.dispatchEvent(view.DOMEventKind.LOAD)},33)},ImageView.prototype.resize=function(e){var currentTarget=e.currentTarget;currentTarget.IEResize();var rect=new jstream_t3.geom.Rectangle(0,0,currentTarget.rawWidth(),currentTarget.rawHeight());rect.fexedZoom(currentTarget.parent.width(),currentTarget.parent.height()),rect.centerXY(currentTarget.parent.width(),currentTarget.parent.height()),currentTarget.left(rect.x),currentTarget.top(rect.y),currentTarget.width(rect.width),currentTarget.height(rect.height)},ImageView.prototype.IEResize=function(){var image=this.getElement();if(!("naturalWidth"in image)){var run=image.runtimeStyle,mem={w:run.width,h:run.height};run.width="auto",run.height="auto",this._rawWidth=image.width,this._rawHeigt=image.height,run.width=mem.w,run.height=mem.h}},ImageView.prototype.setupRawSize=function(){var _this=this;"naturalWidth"in this.getElement()||(this.rawHeight=function(){return _this._rawHeigt},this.rawWidth=function(){return _this._rawWidth})},ImageView}(view.ViewElement);view.ImageView=ImageView}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var ThumbnailView=function(){function ThumbnailView(){this.thumbnail=new view.ImageView,this.wMark=new view.ImageView(!1),this.base=new view.ViewElement(null,{position:"relative"})}return ThumbnailView.prototype.createElement=function(thumbnailURL,wmarkPath,width,height){void 0===width&&(width=100),void 0===height&&(height=100),this.base.width(width),this.base.height(height),this.base.addChild(this.thumbnail),this.thumbnail.useHandCursole(!0),this.thumbnail.load(thumbnailURL),this.thumbnailImage=new Image,this.thumbnailImage.src=thumbnailURL;var left,top,wSize=99;return(width<240||height<180)&&(wSize=49),this.waterMarkSize=wSize,left=Math.floor(width/2-wSize/2),top=Math.floor(height/2-wSize/2),null!=wmarkPath&&(this.wMark.left(left),this.wMark.top(top),this.wMark.width(wSize),this.wMark.height(wSize),this.wMark.load(wmarkPath),this.wMark.useHandCursole(!0),this.base.addChild(this.wMark)),this.base},ThumbnailView.prototype.setSize=function(width,height){this.base.width(width),this.base.height(height),this.wMark.left(Math.floor(width/2-this.wMark.width()/2)),this.wMark.top(Math.floor(height/2-this.wMark.height()/2))},ThumbnailView.prototype.setSizeResponsive=function(responsive){"on"==responsive&&this.base.setStringStyle("position","absolute");window.navigator.userAgent.toLowerCase();var appVersion=window.navigator.appVersion.toLowerCase();if(-1!=appVersion.indexOf("msie 6.")||-1!=appVersion.indexOf("msie 7.")||-1!=appVersion.indexOf("msie 8.")){"BackCompat"==document.compatMode?(document.body.clientWidth,document.body.clientHeight):(document.documentElement.clientWidth,document.documentElement.clientHeight);var thumbOriginWidth=this.thumbnailImage.width;this.thumbnailImage.height;this.base.setStringStyle("width","100%"),this.base.setStringStyle("height","100%"),this.base.setStringStyle("cursor","pointer"),this.thumbnail.setStringStyle("max-width","100%"),this.wMark.setStringStyle("left","50%"),this.wMark.setStringStyle("top","50%"),this.wMark.setStringStyle("margin",this.waterMarkSize/2*-1+"px 0 0 "+this.waterMarkSize/2*-1+"px")}else this.base.setStringStyle("width","100%"),this.base.setStringStyle("height","100%"),this.base.setStringStyle("background-image","url("+this.thumbnailImage.src+")"),this.base.setStringStyle("background-size","contain"),this.base.setStringStyle("background-repeat","no-repeat"),this.base.setStringStyle("background-position","center"),this.base.setStringStyle("cursor","pointer"),this.thumbnail.getElement().onload=null,this.thumbnail.visible(!1),this.thumbnail.setStringStyle("display","none"),this.wMark.setStringStyle("left","50%"),this.wMark.setStringStyle("top","50%"),this.wMark.setStringStyle("margin",this.waterMarkSize/2*-1+"px 0 0 "+this.waterMarkSize/2*-1+"px")},ThumbnailView.prototype.getElement=function(){return this.base.getElement()},ThumbnailView.prototype.getWaterMark=function(){return this.wMark},ThumbnailView}();view.ThumbnailView=ThumbnailView}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var html5playerTemplate=function(){function html5playerTemplate(){}return html5playerTemplate.getTemplate=function(deviceType){return"pc"===deviceType?this.templateForPC:"mobile"===deviceType?this.templateForMobile:void 0},html5playerTemplate.templateForPC='<div class="eq-h5_player" style="text-align: left;">\r\n            <div class="eq-video_cover" ></div>\r\n            <div class="eq-caption_area">\r\n                <span class="eq-caption_text"></span>\r\n            </div>\r\n<div class="eq-unmuteBtn"></div>\r\n              \x3c!--  start --\x3e\r\n              <div class="eq-header" style="display:none;">\r\n                <div></div>\r\n            </div>\r\n            \x3c!--  end --\x3e\r\n            \x3c!--   start --\x3e\r\n            <div class="eq-sub-container" style="display:none;">\r\n                <div class="eq-sub-container-box">\r\n                    <div class="eq-btn-movies" ><div>movies</div></div>\r\n                    <div class="eq-btn-links" ><div>links</div></div>\r\n                    <div class="eq-btn-share" ><div>share</div></div>\r\n                    <div class="eq-btn-chapter" ><div>chapter</div></div>\r\n                </div>\r\n            </div>\r\n            \x3c!--   end --\x3e\r\n            \x3c!--  start --\x3e\r\n            <div class="overlay-container">\r\n                <div style="display:none;" class="eq-state-relation">\r\n                    <div class="eq-state-movies_inner">\r\n                        <div class="eq_relation_title"></div>\r\n                        <div class="eq-state-movies-box">\r\n                            \r\n                        </div>\r\n                        <div class="eq-box-pager">\r\n                            <div>\r\n                                \x3c!-- <div class="eq-pager eq-foucus"></div>\r\n                                <div class="eq-pager"></div>\r\n                                <div class="eq-pager"></div>\r\n                                <div class="eq-pager"></div>\r\n                                <div class="eq-pager"></div> --\x3e\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="eq-box-nb">\r\n                        <div>\r\n                            <div class="eq-btn-prev"><div>prev</div></div>\r\n                            <div class="eq-btn-next"><div>next</div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="eq-btn-close"></div>\r\n                </div>\r\n                <div style="display:none;" class="eq-state-relation">\r\n                    <div class="eq-state-links_inner">\r\n                        <div class="eq_relation_title"></div>\r\n                        <div class="eq-state-links-box">\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div class="eq-btn-close"></div>\r\n                </div>\r\n                <div style="display:none;" class="eq-state-relation">\r\n                    <div class="eq-state-share_inner">\r\n                        <div class="eq-state-share_title eq_relation_title"></div>\r\n                        <div>\r\n                            <div class="eq-btn-facebook" style="display:none;"><div >Facebook</div></div>\r\n                            <div class="eq-btn-twitter" style="display:none;"><div >Twitter</div></div>\r\n                            <div class="eq-btn-line" style="display:none;"><div >LINE</div></div>\r\n                            <div class="eq-btn-google" style="display:none;"><div >Google+</div></div>\r\n                            <div class="eq-btn-viral" style="display:none;"><div >Viral Tag</div></div>\r\n                        </div>\r\n                        <div class="eq_relation_title"></div>\r\n                        <form>\r\n                            <input type="text" value="" readonly style="user-select:text;-moz-user-select: text;">\r\n                        </form>\r\n                    </div>\r\n                    <div class="eq-btn-close"></div>\r\n                </div>\r\n                <div style="display:none;" class="eq-state-auth">\r\n                    <div class="eq-state-auth_inner">\r\n                        <div class="eq_relation_title"></div>\r\n                        <form>\r\n                            <input type="text" value=""><br>\r\n                            <input type="password" value="">\r\n                        </form>\r\n                        <div class="eq-btn-play">\r\n                            <div class="eq-btn-play_icon"></div>\r\n                            <div class="eq-btn-play_text"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style="display:none;" class="eq-state-error">\r\n                    <div class="eq-state-error_inner">\r\n                        <div class="eq_relation_title"><span>Content Not Available</span></div>\r\n                        <div class="eq-errorMessage">\r\n                            This content is not currently available.<br />This content is only available for a limited term.(P5001)\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!--  end --\x3e\r\n            \x3c!-- play start --\x3e\r\n            <div class="eq-area-center" style="display:none;">\r\n                <div>\r\n                    <div class="eq-center-icon-prev10 eq-none" ><div ><span class="eq-clearfix">10</span></div></div>\r\n                    <div class="eq-center-icon-play" ><div >play</div></div>\r\n                    <div class="eq-center-icon-next10 eq-none" ><div ><span class="eq-clearfix">10</span></div></div>\r\n                    <div class="eq-center-icon-replay" style="display:none;"><div >replay</div></div>\r\n                    <div class="eq-center-icon-loading" style="display:none;"><div >loading</div></div>\r\n                    \x3c!-- <div class="minimum-icon-play ms" style="display:none;"><div href="#">play</div></div>\r\n                    <div class="minimum-icon-sound_max ms" style="display:none;"><div href="#">mute</div></div>\r\n                    <div class="minimum-icon-fullscreen ms" style="display:none;"><div href="#">fullscreen</div></div> --\x3e\r\n                </div>\r\n            </div>\r\n            \x3c!-- play end --\x3e\r\n          \r\n\r\n            <div class="eq-chapter-box animated eq-chapter-slideInRight" style="display:none;">\r\n                <div>\r\n                    <div class="eq-btn-chapter-close"></div>\r\n                </div>\r\n            </div>\r\n            \x3c!--  start --\x3e\r\n            <div class="eq-footer" style="display:none;">\r\n                <div class="eq-box-left">\r\n                    <div>\r\n                        <div class="eq-icon-play" ><div  >play</div></div>\r\n                        <div class="eq-icon-prev10" ><div ><span class="eq-clearfix">10</span></div></div>\r\n                        <div class="eq-icon-next10" ><div ><span class="eq-clearfix">10</span></div></div>\r\n                        <div class="eq-icon-sound" ><div >sound</div></div>\r\n                    </div>\r\n                </div>\r\n                <div class="eq-box-right">\r\n                    <div>\r\n                        <div class="eq-time">\r\n                            <div>00:00 / 00:00</div>\r\n                        </div>\r\n                        <div class="eq-icon-telop" ><div ><span class="eq-clearfix">cc</span></div></div>\r\n                        <div class="eq-icon-resolution" ><div ><span class="eq-clearfix">1080p</span></div></div>\r\n                        <div class="eq-icon-speed" ><div ><span class="eq-clearfix">1.0</span></div></div>\r\n                        <div class="eq-icon-fullscreen" ><div >fullscreen</div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!--  end --\x3e\r\n\r\n            \x3c!--  start --\x3e\r\n            <div class="eq-box-seekbar" draggable="false" style="display:block;">\r\n                <div class="eq-seekbar-container">\r\n                    <div class="eq-seek_inner_bar_base"></div>\r\n                    <div class="eq-seek_inner_bar_loading" style="width:0%;"></div>\r\n                    <div class="eq-seek_inner_bar" style="width:0%;"></div>\r\n                    <div class="eq-seek_pointer" style="left:0%;"></div>\r\n                </div>\r\n                \x3c!-- seek baloon start --\x3e\r\n                <div class="eq-balloon-seek" style="display:none;">\r\n                    <div class="eq-balloon-base">\r\n                        <img style="display:none;" />\r\n                        <div class="eq-seek-time">02:14</div>\r\n                        <div class="eq-pin"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!--  end --\x3e\r\n            \x3c!-- sound baloon start --\x3e\r\n            <div class="eq-balloon-sound" draggable="false" style="display:none;" >\r\n                <div class="eq-balloon-base">\r\n                    <div class="eq-sound_inner_bar_base"></div>\r\n                    <div class="eq-sound_inner_bar"></div>\r\n                    <div class="eq-sound_pointer"></div>\r\n                    <div class="eq-pin"></div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- volume baloon end --\x3e\r\n            \x3c!-- telop baloon start --\x3e\r\n            <div class="eq-balloon-telop" style="display:none;">\r\n                <div class="eq-balloon-base">\r\n                    <div> </div>\r\n                    <div class="eq-balloon-box">\r\n                        <div class="eq-focus"><div ></div></div>\r\n                        <div><div >English</div></div>\r\n                        <div><div >Espaol</div></div>\r\n                        <div><div ></div></div>\r\n                        <div><div ><span>(1)</span></div></div>\r\n                        <div><div ><span>(2)</span></div></div>\r\n                        <div><div ></div></div>\r\n                    </div>\r\n                    <div class="eq-pin"></div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- telop baloon end --\x3e\r\n            \x3c!-- resolution baloon start --\x3e\r\n            <div class="eq-balloon-resolution" style="display:none;">\r\n                <div class="eq-balloon-base">\r\n                    <div> </div>\r\n                    <div class="eq-balloon-box">\r\n                        <div><div >1080p</div></div>\r\n                        <div class="eq-focus"><div >720p</div></div>\r\n                        <div><div >480p</div></div>\r\n                        <div><div >240p</div></div>\r\n                        <div><div >144p</div></div>\r\n                        <div><div > </div></div>\r\n                    </div>\r\n                    <div class="eq-pin"></div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- resolution baloon end --\x3e\r\n            \x3c!-- speed baloon start --\x3e\r\n            <div class="eq-balloon-speed" style="display:none;">\r\n                <div class="eq-balloon-base">\r\n                    <div> </div>\r\n                    <div class="eq-balloon-box">\r\n                        <div><div >2.0</div></div>\r\n                        <div><div >1.5</div></div>\r\n                        <div><div >1.2</div></div>\r\n                        <div class="eq-focus"><div >1.0</div></div>\r\n                        <div><div >0.7</div></div>\r\n                        <div><div >0.5</div></div>\r\n                    </div>\r\n                    <div class="eq-pin"></div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- speed baloon end --\x3e\r\n            <div class="eq-auth-cover" style="\r\n            display:none;\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n            top: 0px;\r\n            left: 0px;\r\n            z-index: 99;\r\n        "></div>\r\n        </div>',html5playerTemplate.templateForMobile='<div class="eq-h5_player">\r\n\t\t\t\x3c!-- <video id="eq-video" style="width:100%;height:100%;position:absolute;" playsinline preload="metadata"></video> --\x3e\r\n\t\t\t<div class="eq-video_cover"></div>\r\n\t\t\t<div class="eq-caption_area">\r\n\t\t\t\t<span class="eq-caption_text"></span>\r\n\t\t\t</div>\r\n<div class="eq-unmuteBtn"></div>\r\n\t\t\t\x3c!--  start --\x3e\r\n\t\t\t<div class="eq-header" style="display:none;">\r\n\t\t\t\t<div></div>\r\n\t\t\t</div>\r\n\t\t\t\x3c!--  end --\x3e\r\n\r\n\t\t\t\x3c!--   start --\x3e\r\n\t\t\t<div class="eq-sub-container" style="display:none;">\r\n\t\t\t\t<div class="eq-sub-container-box">\r\n\t\t\t\t\t<div class="eq-btn-movies">\r\n\t\t\t\t\t\t<div>movies</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-btn-links">\r\n\t\t\t\t\t\t<div>links</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-btn-share">\r\n\t\t\t\t\t\t<div>share</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-btn-chapter">\r\n\t\t\t\t\t\t<div>chapter</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\x3c!--   end --\x3e\r\n\t\t\t\x3c!--  start --\x3e\r\n\t\t\t<div class="overlay-container" style="display:none;">\r\n\t\t\t\t<div class="eq-state-relation eq-landscape" style="display:none;">\r\n\t\t\t\t\t<div class="eq-state-movies_inner">\r\n\t\t\t\t\t\t<div class="eq_relation_title"></div>\r\n\t\t\t\t\t\t<div class="eq-state-movies-box">\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t\t<div class="eq-btn-close"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="eq-state-relation eq-landscape" style="display:none;">\r\n\t\t\t\t\t<div class="eq-state-links_inner">\r\n\t\t\t\t\t\t<div class="eq_relation_title"></div>\r\n\t\t\t\t\t\t<div class="eq-state-links-box">\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-btn-close"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="eq-state-relation eq-landscape" style="display:none;">\r\n\t\t\t\t\t<div class="eq-state-share_inner">\r\n\t\t\t\t\t\t<div class="eq-state-share_title eq_relation_title"></div>\r\n\t\t\t\t\t\t<div class="eq-state-share-box">\r\n\t\t\t\t\t\t\t<div class="eq-btn-facebook" style="display:none;">\r\n\t\t\t\t\t\t\t\t<div>Facebook</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="eq-btn-twitter" style="display:none;">\r\n\t\t\t\t\t\t\t\t<div>Twitter</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="eq-btn-line" style="display:none;">\r\n\t\t\t\t\t\t\t\t<div>LINE</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="eq-btn-google" style="display:none;">\r\n\t\t\t\t\t\t\t\t<div>Google+</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-btn-close"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style="display:none;" class="eq-state-auth">\r\n\t\t\t\t\t<div class="eq-state-auth_inner">\r\n\t\t\t\t\t\t<div class="eq_relation_title"></div>\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<input type="text" value="">\r\n\t\t\t\t\t\t\t<input type="password" value="">\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<div class="eq-btn-play">\r\n\t\t\t\t\t\t\t<div class="eq-btn-play_icon"></div>\r\n\t\t\t\t\t\t\t<div class="eq-btn-play_text"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style="display:none;" class="eq-state-error">\r\n\t\t\t\t\t<div class="eq-state-error_inner">\r\n\t\t\t\t\t\t<div class="eq_relation_title">\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="eq-errorMessage">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\x3c!--  end --\x3e\r\n\t\t\t\x3c!-- play start --\x3e\r\n\t\t\t<div class="eq-area-center" style="display:none;">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class="eq-icon-prev10" style="display:none;">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span class="eq-clearfix">10</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-play eq-landscape" style="display:none;">\r\n\t\t\t\t\t\t<div>play</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-next10" style="display:none;">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span class="eq-clearfix">10</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-replay eq-landscape" style="display:none;">\r\n\t\t\t\t\t\t<div>replay</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class="eq-icon-play eq-portlate">\r\n\t\t\t\t\t\t<div>play</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-sound">\r\n\t\t\t\t\t\t<div>sound</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-telop">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span class="eq-clearfix">cc</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-resolution">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span class="eq-clearfix">1080p</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-speed">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span class="eq-clearfix">1.0</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-icon-fullscreen">\r\n\t\t\t\t\t\t<div>fullscreen_close</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class="eq-icon-loading" style="display:none;">\r\n\t\t\t\t\t\t<div>loading</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\x3c!-- play end --\x3e\r\n\r\n\r\n\t\t\t\x3c!--  end --\x3e\r\n\t\t\t<div class="eq-box-time eq-ls" style="display:none;">\r\n\t\t\t\t<div>01:23</div>\r\n\t\t\t\t<div>05:31</div>\r\n\t\t\t</div>\r\n\t\t\t\x3c!--  end --\x3e\r\n\r\n            <div class="eq-chapter-box animated eq-chapter-slideInRight" style="display:none;">\r\n                <div>\r\n                    <div class="eq-btn-chapter-close"></div>\r\n                </div>\r\n            </div>\r\n\t\t\t\x3c!--  start --\x3e\r\n\t\t\t<div class="eq-footer" style="display:none;">\r\n\t\t\t\t\x3c!--  start --\x3e\r\n\t\t\t\t<div class="eq-box-seekbar">\r\n\t\t\t\t\t<div class="eq-seekbar-container">\r\n\t\t\t\t\t\t<div class="eq-seek_inner_bar_base"></div>\r\n\t\t\t\t\t\t<div class="eq-seek_inner_bar_loading" style="width:0%;"></div>\r\n\t\t\t\t\t\t<div class="eq-seek_inner_bar" style="width:0%;"></div>\r\n\t\t\t\t\t\t<div class="eq-seek_pointer" style="left:0%;"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\x3c!-- seek baloon start --\x3e\r\n\t\t\t\t\t<div class="eq-balloon-seek" style="display:none;">\r\n\t\t\t\t\t\t<div class="eq-balloon-base">\r\n\t\t\t\t\t\t\t<img style="display:none;" />\r\n\t\t\t\t\t\t\t<div class="eq-seek-time">02:14</div>\r\n\t\t\t\t\t\t\t<div class="eq-pin"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\x3c!--  end --\x3e\r\n\t\t\t</div>\r\n\t\t\t\x3c!--  end --\x3e\r\n\t\t\t<div class="eq-select-telop" style="display:none;">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div class="eq-btn-close"></div>\r\n\t\t\t\t<div class="eq-select-box">\r\n\t\t\t\t\t<div class="eq-focus">\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>English</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>Espaol</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-long">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>(1)</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="eq-select-resolution" style="display:none;">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div class="eq-btn-close"></div>\r\n\t\t\t\t<div class="eq-select-box">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>1080p</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-focus">\r\n\t\t\t\t\t\t<div>720p</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>480p</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>240p</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>144p</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\x3c!-- speed start --\x3e\r\n\t\t\t<div class="eq-select-speed" style="display:none;">\r\n\t\t\t\t<div></div>\r\n\t\t\t\t<div class="eq-btn-close"></div>\r\n\t\t\t\t<div class="eq-select-box">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>2.0</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>1.5</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>1.2</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="eq-focus">\r\n\t\t\t\t\t\t<div>1.0</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>0.7</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>0.5</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="eq-auth-cover" style="\r\n\t\t\tdisplay:none;\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 0px;\r\n\t\t\tz-index: 99;\r\n\t\t"></div>\r\n\t\t</div>',html5playerTemplate}();view.html5playerTemplate=html5playerTemplate}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){var PlatformBuilder=function(){function PlatformBuilder(model,accessor){void 0===accessor&&(accessor=null),this.model=model,this.accessor=accessor}return PlatformBuilder.prototype.build=function(){},PlatformBuilder.prototype.createMark=function(){var mark="",style="eq-livemark_useHeader",useCTRL="useCTRL";return this.model.isLive&&"off"!=this.model.livemark_use&&this.model.getEnvironmentType()!=jstream_t3.EnviromentKind.PC_STREAMING&&("on"!=this.model.title_use&&"on"!=this.model.replay_use&&(style="eq-livemark_noHeader"),mark+='<div id="'+this.model.objectID+'live_mark" class="eq-livemark '+style+'">LIVE</div>'),"testing"==this.model.info_dir&&("on"!=this.model.controlbar_use&&(useCTRL="noCTRL"),this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive&&'style="margin-bottom:20px;"',mark+='<div class="eq-testmark '+useCTRL+'"><div class="eq-testlabel" ></div><div class="eq-testversion">'+jstream_t3.version.getAsemVersion()+"</div></div>"),mark},PlatformBuilder.prototype.createViewrs=function(){var mark="",style="eq-viewers_useHeader";return this.model.isLive&&"on"==this.model.viewers_use&&this.model.getEnvironmentType()!=jstream_t3.EnviromentKind.PC_STREAMING&&("on"!=this.model.title_use&&"on"!=this.model.replay_use&&(style="eq-viewers_noHeader"),mark+='<div id="'+this.model.objectID+'viewers" class="eq-viewers '+style+' eq-viewers-icon"><span style="margin-left:25px;"> 0</span></div>'),mark},PlatformBuilder.prototype.createFooter=function(){var footer=document.getElementById("footer-"+this.model.objectID);footer.innerHTML="<span>"+this.model.footer_text+"</span>",footer.className="jstream-eqPlayer-footer "+jstream_t3.utils.Util.getUserAgent(),footer.style.textAlign=this.model.footer_align,"android"===this.model.deviceType&&(footer.style.fontSize="10px")},PlatformBuilder}();jstream_t3.PlatformBuilder=PlatformBuilder;var SWFBuilder=function(_super){function SWFBuilder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SWFBuilder,_super),SWFBuilder.prototype.build=function(){var tag='<div id="'+this.model.objectID+'"></div>';if(document.getElementById(this.model.fieldID).innerHTML=tag,document.getElementById(this.model.fieldID).innerHTML+=this.createMark(),document.getElementById(this.model.fieldID).innerHTML+=this.createViewrs(),this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive){var footer='<div id="footer-'+this.model.objectID+'" > </div>';document.getElementById(this.model.fieldID).innerHTML+=footer,this.createFooter()}var swfHeight=this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive?this.model.height-20:this.model.height,width=String(this.model.width),height=String(swfHeight);if("on"!=this.model.responsive&&"fit"!=this.model.responsive||(width="100%",height="100%"),"off"==this.model.init_sound?this.model.inCookieVolume="mute":"mute"==this.model.inCookieVolume?this.model.inCookieVolume="mute":isNaN(parseInt(this.model.inCookieVolume))&&(this.model.inCookieVolume="100"),this.model.isLive){this.model.pd_enable="0",this.model.movie_url=this.model.movie_url_mobile,this.model.movie_list=this.model.movie_list_mobile;width=String(this.model.width),height=String(swfHeight);"on"!=this.model.responsive&&"fit"!=this.model.responsive||(width="100%",height="100%"),jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer.accessor.dispatchEvent("swfInit"),jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer.flashVarsList=this.model.getListFormat(),jstream_t3.utils.EmbedSwf.embed(this.model.objectID,this.model.playerDir+"EQLivePlayer.swf",width,height)}else{this.model.isPDPlayerEnable();var q="";this.model.stype&&(q="?stype="+this.model.stype);var width=String(this.model.width),height=String(swfHeight);"on"!=this.model.responsive&&"fit"!=this.model.responsive||(width="100%",height="100%"),jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer.flashVarsList=this.model.getListFormat(),jstream_t3.utils.EmbedSwf.embed(this.model.objectID,this.model.playerDir+"EQPlayer.swf"+q,width,height,this.model.thumbnail_url)}},SWFBuilder}(PlatformBuilder);jstream_t3.SWFBuilder=SWFBuilder;var HTML5PDBuilder=function(_super){function HTML5PDBuilder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(HTML5PDBuilder,_super),HTML5PDBuilder.prototype.build=function(){var eqPlayer=jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer;if(this.model.movie_width=this.model.width,this.model.movie_height=this.model.height,this.model.playerFromPlaylist)eqPlayer.html5Player.reconstructor();else{var device="pc";this.model.playerDir;(this.model.platform.isSP||this.model.platform.isTablet)&&(device="mobile",this.model.playerDir+"marge_mobile.html");var tag='<link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/reset.css" / ><link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/common.css" / ><link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/style.css" / >';document.getElementById(this.model.fieldID).innerHTML=tag,document.getElementById(this.model.fieldID).innerHTML+=this.createMark(),document.getElementById(this.model.fieldID).innerHTML+=this.createViewrs();var template=jstream_t3.view.html5playerTemplate.getTemplate(device);if(document.getElementById(this.model.fieldID).innerHTML+=template,eqPlayer.html5Player=new HTML5Player_t3(eqPlayer,this.model.objectID),this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive){var footer=document.createElement("div");footer.id="footer-"+this.model.objectID,document.getElementById(eqPlayer.fieldID).appendChild(footer),this.createFooter()}}eqPlayer.accessor.dispatchEvent("playerInit")},HTML5PDBuilder}(PlatformBuilder);jstream_t3.HTML5PDBuilder=HTML5PDBuilder;var HTML5HLSBuilder=function(_super){function HTML5HLSBuilder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(HTML5HLSBuilder,_super),HTML5HLSBuilder.prototype.build=function(){var eqPlayer=jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer;if(this.model.isKollectiveEnable()?(this.model.movie_url=this.model.kollective_url,this.model.movie_list=this.model.kollective_list):this.model.isLive&&(this.model.movie_url=this.model.movie_url_mobile,this.model.movie_list=this.model.movie_list_mobile),this.model.movie_width=this.model.width,this.model.movie_height=this.model.height,this.model.playerFromPlaylist)eqPlayer.html5Player.reconstructor();else{var device="pc";this.model.playerDir;(this.model.platform.isSP||this.model.platform.isTablet)&&(device="mobile",this.model.playerDir+"marge_mobile.html");var tag='<link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/reset.css" / ><link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/common.css" / ><link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/style.css" / >';document.getElementById(this.model.fieldID).innerHTML=tag,document.getElementById(this.model.fieldID).innerHTML+=this.createMark(),document.getElementById(this.model.fieldID).innerHTML+=this.createViewrs(),eqPlayer.fieldID=eqPlayer.fieldID;var template=jstream_t3.view.html5playerTemplate.getTemplate(device);if(document.getElementById(this.model.fieldID).innerHTML+=template,eqPlayer.html5Player=new HTML5Player_t3(eqPlayer,this.model.objectID),this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive){var footer=document.createElement("div");footer.id="footer-"+this.model.objectID,document.getElementById(eqPlayer.fieldID).appendChild(footer),this.model.playerFromPlaylist&&(this.model.footer_text=jstream_t3.utils.Util.decodeHTMLEncode(this.model.footer_text)),this.createFooter()}}eqPlayer.accessor.dispatchEvent("playerInit")},HTML5HLSBuilder}(PlatformBuilder);jstream_t3.HTML5HLSBuilder=HTML5HLSBuilder;var HTML5HlsJSBuilder=function(_super){function HTML5HlsJSBuilder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(HTML5HlsJSBuilder,_super),HTML5HlsJSBuilder.prototype.build=function(){var eqPlayer=jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer;if(this.model.movie_width=this.model.width,this.model.movie_height=this.model.height,this.model.isKollectiveEnable()?(this.model.movie_url=this.model.kollective_url,this.model.movie_list=this.model.kollective_list):this.model.isLive&&(this.model.movie_url=this.model.movie_url_mobile,this.model.movie_list=this.model.movie_list_mobile),this.model.movie_url&&this.model.movie_list){if(this.model.playerFromPlaylist)eqPlayer.html5Player.reconstructor();else{var device="pc";this.model.playerDir;(this.model.platform.isSP||this.model.platform.isTablet)&&(device="mobile",this.model.playerDir+"marge_mobile.html");var tag='<link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/reset.css" / ><link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/common.css" / ><link rel = "stylesheet" href = "'+this.model.cssDir+device+'/style/style.css" / >';document.getElementById(this.model.fieldID).innerHTML=tag,document.getElementById(this.model.fieldID).innerHTML+=this.createMark(),document.getElementById(this.model.fieldID).innerHTML+=this.createViewrs();var template=jstream_t3.view.html5playerTemplate.getTemplate(device);if(document.getElementById(this.model.fieldID).innerHTML+=template,eqPlayer.html5Player=new HTML5Player_t3(eqPlayer,this.model.objectID),this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive){var footer=document.createElement("div");footer.id="footer-"+this.model.objectID,document.getElementById(eqPlayer.fieldID).appendChild(footer),this.createFooter()}}eqPlayer.accessor.dispatchEvent("HlsPlayerInit")}else eqPlayer.accessor.showError(jstream_t3.events.ErrorEvent.OTHER_ERROR,eqPlayer.accessor.LanguageResource.kinds.ERROR_MOVIE_NOT_FOUND,eqPlayer.accessor.LanguageResource.kinds.ERROR_TITLE),eqPlayer.accessor.sendCrashReport("7011","HTML5HlsJSBuilder")},HTML5HlsJSBuilder}(PlatformBuilder);jstream_t3.HTML5HlsJSBuilder=HTML5HlsJSBuilder;var NativeHlsBuilder=function(_super){function NativeHlsBuilder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(NativeHlsBuilder,_super),NativeHlsBuilder.prototype.build=function(){var _this=this,tag='<div id="'+this.model.objectID+'"></div><div id="footer-'+this.model.objectID+'"></div>';document.getElementById(this.model.fieldID).innerHTML=tag,document.getElementById(this.model.fieldID).innerHTML+=this.createMark(),document.getElementById(this.model.fieldID).innerHTML+=this.createViewrs(),this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive&&this.createFooter(),this.model.isLive&&(this.model.movie_url=this.model.movie_url_mobile);var movieURL=this.model.movie_url,thumbnail=new jstream_t3.view.ThumbnailView,height=this.model.isFooder()&&"on"!=this.model.responsive&&"fit"!=this.model.responsive?this.model.height-20:this.model.height;this.model.cssDir;if(thumbnail.createElement(this.model.getThumbnailURL(),null,this.model.width,height),"on"==this.model.responsive||"fit"==this.model.responsive){if(thumbnail.setSizeResponsive(this.model.responsive),"off"!=this.model.watermark_use){var display_area=document.createElement("div");display_area.style.width="100%",display_area.style.height="100%",display_area.style.display="table",thumbnail.getElement().appendChild(display_area),(water_mark_wrapper=document.createElement("div")).setAttribute("class","water_mark_wrapper"),display_area.appendChild(water_mark_wrapper);var water_mark=document.createElement("div"),classList="";classList="water_mark_square";this.model.thumb_width;((height=this.model.thumb_height)<=180||this.model.width<=240)&&(classList+=" water_mark_small"),water_mark.setAttribute("class",classList),water_mark_wrapper.appendChild(water_mark)}}else if(thumbnail.getElement().style.display="table","off"!=this.model.watermark_use){var water_mark_wrapper;(water_mark_wrapper=document.createElement("div")).setAttribute("class","water_mark_wrapper"),thumbnail.getElement().appendChild(water_mark_wrapper);water_mark=document.createElement("div"),classList="";classList="water_mark_square",(height<=180||this.model.width<=240)&&(classList+=" water_mark_small"),water_mark.setAttribute("class",classList),water_mark_wrapper.appendChild(water_mark)}if(this.accessor.model.isAuthEnable()){var thDiv=thumbnail.getElement();thDiv.onclick=function(){_this.accessor.setAuth()},document.getElementById(this.model.fieldID).appendChild(thDiv)}else{var a=document.createElement("a");a.href=movieURL,a.target="_parent",a.appendChild(thumbnail.getElement()),document.getElementById(this.model.fieldID).appendChild(a)}var eqPlayer=jstream_t3.PlayerManger.getPlayer(this.model.objectID).eqPlayer;eqPlayer.accessor.initInIFrameAPI(),eqPlayer.accessor.dispatchEvent("playerReady"),eqPlayer.accessor.isLanding=!0,eqPlayer.accessor.setState("landing")},NativeHlsBuilder}(PlatformBuilder);jstream_t3.NativeHlsBuilder=NativeHlsBuilder;var NoFlashBuilder=function(_super){function NoFlashBuilder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(NoFlashBuilder,_super),NoFlashBuilder.prototype.build=function(){var language=null;if(null==language){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),language=new jstream_t3.resource.LanguageResource(this.model["language_resource_"+lang])}jstream_t3.utils.Util.isMobileList().Android2||jstream_t3.utils.Util.isMobileList().Android3?jstream_t3.view.AlertView.show(language.kinds.ERROR_NO_FLASH_ANDROID_MESSAGE,language.kinds.ERROR_NO_FLASH_ANDROID_TITLE,this.model.fieldID,this.model.cssDir):jstream_t3.view.AlertView.show(language.kinds.ERROR_NO_FLASH_MESSAGE,language.kinds.ERROR_NO_FLASH_TITLE,this.model.fieldID,this.model.cssDir)},NoFlashBuilder}(PlatformBuilder);jstream_t3.NoFlashBuilder=NoFlashBuilder;var PlatformBuilderFactory=function(){function PlatformBuilderFactory(){}return PlatformBuilderFactory.create=function(model,accessor){var result;switch(void 0===accessor&&(accessor=null),model.getEnvironmentType()){case jstream_t3.EnviromentKind.MOBILE_NATIVE:result=new NativeHlsBuilder(model,accessor);break;case jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE:case jstream_t3.EnviromentKind.PC_PROGRESSIVE:result=new HTML5PDBuilder(model);break;case jstream_t3.EnviromentKind.PC_HTML5HLS:case jstream_t3.EnviromentKind.MOBILE_STREAMING:result=new HTML5HLSBuilder(model);break;case jstream_t3.EnviromentKind.NO_FLASH:result=new NoFlashBuilder(model);break;case jstream_t3.EnviromentKind.PC_STREAMING:result=new SWFBuilder(model);break;case jstream_t3.EnviromentKind.HLSJS:case jstream_t3.EnviromentKind.MOBILE_HLSJS:result=new HTML5HlsJSBuilder(model)}return result},PlatformBuilderFactory}();jstream_t3.PlatformBuilderFactory=PlatformBuilderFactory}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(utils){var Logger=function(){function Logger(){}return Logger.logSetup=function(){console||(window.console={log:function(str){}})},Logger.log=function(str){Logger._log+=str+"\n"},Logger.stateLog=function(value){var date=new Date;value.date=60*date.getHours()+date.getMinutes()+"."+date.getSeconds()+"."+date.getMilliseconds(),Logger._stateLog.push(value)},Logger.publishStateLog=function(){return utils.Util.isFlash()?Logger.publishLog(["date","time","va","api","eq","strobe","strobeMethod","action"]):Logger.publishLog(["date","time","va","api","video","action"])},Logger.publishLog=function(stateList){var i,result="",lines=[];for(i=0;i<stateList.length;i++)lines[i]=[stateList[i]];for(i=0;i<Logger._stateLog.length;i++)for(var item=Logger._stateLog[i],n=0;n<stateList.length;n++){var value=item[stateList[n]];"number"==typeof value&&(value=""+value),lines[n].push(value||"")}for(i=0;i<stateList.length;i++)result+=lines[i].join(",")+"\n";return result},Logger.getLogBuf=function(){return Logger._log},Logger.getAllLog=function(){return Logger._log},Logger._log="",Logger._stateLog=[],Logger}();utils.Logger=Logger}(jstream_t3.utils||(jstream_t3.utils={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){var EQPlayerAccessAPI=function(_super){function EQPlayerAccessAPI(eqPlayer){var _this=_super.call(this)||this;_this.isProgress=!1,_this.liveServerTimeOffset=0,_this.isPlaying=!1,_this.inited=!1,_this.objectID=eqPlayer.targetElementID,_this.eqPlayer=eqPlayer,_this.progressRate=10,_this.preSeek=!0,jstream_t3.PlayerManger.addPlayerAPI(_this),_this.addEventListener("playerInit",function(){_this.playerInit()},1e3),_this.addEventListener("HlsPlayerInit",function(){_this.HlsPlayerInit()},1e3),_this.addEventListener("swfPlayerInit",function(){_this.swfPlayerInit()},1e3),_this.analytics=_this.createAnalytics(),_this.model=eqPlayer.flashVars,_this.model.eqplsid=_this.model.eqplsid||Analytics_t3.createSid(),_this.model.objectID=_this.objectID,_this.model.fieldID=eqPlayer.fieldID,_this.model.onError=function(code,title,message){_this.showError(code,message,title),_this.sendCrashReport(code,"model")},_this.liveModel=eqPlayer.flashVars,_this.liveModel.objectID=_this.objectID,_this.liveModel.fieldID=eqPlayer.fieldID,_this.liveModel.onError=function(code,title,message){_this.showError(code,message,title),_this.sendCrashReport(code,"live_model")},_this.settingService=new jstream_t3.SettingService,_this.settingService.fault=function(){_this.showError(jstream_t3.events.ErrorEvent.SETTINGS_LOAD_ERROR,JMCPlayer.kinds.ERROR_SETTING_DELETE,JMCPlayer.kinds.ERROR_SETTING_TITLE),_this.eqPlayer.errorHandler("error"),_this.sendCrashReport("0501","settingService")},_this.metaDataService=new jstream_t3.MetaService,_this.metaDataService.fault=function(){if(null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}_this.showError(jstream_t3.events.ErrorEvent.METAINFO_LOAD_ERROR,_this.LanguageResource.kinds.ERROR_META_DATA_MESSAGE,_this.LanguageResource.kinds.ERROR_META_DATA_TITLE),_this.eqPlayer.errorHandler("error"),_this.sendCrashReport("1001","metaDataService")},_this.playlistService=new jstream_t3.PlaylistService,_this.playlistService.fault=function(){if(null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}_this.showError(jstream_t3.events.ErrorEvent.METAINFO_LOAD_ERROR,_this.LanguageResource.kinds.ERROR_META_DATA_MESSAGE,_this.LanguageResource.kinds.ERROR_META_DATA_TITLE),_this.eqPlayer.errorHandler("error"),_this.sendCrashReport("1001","playlistService")},_this.deviceService=new jstream_t3.deviceService,_this.deviceService.fault=function(){if(null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}_this.showError(jstream_t3.events.ErrorEvent.METAINFO_LOAD_ERROR,_this.LanguageResource.kinds.ERROR_META_DATA_MESSAGE,_this.LanguageResource.kinds.ERROR_META_DATA_TITLE),_this.eqPlayer.errorHandler("error"),_this.sendCrashReport("1001","deviceService")},_this.liveMetaDataService=new jstream_t3.LiveMetaService,_this.liveMetaDataService.fault=function(){_this.showError(jstream_t3.events.ErrorEvent.METAINFO_LOAD_ERROR,JMCPlayer.kinds.P1201M,JMCPlayer.kinds.P1201T),_this.eqPlayer.errorHandler("error"),_this.sendCrashReport("1201","liveMetaDataService")},_this.serviceSettingService=new jstream_t3.ServiceSettingService,_this.serviceSettingService.fault=function(status){"illegal"==status?_this.showError(jstream_t3.events.ErrorEvent.SERVICE_SETTING_ERROR,JMCPlayer.kinds.ERROR_CID_ILLEGAL_MESSAGE,JMCPlayer.kinds.ERROR_CID_ILLEGAL_TITLE):_this.showError(jstream_t3.events.ErrorEvent.SERVICE_SETTING_ERROR,JMCPlayer.kinds.ERROR_SERVICE_DELETE,JMCPlayer.kinds.ERROR_SERVICE_TITLE),_this.eqPlayer.errorHandler("error"),_this.sendCrashReport("2001","serviceSettingService")},_this.hostCheckService2=new jstream_t3.HostCheckService2;var _model=_this.model;return _this.hostCheckService2.fault=function(status){if(null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}switch("string"!=typeof status&&(status=String(status)),status){case"2001":case"2002":_this.model.hostCheckResult="ng","or"==_model.auth_mode&&"1"==_model.auth||(_this.showError(jstream_t3.events.ErrorEvent.VIEWLIMIT_DISABLED,_this.LanguageResource.kinds.ERROR_ENV_MESSAGE.replace("_STATUS_",status),_this.LanguageResource.kinds.ERROR_ENV_TITLE),_this.eqPlayer.errorHandler("error"));break;case"2003":_this.model.hostCheckResult="ng",_this.showError(jstream_t3.events.ErrorEvent.VIEWLIMIT_DISABLED,_this.LanguageResource.kinds.ERROR_LIMIT_PRE_MESSAGE,_this.LanguageResource.kinds.ERROR_LIMIT_PRE_TITLE),_this.eqPlayer.errorHandler("error");break;case"2004":_this.model.hostCheckResult="ng",_this.showError(jstream_t3.events.ErrorEvent.VIEWLIMIT_DISABLED,_this.LanguageResource.kinds.ERROR_LIMIT_OVER_MESSAGE,_this.LanguageResource.kinds.ERROR_LIMIT_OVER_TITLE),_this.eqPlayer.errorHandler("error");break;default:_this.model.hostCheckResult="ng","or"==_model.auth_mode&&"1"==_model.auth||(_this.showError(jstream_t3.events.ErrorEvent.VIEWLIMIT_DISABLED,_this.LanguageResource.kinds.ERROR_ENV_MESSAGE.replace("_STATUS_",status),_this.LanguageResource.kinds.ERROR_ENV_TITLE),_this.eqPlayer.errorHandler("error"))}_this.sendCrashReport(status.toString(),"hostCheckService2")},_this.authCheckService=new jstream_t3.AuthenticationService,_this.CheckConnectionService=new jstream_t3.CheckConnectionService,_this.CheckConnectionService.fault=function(){if(null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}_this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,_this.LanguageResource.kinds.P3501M,_this.LanguageResource.kinds.P3501T),_this.sendCrashReport("3501","CheckConnectionService")},_this.CheckConnectionResultService=new jstream_t3.CheckConnectionResultService,_this.CheckConnectionResultService.fault=function(){if(null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}_this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,_this.LanguageResource.kinds.P3501M,_this.LanguageResource.kinds.P3501T),_this.sendCrashReport("3501","CheckConnectionResultService")},_this.DirInfoService=new jstream_t3.DirInfoService,_this.DirInfoService.fault=function(){_this.model.info_dir="release"},_this.getAccessControlService=new jstream_t3.getAccessControlService,_this.getAccessControlService.fault=function(){if(_this.model.isCheckConnectionPassed="NG",null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}_this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,_this.LanguageResource.kinds.P3501M,_this.LanguageResource.kinds.P3501T),_this.sendCrashReport("3501","getAccessControlService")},_this.beaconAPIService=new jstream_t3.beaconAPIService,_this}return __extends(EQPlayerAccessAPI,_super),Object.defineProperty(EQPlayerAccessAPI.prototype,"progressRate",{get:function(){return this._progressRate},set:function(val){this._progressRate=val},enumerable:!0,configurable:!0}),EQPlayerAccessAPI.prototype.loadMetaData=function(resultHandller){this.metaDataService.result=resultHandller,this.metaDataService.syndicationapi_url=this.model.syndicationapi_url,this.metaDataService.setModel(this.model.createServiceModel()),this.metaDataService.load()},EQPlayerAccessAPI.prototype.loadDeviceSetting=function(resultHandller){this.deviceService.result=resultHandller,this.deviceService.setModel(this.model.createServiceModel()),this.deviceService.load()},EQPlayerAccessAPI.prototype.loadPlaylistSetting=function(resultHandller){this.model.playlist_id&&"undefined"!=this.model.playlist_id?(this.playlistService.result=resultHandller,this.playlistService.setModel(this.model.createServiceModel()),this.playlistService.load()):resultHandller()},EQPlayerAccessAPI.prototype.loadLiveMetaData=function(resultHandller){this.liveMetaDataService.result=resultHandller,this.liveMetaDataService.setModel(this.liveModel.createLiveServiceModel()),this.liveMetaDataService.load()},EQPlayerAccessAPI.prototype.loadSettingData=function(resultHandller){this.settingService.result=resultHandller,this.settingService.ssl_url=this.model.ssl_url,this.settingService.setModel(this.model.createServiceModel()),this.settingService.load()},EQPlayerAccessAPI.prototype.loadPDSetting=function(resultHandller){this.serviceSettingService.setModel(this.model.createServiceModel()),this.serviceSettingService.result=resultHandller,this.serviceSettingService.load()},EQPlayerAccessAPI.prototype.loadHostCheck2=function(resultHandler){this.hostCheckService2.setModel(this.model.createServiceModel()),this.hostCheckService2.result=resultHandler,this.hostCheckService2.load()},EQPlayerAccessAPI.prototype.loadLiveHostCheck=function(resultHandler){this.hostCheckService2.setModel(this.liveModel.createLiveServiceModel()),this.hostCheckService2.result=resultHandler,this.hostCheckService2.load()},EQPlayerAccessAPI.prototype.loadAuthCheck=function(resultHandler){this.authCheckService.setModel(this.model.createServiceModel()),this.authCheckService.result=resultHandler,this.authCheckService.fault=resultHandler,this.authCheckService.load()},EQPlayerAccessAPI.prototype.loadCheckConnection=function(resultHandler){this.CheckConnectionService.setModel(this.model.createServiceModel()),this.CheckConnectionService.result=resultHandler,this.CheckConnectionService.fault=resultHandler,this.CheckConnectionService.load()},EQPlayerAccessAPI.prototype.loadCheckConnectionResult=function(resultHandler){this.CheckConnectionResultService.setModel(this.model.createServiceModel()),this.CheckConnectionResultService.result=resultHandler,this.CheckConnectionResultService.fault=resultHandler,this.CheckConnectionResultService.load()},EQPlayerAccessAPI.prototype.loadDirInfoService=function(resultHandler){this.DirInfoService.setModel(this.model.createServiceModel()),this.DirInfoService.result=resultHandler,this.DirInfoService.fault=resultHandler,this.DirInfoService.load()},EQPlayerAccessAPI.prototype.loadGetAccessControlService=function(resultHandler){this.getAccessControlService.setModel(this.model.createServiceModel()),this.getAccessControlService.result=resultHandler,this.getAccessControlService.fault=resultHandler,this.getAccessControlService.load()},EQPlayerAccessAPI.prototype.sendConnectionBeaconService=function(resultHandler){this.beaconAPIService.setModel(this.model.createServiceModel()),this.beaconAPIService.result=resultHandler,this.beaconAPIService.fault=resultHandler,this.beaconAPIService.load()},EQPlayerAccessAPI.prototype.showError=function(code,message,title){void 0===title&&(title=""),"on"!=this.model.responsive&&"fit"!=this.model.responsive||this.model.isLive&&document.getElementById(this.eqPlayer.fieldID).clientHeight<150&&this.liveModel.setTagSize(this.eqPlayer.fieldID),jstream_t3.view.AlertView.show(message,title,this.eqPlayer.fieldID,this.model.cssDir),this.dispatchEvent(new jstream_t3.events.ErrorEvent(code,message,title))},EQPlayerAccessAPI.prototype.createAnalytics=function(){return new Analytics_t3(!0)},EQPlayerAccessAPI.prototype.addEventListener=function(type,handler,priolity){void 0===priolity&&(priolity=0),_super.prototype.addEventListener.call(this,type,handler,priolity),"progress"!=type&&"playing"!=this.state||this.startProgress()},EQPlayerAccessAPI.prototype.startProgress=function(){var _this=this;if(null==this.progressItervalID){this.isProgress=!0;var progressRate=this.progressRate;this.progressItervalID=setInterval(function(){"playing"==_this.state||("fullscreen"==_this.state||"exitFullscreen"==_this.state)&&_this.isPlaying?_this.dispatchEvent("progress"):_this.stopProgress()},1e3/progressRate),this.sendUpdate()}},EQPlayerAccessAPI.prototype.sendUpdate=function(){var _this=this;if(this.isProgress&&("playing"==this.state||("fullscreen"==this.state||"exitFullscreen"==this.state)&&this.isPlaying)){if(this.dispatchEvent("update"),"on"==this.model.resumeEnable){var name="EQPlayer_resume_CurrentTime_"+this.model.meta_id+"_"+this.model.contract_id,value=this.getCurrentTime().toString(),overflowCookie=jstream_t3.utils.Util.CheckOverCookie("EQPlayer_resume_CurrentTime_",name,20);null!=overflowCookie&&jstream_t3.utils.Util.DeleteCookie(overflowCookie,this.model.CookieDomain),jstream_t3.utils.Util.SetCookie(name,value,"/",30,this.model.CookieDomain)}this.updateTimeoutID=setTimeout(function(){_this.sendUpdate()},5e3)}},EQPlayerAccessAPI.prototype.setEvents=function(){var _this=this;this.addEventListener("landing",function(){_this.model.platform.isIE&&_this.model.platform.browser.version<10?_this.eq_host.postMessage(jstream_t3.utils.Util.messageConvertForLegacy("setState","landing",_this.iframeID),_this.embed_origin):_this.eq_host.postMessage({msg:"setState",value:"landing",iframeID:_this.iframeID},_this.embed_origin),_this.sendPlayerValues()}),this.addEventListener("progress",function(){_this.sendPlayerValues()})},EQPlayerAccessAPI.prototype.sendPlayerValues=function(){if(this.model.isInIframe&&this.eq_host){var currentTime=this.getCurrentTime(),totalTime=this.getTotalTime(),quality=this.getQuality(),isMute=this.isMuted(),volume=this.getVolume(),playbackRate=this.getPlaybackRate(),currentAPI=this.getCurrentAPI(),meta_id=this.getMetaId(),value={currentTime:currentTime,totalTime:totalTime,quality:quality,isMute:isMute,volume:volume,playbackRate:playbackRate,currentAPI:currentAPI,subtitle:this.getSubtitles(),meta_id:meta_id,playlist:this.getPlaylist()};this.model.platform.isIE&&this.model.platform.browser.version<10?this.eq_host.postMessage(jstream_t3.utils.Util.messageConvertForLegacy("progress",value,this.iframeID),this.embed_origin):this.eq_host.postMessage({msg:"progress",value:value,iframeID:this.iframeID},this.embed_origin)}},EQPlayerAccessAPI.prototype.sendHTML5PlayerEvent=function(type){if(this.model.isInIframe&&this.eq_host){var msg=type;this.model.platform.isIE&&this.model.platform.browser.version<10?this.eq_host.postMessage(jstream_t3.utils.Util.messageConvertForLegacy("HTML5PlayerEvent",msg,this.iframeID),this.embed_origin):this.eq_host.postMessage({msg:"HTML5PlayerEvent",value:msg,iframeID:this.iframeID},this.embed_origin)}},EQPlayerAccessAPI.prototype.execIframeAPI=function(func,arg,event){if(func.match(/playlistAPI/))this.execPlaylistFunc(func,arg);else switch(func){case"play":this.play();break;case"pause":this.pause();break;case"setCurrentTime":this.setCurrentTime(Number(arg)),this.sendPlayerValues();break;case"setStartTime":this.setStartTime(Number(arg)),this.sendPlayerValues();break;case"changeQuality":this.changeQuality(Number(arg)),this.sendPlayerValues();break;case"mute":"boolean"!=typeof arg&&(arg="true"==arg),this.mute(arg),this.sendPlayerValues();break;case"setVolume":this.setVolume(Number(arg)),this.sendPlayerValues();break;case"setPlaybackRate":this.setPlaybackRate(Number(arg)),this.sendPlayerValues();break;case"changeSubtitles":this.changeSubtitles(Number(arg)),this.sendPlayerValues();break;case"displayRefresh":this.displayRefresh();break;case"apiReady":if(this.eq_host=event.source,this.embed_origin=event.origin,this.iframeID=arg,this.setEvents(),!this.eq_host)return;break;case"progressRate":this.progressRate=Number(arg);break;default:return}},EQPlayerAccessAPI.prototype.initInIFrameAPI=function(){var _this=this;this.model.isInIframe&&!this.model.playerFromPlaylist&&(this.model.platform.isIE&&this.model.platform.browser.version<9&&window.attachEvent("onmessage",function(event){try{var func,arg,p=jstream_t3.utils.Util.parse_uri(_this.model.domain),originToLower=(p.scheme+"://"+p.authority).toLowerCase();if(event.origin!==originToLower)return;if(_this.model.platform.isIE&&_this.model.platform.browser.version<10){var parseData=event.data.split(",");func=parseData[0],arg=parseData[1]}else func=event.data.func,arg=event.data.arg;_this.execIframeAPI(func,arg,event)}catch(err){}finally{return}}),window.addEventListener("message",function(event){try{var func,arg,p=jstream_t3.utils.Util.parse_uri(_this.model.domain),originToLower=(p.scheme+"://"+p.authority).toLowerCase();if(event.origin!==originToLower)return;if(_this.model.platform.isIE&&_this.model.platform.browser.version<10){var parseData=event.data.split(",");func=parseData[0],arg=parseData[1]}else func=event.data.func,arg=event.data.arg;_this.execIframeAPI(func,arg,event)}catch(err){}}))},EQPlayerAccessAPI.prototype.stopProgress=function(){clearInterval(this.progressItervalID),clearTimeout(this.updateTimeoutID),clearTimeout(this.checkconnectionTimeoutID),this.isProgress=!1,this.progressItervalID=null},EQPlayerAccessAPI.prototype.getElement=function(){return document.getElementById(this.objectID)||{}},EQPlayerAccessAPI.prototype.getCurrentTime=function(){return 0},EQPlayerAccessAPI.prototype.validateSeek=function(value){return!(isNaN(value)||value<0||value>this.getTotalTime())},EQPlayerAccessAPI.prototype.setCurrentTime=function(time){},EQPlayerAccessAPI.prototype.setStartTime=function(time){},EQPlayerAccessAPI.prototype.setState=function(state){var _this=this;if(this.state!=state&&(this.preState=this.state,this.state=state,"fullscreen"!=state&&"exitFullscreen"!=state&&"beforeplaylistitem"!=state&&"playlistitem"!=state))if("playing"==state&&(this.isPlayed=!0),"landing"==state&&this.model.isLightbox&&0==this.model.isThumbnail)this.dispatchEvent("lightboxReady");else{if(this.model.isInIframe&&!this.model.isLightbox)if("landing"==this.state)if(this.eq_host)this.sendPlayerValues(),this.model.platform.isIE&&this.model.platform.browser.version<10?this.eq_host.postMessage(jstream_t3.utils.Util.messageConvertForLegacy("setState",this.state,this.iframeID),this.embed_origin):this.eq_host.postMessage({msg:"setState",value:this.state,iframeID:this.iframeID},this.embed_origin);else var apiReadyTimer=setInterval(function(){_this.eq_host&&(clearInterval(apiReadyTimer),_this.sendPlayerValues(),_this.model.platform.isIE&&_this.model.platform.browser.version<10?_this.eq_host.postMessage(jstream_t3.utils.Util.messageConvertForLegacy("setState",_this.state,_this.iframeID),_this.embed_origin):_this.eq_host.postMessage({msg:"setState",value:_this.state,iframeID:_this.iframeID},_this.embed_origin))},100);else this.model.platform.isIE&&this.model.platform.browser.version<10?this.eq_host.postMessage(jstream_t3.utils.Util.messageConvertForLegacy("setState",this.state,this.iframeID),this.embed_origin):this.eq_host.postMessage({msg:"setState",value:this.state,iframeID:this.iframeID},this.embed_origin);if("landing"==state&&(!this.model.isIframe||this.model.isIframe&&this.model.isInIframe)&&this.sendLogReport(),this.dispatchEvent("change_state"),this.dispatchEvent(this.state),"exit"!=state&&"complete"!=state&&"landing"!=state){if("on"==this.model.resumeEnable){var name="EQPlayer_resume_CurrentTime_"+this.model.meta_id+"_"+this.model.contract_id,value=this.getCurrentTime().toString(),path="/",period=30,overflowCookie=jstream_t3.utils.Util.CheckOverCookie("EQPlayer_resume_CurrentTime_",name,20);null!=overflowCookie&&jstream_t3.utils.Util.DeleteCookie(overflowCookie,this.model.CookieDomain),jstream_t3.utils.Util.SetCookie(name,value,path,period,this.model.CookieDomain)}}else if("complete"==state&&!this.model.isLive&&"on"==this.model.resumeEnable){name="EQPlayer_resume_CurrentTime_"+this.model.meta_id+"_"+this.model.contract_id,value="0",path="/",period=30;jstream_t3.utils.Util.DeleteCookie(name,this.model.CookieDomain),setTimeout(function(){jstream_t3.utils.Util.DeleteCookie(name,_this.model.CookieDomain)},10)}"playing"==state?this.startProgress():this.stopProgress()}},EQPlayerAccessAPI.prototype.getEnvironmentType=function(){return this.model.getEnvironmentType()},EQPlayerAccessAPI.prototype.sendConnectionBeacon=function(){var date=(new Date).getTime();if("NG"!=this.model.isCheckConnectionPassed)return this.connectionBeaconSendTime?void(this.connectionBeaconSendTime+3e4<=date&&("playing"==this.state||("fullscreen"==this.state||"exitFullscreen"==this.state)&&this.isPlaying?(this.sendConnectionBeaconService(function(){console.log("")}),this.connectionBeaconSendTime=date,this.loadCheckConnection(function(result){})):this.model.isCheckConnectionPassed="NG")):(this.sendConnectionBeaconService(function(){console.log("")}),this.connectionBeaconSendTime=date,void this.loadCheckConnection(function(result){}));("playing"==this.state||("fullscreen"==this.state||"exitFullscreen"==this.state)&&this.isPlaying)&&this.getAccessControl(function(){})},EQPlayerAccessAPI.prototype.getAccessControl=function(callback){var _this=this;this.loadGetAccessControlService(function(json){if(json&&json.code){if(202==json.code)return _this.model.isCheckConnectionPassed="NG",void _this.showLimitError();200!=json.code&&201!=json.code&&_this.sendCrashReport(json.code.toString(),"LimitgetAccessControl")}_this.model.isCheckConnectionPassed="OK",callback(),_this.connectionBeaconInterval||(_this.connectionBeaconInterval=setInterval(function(){_this.sendConnectionBeacon()},1e3))})},EQPlayerAccessAPI.prototype.showLimitError=function(){if(null==this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),this.LanguageResource=new jstream_t3.resource.LanguageResource(this.model["language_resource_"+lang])}this.model.isLive?(this.liveModel.liveLid=this.liveModel.getLiveLidURL(),this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,this.LanguageResource.kinds.P3502M,this.LanguageResource.kinds.P3502T),this.sendCrashReport("3502","showLimitError"),this.setState("complete")):(this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,this.LanguageResource.kinds.P3502M,this.LanguageResource.kinds.P3502T),this.sendCrashReport("3502","showLimitError")),this.hls&&this.hls.destroy()},EQPlayerAccessAPI.prototype.playCall=function(stat){void 0===stat&&(stat="")},EQPlayerAccessAPI.prototype.play=function(){},EQPlayerAccessAPI.prototype.pause=function(){},EQPlayerAccessAPI.prototype.getTotalTime=function(){},EQPlayerAccessAPI.prototype.playerInit=function(instance){void 0===instance&&(instance=null),this.setAnalyticsConfig(),this.initInIFrameAPI()},EQPlayerAccessAPI.prototype.HlsPlayerInit=function(instance){void 0===instance&&(instance=null),this.setAnalyticsConfig(),this.initInIFrameAPI()},EQPlayerAccessAPI.prototype.swfPlayerInit=function(instance){void 0===instance&&(instance=null)},EQPlayerAccessAPI.prototype.setAnalyticsConfig=function(){var vars=this.eqPlayer.flashVars;this.analyticsEnabled=vars.isVa();if(this.analyticsEnabled){var deviceType="other";"iOS"==this.model.platform.os.name&&this.model.platform.os.version.split(".")[0]<8?deviceType="old_ios":this.model.getEnvironmentType()!=jstream_t3.EnviromentKind.PC_PROGRESSIVE&&this.model.getEnvironmentType()!=jstream_t3.EnviromentKind.HLSJS||(deviceType="HTML5"),this.analytics.setDeviceType(deviceType),this.analytics.setSelf(vars.parent_url),this.analytics.setRef(vars.ref);var svcid=vars.contract_id||vars.maker_id,vid=svcid+"-"+(vars.meta_id||vars.lpid)+"-"+vars.file_id;this.model.isLive&&(this.analytics.setLive(!0),vid=svcid+"-"+vars.lpid+"-"+vars.leid);vars.partner_id;var o="",i=1;for(var key in this.model.eqplcid=this.model.eqplcid||Analytics_t3.createCid(),this.model.eqplsid=this.model.eqplsid||Analytics_t3.createSid(),vars.o){if(i>5)break;o+=key+"="+vars.o[key]+"&",i++}o.length>1&&(o=o.slice(0,-1)),this.analytics.setCid(this.model.eqplcid),this.analytics.setSid(this.model.eqplsid),this.analytics.setSvcid(svcid),this.analytics.setVid(vid),this.analytics.setUid(""),this.analytics.setTotal(vars.duration),this.analytics.setTagType(vars.tagType),this.analytics.setPid(vars.partner_id),this.analytics.setObject(o),this.model.playerFromPlaylist?this.analytics.setPlid(vars.playlist_id):this.analytics.setPlid(""),this.model.va_url&&this.analytics.setBaseURL(this.model.va_url),this.model.vc&&this.analytics.setVc(this.model.vc),this.model.playerFromPlaylist||this.analytics.setEvents(this)}},EQPlayerAccessAPI.prototype.sendClickBeacon=function(type){this.analyticsEnabled&&(this.model.isLive?this.analytics.sendClickBeacon(type,this.getCurrentTime(),this.getTotalTime()):this.analytics.sendClickBeacon(type,this.getCurrentTime()))},EQPlayerAccessAPI.prototype.createPlayer=function(){},EQPlayerAccessAPI.prototype.changeMedia=function(meta_id,autoPlay){void 0===autoPlay&&(autoPlay=!0)},EQPlayerAccessAPI.prototype.changeQuality=function(quality){},EQPlayerAccessAPI.prototype.getQuality=function(){return 0},EQPlayerAccessAPI.prototype.mute=function(value){return!1},EQPlayerAccessAPI.prototype.isMuted=function(){return!1},EQPlayerAccessAPI.prototype.setVolume=function(volume){},EQPlayerAccessAPI.prototype.getVolume=function(){return 0},EQPlayerAccessAPI.prototype.getCurrentAPI=function(){},EQPlayerAccessAPI.prototype.getPlaybackRate=function(){},EQPlayerAccessAPI.prototype.getMetaId=function(){},EQPlayerAccessAPI.prototype.getSubtitles=function(){},EQPlayerAccessAPI.prototype.getPlaylist=function(){},EQPlayerAccessAPI.prototype.changeSubtitles=function(index){},EQPlayerAccessAPI.prototype.setPlaybackRate=function(pr){},EQPlayerAccessAPI.prototype.playerSkinConfig=function(config){},EQPlayerAccessAPI.prototype.displayRefresh=function(){},EQPlayerAccessAPI.prototype.execPlaylistFunc=function(func,arg){},EQPlayerAccessAPI.prototype.destroy=function(){this.removeEventListener,this.startProgress(),this.metaDataService=null,this.settingService=null,this.serviceSettingService=null,this.objectID=null,this.inited=null,this.eqPlayer.flashVars=null,this.eqPlayer.flashVarsList=null,this.progressRate=null,this.state=null,this.analytics=null,this.analyticsEnabled=null,this.isPlayed=null,this.hashChecker=null,jstream_t3.PlayerManger.getPlayer,this.model.destroy(),this.model=null,this.clearEventListener()},EQPlayerAccessAPI.prototype.sendCrashReport=function(errorCode,crashPoint){try{var referer=this.model.domain?this.model.domain:document.location.href,query=jstream_t3.utils.Util.createCrashReportQuery(errorCode,crashPoint,this.model.contract_id,this.model.meta_id,this.model.getTagType(),this.model.s,referer);jstream_t3.utils.Util.appendScript(this.model.crashReportEndPoint,query)}catch(e){}},EQPlayerAccessAPI.prototype.sendLogReport=function(){try{var referer=this.model.domain?this.model.domain:document.location.href,query=jstream_t3.utils.Util.createLogReportQuery(this.model.contract_id,this.model.meta_id,this.model.getTagType(),this.model.s,referer);jstream_t3.utils.Util.appendScript(this.model.crashReportEndPoint,query)}catch(e){}},EQPlayerAccessAPI}(jstream_t3.events.EventDispatcher);jstream_t3.EQPlayerAccessAPI=EQPlayerAccessAPI}(jstream_t3||(jstream_t3={})),function(jstream_t3){var SWFAccessAPI=function(_super){function SWFAccessAPI(eqPlayer){var _this=_super.call(this,eqPlayer)||this;_this.playCallTimeout=null,_this.isPlaying=!1,_this.liveCurrentTime=0,_this.liveBaseTime=0,_this.addEventListener("mediaError",function(e){_this.liveModel.isLive?_this.setState("interrupted"):_this.dispatchEvent(new jstream_t3.events.ErrorEvent(jstream_t3.events.ErrorEvent.SERVER_MEDIA_ERROR))});return _this}return __extends(SWFAccessAPI,_super),SWFAccessAPI.prototype.swfPlayerInit=function(){var _this=this;this.addEventListener("playing",function(){_this.liveBaseTime=Date.now(),_this.currentTimeCheck(),_this.isPlaying=!0}),this.addEventListener("paused",function(){_this.isPlaying=!1})},SWFAccessAPI.prototype.currentTimeCheck=function(){var _this=this;if(this.isPlaying){var now=Date.now()/1e3;this.liveCurrentTime+=now-this.liveBaseTime,this.liveBaseTime=now,setTimeout(function(){_this.currentTimeCheck()},500)}},SWFAccessAPI.prototype.StandByLoop=function(){var _this=this;this.setCurrentTime(0),setTimeout(function(){_this.play()},10)},SWFAccessAPI.prototype.setState=function(state){if("landing"==state&&(this.inited=!0),"playing"==state&&this.model.isLive&&(this.isPlaying=!0,this.liveBaseTime=Date.now()/1e3,this.currentTimeCheck()),"paused"==state&&this.model.isLive&&(this.isPlaying=!1),"exit"!=state&&"landing"!=state){if("on"==this.model.resumeVolumeEnable&&this.model.CookieDomain){var value;value=this.isMuted&&this.isMuted()?"mute":this.getVolume().toString(),jstream_t3.utils.Util.SetCookie("EQPlayer_resume_Volume",value,"/",void 0,this.model.CookieDomain)}}"complete"==state&&"on"==this.model.loop_use&&this.StandByLoop(),this.sendPlayerValues(),_super.prototype.setState.call(this,state)},SWFAccessAPI.prototype.getCurrentTime=function(){return this.inited?this.model.isThumbnail?0:this.liveModel.isLive?this.liveCurrentTime:this.getElement().getCurrentTime():0},SWFAccessAPI.prototype.getTotalTime=function(){return this.inited?this.liveModel.isLive?(new Date).getTime()/1e3+this.liveServerTimeOffset:Math.floor(1e3*this.getElement().getTotalTime())/1e3:0},SWFAccessAPI.prototype.setStartTime=function(time){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.setStartTime"}),this.validateSeek(time)&&(this.liveModel.isLive||this.getElement().setStartTime(time))},SWFAccessAPI.prototype.setCurrentTime=function(time){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.setCurrentTime"}),this.validateSeek(time)&&(this.liveModel.isLive||this.getElement().seek(time))},SWFAccessAPI.prototype.playCall=function(stat){var _this=this;void 0===stat&&(stat=""),this.model.isConnectionEneble()?this.getAccessControl(function(){_this.getElement().setConnectionStat(_this.model.isCheckConnectionPassed),_this.play()}):(this.getElement().setConnectionStat("OK"),this.play())},SWFAccessAPI.prototype.play=function(){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.play"}),this.getElement().play2(),_super.prototype.play.call(this)},SWFAccessAPI.prototype.pause=function(){this.isPlayed&&"complete"!=this.state&&"paused"!=this.state&&(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.pause"}),this.getElement().pause(),_super.prototype.pause.call(this))},SWFAccessAPI.prototype.createPlayer=function(){(this.liveModel.isLive?this.liveModel.parseLive():this.model.parce())&&(this.eqPlayer.flashVarsList=this.model.getListFormat(),jstream_t3.PlatformBuilderFactory.create(this.model).build(),jstream_t3.utils.Util.isFlash()||this.dispatchEvent(new jstream_t3.events.ErrorEvent(jstream_t3.events.ErrorEvent.FLASHPLAYER_VERSION_ERROR)))},SWFAccessAPI.prototype.changeQuality=function(value){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.changeQuality"}),this.getElement().changeQuality(value)},SWFAccessAPI.prototype.getQuality=function(){return this.getElement().getQuality()},SWFAccessAPI.prototype.mute=function(value){return"boolean"==typeof value?(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.mute"}),this.getElement().mute(value)):this.isMuted()},SWFAccessAPI.prototype.isMuted=function(){return!!this.getElement().isMute&&this.getElement().isMute()},SWFAccessAPI.prototype.setVolume=function(volume){"number"==typeof volume&&volume>=0&&volume<=100&&volume%1==0&&(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.setVolume"}),this.getElement().setVolume&&this.getElement().setVolume(volume/100))},SWFAccessAPI.prototype.getVolume=function(){return this.getElement().getVolume?Math.floor(100*this.getElement().getVolume()):100},SWFAccessAPI.prototype.getCurrentAPI=function(){return"SWFAPI"},SWFAccessAPI}(jstream_t3.EQPlayerAccessAPI);jstream_t3.SWFAccessAPI=SWFAccessAPI}(jstream_t3||(jstream_t3={})),function(jstream_t3){var PlaylistAccsessIframeAPI=function(){function PlaylistAccsessIframeAPI(iframeAPI){this.iframeAPI=iframeAPI}return PlaylistAccsessIframeAPI.prototype.setPlaylist=function(playlist){this.playlist=playlist},PlaylistAccsessIframeAPI.prototype.autoadvance=function(enable){var msg=this.iframeAPI.generateMessage("playlistAPIautoadvance",enable);this.iframeAPI.sendMessage(msg)},PlaylistAccsessIframeAPI.prototype.currentIndex=function(){for(var meta_id=this.iframeAPI.getMetaId(),i=0;i<this.playlist.length;i++)if(this.playlist[i].meta_id==meta_id){i;break}return i},PlaylistAccsessIframeAPI.prototype.currentItem=function(index){if(!isNaN(index)&&index>=0&&index<this.playlist.length){var msg=this.iframeAPI.generateMessage("playlistAPIcurrentItem",index);return this.iframeAPI.sendMessage(msg),this.iframeAPI.meta_id=this.playlist[index].meta_id,this.playlist[index]}return-1!=this.currentIndex()?this.playlist[this.currentIndex()]:{}},PlaylistAccsessIframeAPI.prototype.first=function(){var msg=this.iframeAPI.generateMessage("playlistAPIfirst");this.iframeAPI.sendMessage(msg)},PlaylistAccsessIframeAPI.prototype.indexOf=function(mid){var argType=typeof mid;if("number"==argType||"string"==argType){"string"==argType&&(mid=jstream_t3.utils.Util.unObfuscate(mid));for(var i=0;i<this.playlist.length;i++)if(this.playlist[i].meta_id==mid)return i}return-1},PlaylistAccsessIframeAPI.prototype.last=function(){var lastIndex=this.lastIndex();this.currentItem(lastIndex)},PlaylistAccsessIframeAPI.prototype.lastIndex=function(){return this.playlist.length-1},PlaylistAccsessIframeAPI.prototype.next=function(){var index=this.nextIndex();this.currentItem(index)},PlaylistAccsessIframeAPI.prototype.nextIndex=function(){var nextIndex=this.currentIndex()+1;return this.playlist.length==nextIndex&&(nextIndex=0),nextIndex},PlaylistAccsessIframeAPI.prototype.previous=function(){this.currentItem(this.previousIndex())},PlaylistAccsessIframeAPI.prototype.previousIndex=function(){var previousIndex=this.currentIndex()-1;return previousIndex<0&&(previousIndex=this.lastIndex()),previousIndex},PlaylistAccsessIframeAPI.prototype.repeat=function(enable){var msg=this.iframeAPI.generateMessage("playlistAPIrepeat",enable);this.iframeAPI.sendMessage(msg)},PlaylistAccsessIframeAPI.prototype.playOnSelect=function(enable){var msg=this.iframeAPI.generateMessage("playlistAPIplayOnSelect",enable);this.iframeAPI.sendMessage(msg)},PlaylistAccsessIframeAPI}();jstream_t3.PlaylistAccsessIframeAPI=PlaylistAccsessIframeAPI;var PlaylistAccessAPI=function(){function PlaylistAccessAPI(accessor){this.api=accessor,this.setPlayerObject(accessor.eqPlayer.html5Player),this.setPlaylist(accessor.getPlaylist())}return PlaylistAccessAPI.prototype.setPlaylist=function(playlist){this.playlist=playlist},PlaylistAccessAPI.prototype.setPlayerObject=function(object){this.html5player=object},PlaylistAccessAPI.prototype.autoadvance=function(enable){this.api.model.autoadvance=enable,this.html5player.autoadvance(enable)},PlaylistAccessAPI.prototype.currentIndex=function(){for(var meta_id=this.api.getMetaId(),i=0;i<this.playlist.length;i++)if(this.playlist[i].meta_id==meta_id){i;break}return i},PlaylistAccessAPI.prototype.currentItem=function(index){return!isNaN(index)&&index>=0&&index<this.playlist.length?(this.html5player.currentItem(index),this.playlist[index]):-1!=this.currentIndex()?this.playlist[this.currentIndex()]:{}},PlaylistAccessAPI.prototype.first=function(){this.html5player.first()},PlaylistAccessAPI.prototype.indexOf=function(mid){isNaN(mid)||(mid=Number(mid));var argType=typeof mid;if("number"==argType||"string"==argType){"string"==argType&&(mid=jstream_t3.utils.Util.unObfuscate(mid));for(var i=0;i<this.playlist.length;i++)if(this.playlist[i].meta_id==mid)return i}return-1},PlaylistAccessAPI.prototype.last=function(){var lastIndex=this.lastIndex();this.currentItem(lastIndex)},PlaylistAccessAPI.prototype.lastIndex=function(){return this.playlist.length-1},PlaylistAccessAPI.prototype.next=function(){var index=this.nextIndex();this.currentItem(index)},PlaylistAccessAPI.prototype.nextIndex=function(){var nextIndex=this.currentIndex()+1;return this.playlist.length==nextIndex&&(nextIndex=0),nextIndex},PlaylistAccessAPI.prototype.previous=function(){this.currentItem(this.previousIndex())},PlaylistAccessAPI.prototype.previousIndex=function(){var previousIndex=this.currentIndex()-1;return previousIndex<0&&(previousIndex=this.lastIndex()),previousIndex},PlaylistAccessAPI.prototype.repeat=function(enable){this.api.model.repeat=enable,this.html5player.repeat(enable)},PlaylistAccessAPI.prototype.playOnSelect=function(enable){this.api.model.playOnSelect=enable,this.html5player.playOnSelect(enable)},PlaylistAccessAPI.prototype.execFunc=function(func,arg){switch(func.substring(11)){case"autoadvance":this.autoadvance(Boolean(arg));break;case"currentIndex":this.currentIndex();break;case"currentItem":this.currentItem(Number(arg));break;case"first":this.first();break;case"indexOf":this.indexOf(arg);break;case"last":this.last();break;case"lastIndex":this.lastIndex();break;case"next":this.next();case"nextIndex":this.nextIndex();case"previous":this.next();case"previousIndex":this.previousIndex();case"repeat":this.repeat(Boolean(arg));case"playOnSelect":this.playOnSelect(Boolean(arg))}},PlaylistAccessAPI}();jstream_t3.PlaylistAccessAPI=PlaylistAccessAPI}(jstream_t3||(jstream_t3={})),function(jstream_t3){!function(view){var LiveLidView=function(){function LiveLidView(){this.thumbnail=new view.ImageView,this.base=new view.ViewElement(null,{position:"relative"})}return LiveLidView.prototype.createElement=function(thumbnailURL,width,height){return void 0===width&&(width=100),void 0===height&&(height=100),this.base.width(width),this.base.height(height),this.base.addChild(this.thumbnail),this.thumbnail.load(thumbnailURL),this.thumbnailImage=new Image,this.thumbnailImage.src=thumbnailURL,this.base},LiveLidView.prototype.setSize=function(width,height){this.base.width(width),this.base.height(height)},LiveLidView.prototype.setSizeResponsive=function(responsive){"on"==responsive&&this.base.setStringStyle("position","absolute");window.navigator.userAgent.toLowerCase();var appVersion=window.navigator.appVersion.toLowerCase();if(-1!=appVersion.indexOf("msie 6.")||-1!=appVersion.indexOf("msie 7.")||-1!=appVersion.indexOf("msie 8.")){"BackCompat"==document.compatMode?(document.body.clientWidth,document.body.clientHeight):(document.documentElement.clientWidth,document.documentElement.clientHeight);var thumbOriginWidth=this.thumbnailImage.width;this.thumbnailImage.height;this.base.setStringStyle("width","100%"),this.base.setStringStyle("height","100%"),this.base.setStringStyle("cursor","pointer"),this.thumbnail.setStringStyle("max-width","100%")}else this.base.setStringStyle("width","100%"),this.base.setStringStyle("height","100%"),this.base.setStringStyle("background-image","url("+this.thumbnailImage.src+")"),this.base.setStringStyle("background-size","contain"),this.base.setStringStyle("background-repeat","no-repeat"),this.base.setStringStyle("background-position","center"),this.base.setStringStyle("cursor","pointer"),this.thumbnail.getElement().onload=null,this.thumbnail.visible(!1),this.thumbnail.setStringStyle("display","none")},LiveLidView.prototype.getElement=function(){return this.base.getElement()},LiveLidView}();view.LiveLidView=LiveLidView}(jstream_t3.view||(jstream_t3.view={}))}(jstream_t3||(jstream_t3={})),function(jstream_t3){var HTML5AccessAPI=function(_super){function HTML5AccessAPI(player){var _this=_super.call(this,player)||this;if(_this.UseHlsJs=!1,_this.isSeeking=!1,_this.isQuealitySelecting=!1,_this.QuealitySelect_startTime=0,_this.isFirstPlay=!1,_this.video_event="",_this.playCallTimeout=null,_this.LiveErrorCount=0,_this.maxErrorCount=3,_this.retryCount=0,_this.retryDelay=1e3,_this.isTouching=!1,_this.MOVIE_QUALITY_LIST_JA=["Auto","270p","360p","480p","720p","1080p","2160p"],_this.MOVIE_QUALITY_LIST_EN=["Auto","Low","Standard","High","HD","FullHD","4K"],_this.isLanding=!1,_this.canPlayHls=!1,_this.canLoad=!1,_this.edgeSwitchMovieSourceFlg=!1,_this.waitChangeDurationTimeout=8e3,_this.limit_error=!1,_this.isPaused=!0,_this.isWait=!0,_this.isStoped=!1,_this.cntTryAttach=0,_this.lastTime=0,_this.last2Time=0,_this.jmcPlayer=player,null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}return _this}return __extends(HTML5AccessAPI,_super),HTML5AccessAPI.prototype.setAuth=function(){this.model.isAuthPassed?parent.location.href=this.model.movie_url:-1==this.model.a.indexOf(":")||this.model.a.split(":")[1].length<1?this.showLoginForm():this.login(null,null)},HTML5AccessAPI.prototype.showLoginForm=function(errorMessage){void 0===errorMessage&&(errorMessage=!1),"on"==this.model.responsive||this.model.responsive;var cssDir=this.model.playerDir+"resource/style/";jstream_t3.view.LoginFormView.show(this,this.model.fieldID,cssDir,errorMessage)},HTML5AccessAPI.prototype.login=function(id,pass){var _this=this,isPreSetAuthParam=!1,hashedPass="",orignePass=pass||"";if(null!=id&&null!=pass){var md5_hexstr=MD5_hexhash(pass);id=jstream_t3.utils.Util.base64encode(id),hashedPass=md5_hexstr}else if(null==id&&null==pass){isPreSetAuthParam=!0;var splitAuthParam=this.model.a.split(":");id=jstream_t3.utils.Util.base64encode(splitAuthParam[0]),hashedPass=splitAuthParam[1]}this.model.a=encodeURIComponent(id+":"+hashedPass),_super.prototype.loadAuthCheck.call(this,function(result){if(isPreSetAuthParam)_this.model.a="";else{_this.model.a=decodeURIComponent(_this.model.a);var splitAuthParam=_this.model.a.split(":"),id=jstream_t3.utils.Util.base64decode(splitAuthParam[0]),pass=orignePass;_this.model.a=id+":"+pass}_this.authResult(result)})},HTML5AccessAPI.prototype.authResult=function(result){this.model.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_NATIVE?result?(this.model.isAuthPassed=!0,this.model.isLive||this.model.setMovieMobileURL_AfterAuth(),parent.location.href=this.model.movie_url):this.showLoginForm(!0):this.model.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_STREAMING?(this.model.a=null,result?(this.model.isAuthPassed=!0,this.model.isLive||this.model.setMovieMobileURL_AfterAuth(),this.eqPlayer.html5Player.updateVideoURL(this.model.movie_url,!0)):this.eqPlayer.html5Player.updateVideoURL(null,!1),this.eqPlayer.html5Player.authResult(result)):(result&&(this.model.isAuthPassed=!0,this.UseHlsJs?(this.model.isLive||this.model.setMovieMobileURL_AfterAuth(),this.model.movie_url=this.model.movie_url,this.eqPlayer.html5Player.setCurrentMovieURL(this.model.movie_url),this.tryHlsLoad()):this.model.isLive||this.model.setMovieMobileURL_AfterAuth()),this.model.a=null,this.eqPlayer.html5Player.authResult(result))},HTML5AccessAPI.prototype.playerEnd=function(e){this.videoLog(e),this.video_event=e.type,this.isPaused=!0,this.chengeState(e),this.preSeekState="complete","on"==this.model.loop_use&&this.StandByLoop()},HTML5AccessAPI.prototype.playerInit=function(){var _this=this;_super.prototype.playerInit.call(this),"on"==this.model.resumeEnable&&(!this.model.start_time||this.model.start_time<0)&&(this.model.start_time=Number(jstream_t3.utils.Util.GetCookie("EQPlayer_resume_CurrentTime_"+this.model.meta_id+"_"+this.model.contract_id))),(this.model.platform.isSP||this.model.platform.isTablet)&&(this.isFirstPlay=!0);var video=this.getElement();video.addEventListener("playing",function(e){_this.videoLog(e),_this.chengeState(e),_this.isPaused=!1,_this.video_event=e.type,_this.preSeekState="playing"}),video.addEventListener("pause",function(e){_this.videoLog(e),_this.video_event=e.type,!_this.liveModel.isLive&&_this.getTotalTime()-_this.getCurrentTime()<=.05||(_this.isPaused=!0,_this.chengeState(e),_this.preSeekState="paused")}),video.addEventListener("seeking",function(e){_this.videoLog(e),"landing"!=_this.preSeekState&&"complete"!=_this.preSeekState&&(_this.video_event=e.type,_this.isSeeking||_this.isTouching||jstream_t3.utils.Util.isMobileList().Android4||jstream_t3.utils.Util.isMobileList().Firefox||_this.startSeek())}),video.addEventListener("seeked",function(e){_this.videoLog(e),_this.video_event=e.type,_this.isQuealitySelecting&&(_this.isQuealitySelecting=!1),!_this.isTouching&&_this.isSeeking&&_this.completeSeek()}),video.addEventListener("ended",function(e){_this.videoLog(e),_this.video_event=e.type,_this.isPaused=!0,_this.chengeState(e),_this.preSeekState="complete","on"==_this.model.loop_use&&_this.StandByLoop()}),video.addEventListener("timeupdate",function(e){_this.video_event=e.type;var delay=500;_this.model.platform.isSafari&&(delay=1e3),setTimeout(function(){_this.last2Time=_this.lastTime,_this.lastTime=_this.eqPlayer.html5Player.getCurrentTime()},delay),_this.videoLog(e),_this.isQuealitySelecting&&_this.chengeState(e)}),video.addEventListener("loadeddata",function(e){_this.videoLog(e)}),video.addEventListener("loadedmetadata",function(e){_this.videoLog(e)}),video.addEventListener("error",function(e){_this.videoLog(e),_this.video_event=e.type,_this.liveModel.isLive?_this.setState("interrupted"):_this.dispatchEvent(new jstream_t3.events.ErrorEvent(jstream_t3.events.ErrorEvent.SERVER_MEDIA_ERROR))});var html5Player=this.eqPlayer.html5Player,initSeek=(html5Player.setCurrentTime,html5Player._init_video_seek);html5Player._init_video_seek=function(){if(initSeek(),html5Player._values.seek_use){var rail=html5Player._values.movie_slider_obj.node_slider_rail;rail.addEventListener("touchstart",function(e){_this.seekStart()},!0),rail.addEventListener("touchend",function(e){_this.seekEnd()})}};var selectQuality=html5Player._click_movie_select;html5Player._click_movie_select=function(index){_this.QuealitySelect_startTime=video.currentTime,_this.isQuealitySelecting=!0,_this.stopProgress(),selectQuality(index)};setTimeout(function(){if("on"!=_this.model.init_play||!_this.model.platform.isSP&&!_this.model.platform.isTablet)if(_this.model.playerFromPlaylist)if("mute"==_this.model.inCookieVolume)_this.mute(!0);else{volume=parseInt(_this.model.inCookieVolume);isNaN(volume)&&(volume=100),_this.setVolume(volume)}else if("off"==_this.model.init_sound||"mute"==_this.model.inCookieVolume)_this.mute(!0);else{var volume=parseInt(_this.model.inCookieVolume);isNaN(volume)&&(volume=100),_this.setVolume(volume)}var slider=document.getElementById(_this.model.objectID+"ctrl_volume_slider");slider&&(slider.style.display="block"),_this.isLanding=!0,_this.setState("landing"),_this.playlist=new jstream_t3.PlaylistAccessAPI(_this),_this.model.playerFromPlaylist||"on"!=_this.model.playlist_autoChange||(_this.playlist.autoadvance(!0),_this.playlist.playOnSelect(!0)),_this.model.playerFromPlaylist?_this.model.playOnSelect&&!_this.model.isFirsttimePlay&&_this.play():"on"==_this.model.init_play&&_this.play()},1e3)},HTML5AccessAPI.prototype.HlsPlayerInit=function(instance){var _this=this;void 0===instance&&(instance=null),_super.prototype.playerInit.call(this),"on"==this.model.resumeEnable&&(!this.model.start_time||this.model.start_time<0)&&(this.model.start_time=Number(jstream_t3.utils.Util.GetCookie("EQPlayer_resume_CurrentTime_"+this.model.meta_id+"_"+this.model.contract_id))),this.UseHlsJs=!0;var video=this.getElement();video.addEventListener("playing",function(e){_this.edgeSwitchMovieSourceFlg||(_this.videoLog(e),_this.chengeState(e),_this.isPaused=!1,_this.video_event=e.type,_this.preSeekState="playing")}),video.addEventListener("play",function(e){_this.model.isLive&&(_this.LiveErrorCount=0)}),video.addEventListener("pause",function(e){if(!_this.edgeSwitchMovieSourceFlg){if(_this.videoLog(e),_this.video_event=e.type,_this.isPaused=!0,!_this.liveModel.isLive&&_this.getTotalTime()-_this.getCurrentTime()<=.05)return;_this.chengeState(e),_this.preSeekState="pause"}}),video.addEventListener("seeking",function(e){"landing"!=_this.preSeekState&&"complete"!=_this.preSeekState&&(_this.videoLog(e),_this.video_event=e.type,_this.isSeeking||_this.isTouching||jstream_t3.utils.Util.isMobileList().Android4||jstream_t3.utils.Util.isMobileList().Firefox||_this.startSeek())}),video.addEventListener("seeked",function(e){_this.videoLog(e),_this.video_event=e.type,_this.isQuealitySelecting&&(_this.isQuealitySelecting=!1),!_this.isTouching&&_this.isSeeking&&_this.completeSeek()}),video.addEventListener("ended",function(e){_this.videoLog(e),_this.video_event=e.type,_this.isPaused=!0,_this.chengeState(e),_this.preSeekState="complete","on"==_this.model.loop_use&&_this.StandByLoop()}),video.addEventListener("timeupdate",function(e){_this.video_event=e.type,setTimeout(function(){_this.last2Time=_this.lastTime,_this.lastTime=video.currentTime},500),_this.videoLog(e),_this.isQuealitySelecting&&_this.chengeState(e)}),video.addEventListener("loadeddata",function(e){_this.videoLog(e)}),video.addEventListener("loadedmetadata",function(e){_this.videoLog(e)}),video.addEventListener("error",function(e){_this.videoLog(e),_this.video_event=e.type,_this.liveModel.isLive?_this.setState("interrupted"):_this.dispatchEvent(new jstream_t3.events.ErrorEvent(jstream_t3.events.ErrorEvent.SERVER_MEDIA_ERROR))});var html5Player=this.eqPlayer.html5Player,initSeek=(html5Player.setCurrentTime,html5Player._init_video_seek);html5Player._init_video_seek=function(){if(initSeek(),html5Player._values.seek_use){var rail=html5Player._values.movie_slider_obj.node_slider_rail;rail.addEventListener("touchstart",function(e){_this.seekStart()},!0),rail.addEventListener("touchend",function(e){_this.seekEnd()})}};var selectQuality=html5Player._click_movie_select;html5Player._click_movie_select=function(index){_this.QuealitySelect_startTime=video.currentTime,_this.isQuealitySelecting=!0,_this.stopProgress(),selectQuality(index)},this.model.isAuthEnable()?(this.setVolumeResume(),this.landing()):this.loadingTimer=setInterval(function(){_this.tryHlsLoad()},300)},HTML5AccessAPI.prototype.tryHlsLoad=function(){var _this=this;try{var config;config={debug:this.model.isDebug,startLevel:-1,highBufferWatchdogPeriod:30,liveSyncDurationCount:1},0==this.model.low_latency&&(config.liveSyncDurationCount=3),this.hls=new Hls(config),this.setErrorHandler(),this.hls.on("hlsMediaAttached",function(){_this.setVolumeResume(),_this.tryLoadMedia(_this.model.movie_url)}),this.cntTryAttach++,this.hls.attachMedia(document.getElementById(this.model.objectID)),clearInterval(this.loadingTimer)}catch(e){this.cntTryAttach>10&&clearInterval(this.loadingTimer)}},HTML5AccessAPI.prototype.tryLoadMedia=function(movie_url){var _this=this;this.hls.on("hlsManifestParsed",function(){if(_this.model.isLive)_this.canPlayHls=!0,_this.canLoad=!0,_this.dispatchEvent("canPlayHls");else{var firstFragSeeked=function(){_this.getElement().removeEventListener("seeked",firstFragSeeked),_this.canPlayHls=!0,_this.model.isDebug&&(console.log("[debug] > video seeked"),console.log("[debug] > can play hls"))},durationChanged=function(){clearTimeout(_this.waitChangeDurationTimer),_this.hls.media.removeEventListener("durationchange",durationChanged),_this.hls.stopLoad(),_this.canPlayHls=!0,_this.canLoad=!0,_this.dispatchEvent("canPlayHls"),_this.model.isDebug&&console.log("[debug] > can play hls")};_this.hls.media.addEventListener("durationchange",durationChanged),_this.waitChangeDurationTimer=setTimeout(function(){_this.hls.media.removeEventListener("durationchange",durationChanged),_this.hls.stopLoad(),_this.canPlayHls=!0,_this.canLoad=!0,_this.dispatchEvent("canPlayHls"),_this.model.isDebug&&console.log("[debug] > durationchange timeout")},_this.waitChangeDurationTimeout),_this.getElement().addEventListener("seeked",firstFragSeeked)}}),this.hls.loadSource(movie_url)},HTML5AccessAPI.prototype.setErrorHandler=function(){var _this=this;try{this.hls.on("hlsError",function(event,data){var errorType=data.type,errorDetails=data.details,errorFatal=data.fatal;data.event;if(errorFatal){if(_this.model.isLive&&"networkError"==errorType){var waitElement=document.getElementById(_this.model.objectID+"play_state_liveWait");if(waitElement){waitElement.style.display="block";var timeOut=1e3;_this.model.isKollectiveEnable()&&(timeOut=5e3),setTimeout(function(){waitElement.style.display="none",_this.hls.loadSource(_this.eqPlayer.html5Player.getCurrentMovieURL())},timeOut)}return void _this.model.isKollectiveEnable()}switch(_this.recoverTimer=setInterval(function(){this.retryCount=0},4*_this.retryDelay),_this.errorData&&_this.errorData.type==errorType?_this.retryCount+=1:_this.retryCount=1,_this.errorData=data,data.type){case"networkError":if(_this.retryCount>_this.maxErrorCount)return _this.retryCount=0,_this.setState("interrupted"),void _this.eqPlayer.html5Player.set_info_error(errorDetails);setTimeout(function(){_this.hls.loadSource(_this.eqPlayer.html5Player.getCurrentMovieURL()),_this.hls.startLoad()},_this.retryDelay);break;case"mediaError":if(_this.retryCount>_this.maxErrorCount)return _this.retryCount=0,_this.setState("interrupted"),void _this.eqPlayer.html5Player.set_info_error(errorDetails);setTimeout(function(){_this.hls.recoverMediaError()},_this.retryDelay);break;default:_this.setState("interrupted"),_this.eqPlayer.html5Player.set_info_error(errorDetails),_this.hls.destroy()}}else data.details})}catch(e){}},HTML5AccessAPI.prototype.landing=function(){this.isLanding||(this.isLanding=!0,this.setState("landing"),this.playlist=new jstream_t3.PlaylistAccessAPI(this),this.model.playerFromPlaylist||"on"!=this.model.playlist_autoChange||(this.playlist.autoadvance(!0),this.playlist.playOnSelect(!0)),this.preSeekState=this.state,this.model.playerFromPlaylist?this.model.playOnSelect&&!this.model.isFirsttimePlay&&this.play():"on"==this.model.init_play&&this.play())},HTML5AccessAPI.prototype.setVolumeResume=function(){var _this=this;setTimeout(function(){if("on"!=_this.model.init_play||!_this.model.platform.isSP&&!_this.model.platform.isTablet)if(_this.model.playerFromPlaylist)if("mute"==_this.model.inCookieVolume)_this.mute(!0);else{volume=parseInt(_this.model.inCookieVolume);isNaN(volume)&&(volume=100),_this.setVolume(volume)}else if("off"==_this.model.init_sound||"mute"==_this.model.inCookieVolume)_this.mute(!0);else{var volume=parseInt(_this.model.inCookieVolume);isNaN(volume)&&(volume=100),_this.setVolume(volume)}var slider=document.getElementById(_this.model.objectID+"ctrl_volume_slider");slider&&(slider.style.display="block")},0)},HTML5AccessAPI.prototype.onPlayerEvent=function(type){this.model.isInIframe?this.sendHTML5PlayerEvent(type):(this.dispatchEvent(type),"fullscreen"!=type&&"exitFullscreen"!=type||"fullscreen"==this.state||"exitFullscreen"==this.state||(this.isPlaying="playing"==this.state),_super.prototype.setState.call(this,type))},HTML5AccessAPI.prototype.videoLog=function(e){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),video:e.type})},HTML5AccessAPI.prototype.startSeek=function(){"playing"!=this.preSeekState&&null!=this.preSeekState&&(this.preSeekState=this.state),this.isSeeking=!0,this.isQuealitySelecting||this.setState("seek_start")},HTML5AccessAPI.prototype.completeSeek=function(){this.isSeeking=!1,this.isQuealitySelecting||this.setState("playing"==this.preSeekState?"playing":"paused"),this.preSeekState=this.state},HTML5AccessAPI.prototype.seekStart=function(){this.isTouching=!0,this.startSeek()},HTML5AccessAPI.prototype.seekEnd=function(){this.isTouching=!1,this.isSeeking&&this.completeSeek()},HTML5AccessAPI.prototype.timeupdate=function(e){this.lastTime=this.getElement().currentTime},HTML5AccessAPI.prototype.chengeState=function(e){if("timeupdate"!=e.type){if(!this.isQuealitySelecting&&(!this.isSeeking||"playing"!=e.type)&&(this.liveModel.isLive||"pause"!=e.type||this.getCurrentTime()!=this.getTotalTime())&&("complete"!=this.state||"playing"==e.type))if("playing"==e.type&&0==this.getCurrentTime()&&(this.inited=!0),this.liveModel.isLive&&(this.inited=!0),this.liveModel.isLive&&"ended"==e.type)this.setState("interrupted");else{var state={playing:"playing",pause:"paused",ended:"complete"}[e.type];this.setState(state)}}else this.isQuealitySelecting&&this.lastTime+2>=this.QuealitySelect_startTime?(this.isQuealitySelecting=!1,("playing"==this.state||("fullscreen"==this.state||"exitFullscreen"==this.state)&&this.isPlaying)&&this.startProgress()):this.isQuealitySelecting&&(this.lastTime,this.QuealitySelect_startTime)},HTML5AccessAPI.prototype.setState=function(state){if(state!=this.state){if("exit"!=state&&"landing"!=state){if("on"==this.model.resumeVolumeEnable&&this.model.CookieDomain){var value;value=this.isMuted&&this.isMuted()?"mute":this.getVolume().toString(),jstream_t3.utils.Util.SetCookie("EQPlayer_resume_Volume",value,"/",void 0,this.model.CookieDomain)}}_super.prototype.setState.call(this,state)}},HTML5AccessAPI.prototype._getCurrentTime=function(){this.getElement();var time=this.eqPlayer.html5Player?this.eqPlayer.html5Player.getCurrentTime():0;return Math.floor(1e3*time)/1e3},HTML5AccessAPI.prototype.getCurrentTime=function(){return this.liveModel.isLive,this._getCurrentTime()},HTML5AccessAPI.prototype.getTotalTime=function(){var time=this.getElement().duration;return(!isFinite(time)||time>Number(this.model.duration)+1||time<Number(this.model.duration)-1)&&(time=Number(this.model.duration)),this.liveModel.isLive?(new Date).getTime()/1e3+this.liveServerTimeOffset:Math.floor(1e3*time)/1e3},HTML5AccessAPI.prototype.setStartTime=function(time){this.validateSeek(time)&&(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.setStartTime"}),this.liveModel.isLive||(this.setCurrentTime(time),this.play()),this.sendPlayerValues())},HTML5AccessAPI.prototype.setCurrentTime=function(time){this.validateSeek(time)&&(0==time&&(time=.1),jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.setCurrentTime"}),this.liveModel.isLive||this.eqPlayer.html5Player.setCurrentTime(time),this.sendPlayerValues())},HTML5AccessAPI.prototype.showLimitError=function(){if(null==this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),this.LanguageResource=new jstream_t3.resource.LanguageResource(this.model["language_resource_"+lang])}this.model.isLive?(this.liveModel.liveLid=this.liveModel.getLiveLidURL(),this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,this.LanguageResource.kinds.P3502M,this.LanguageResource.kinds.P3502T),this.sendCrashReport("3502","showLimitError"),this.setState("complete"),this.hls&&this.hls.destroy()):(this.showError(jstream_t3.events.ErrorEvent.LIVELIMIT_LOAD_ERROR,this.LanguageResource.kinds.P3502M,this.LanguageResource.kinds.P3502T),this.sendCrashReport("3502","showLimitError"))},HTML5AccessAPI.prototype.playCall=function(stat){var _this=this;void 0===stat&&(stat=""),this.getAccessControl(function(){_this.play()})},HTML5AccessAPI.prototype.StandByLoop=function(){var _this=this;setTimeout(function(){_this.eqPlayer.html5Player.setloop()},10)},HTML5AccessAPI.prototype.play=function(){this.eqPlayer.html5Player.play()},HTML5AccessAPI.prototype.pause=function(){this.isPlayed&&"complete"!=this.state&&"paused"!=this.state&&(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.pause"}),this.eqPlayer.html5Player.pause(),_super.prototype.pause.call(this),this.sendPlayerValues())},HTML5AccessAPI.prototype.createPlayer=function(){var success;this.liveModel.isLive?(this.isLanding=!1,success=this.liveModel.parseLive()):success=this.model.parce(),success&&jstream_t3.PlatformBuilderFactory.create(this.model,this).build()},HTML5AccessAPI.prototype.changeQuality=function(value){if(value!=this.getQuality()){if("number"==typeof value&&value>=0&&value<7){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.changeQuality"});var index=this.getQualityLabel(value);index>=0&&(this.model.isAuthEnable()?this.eqPlayer.html5Player.setCurrentMovieURL(this.model.movie_list[index].url):this.eqPlayer.html5Player.changeQuality(this.model.movie_list[index].url))}this.sendPlayerValues()}},HTML5AccessAPI.prototype.getQualityLabel=function(index){var movie_quality_list;movie_quality_list=this.MOVIE_QUALITY_LIST_JA;for(var i=0;i<this.model.movie_list.length;i++)if(-1!=this.model.movie_list[i].text.indexOf(movie_quality_list[index]))return i;return-1},HTML5AccessAPI.prototype.getQualityVal=function(text){var movie_quality_list;movie_quality_list="ja"==jstream_t3.utils.Util.browserLanguage()?this.MOVIE_QUALITY_LIST_JA:this.MOVIE_QUALITY_LIST_EN;for(var i=0;i<movie_quality_list.length;i++)if(-1!=text.indexOf(movie_quality_list[i]))return i;return-1},HTML5AccessAPI.prototype.getQuality=function(){if(this.eqPlayer.html5Player)for(var src=this.eqPlayer.html5Player.getCurrentMovieURL(),i=0;i<this.model.movie_list.length;i++){if(this.model.movie_list[i].url==src)return this.getQualityVal(this.model.movie_list[i].text)}return-1},HTML5AccessAPI.prototype.mute=function(value){return"boolean"==typeof value?(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.mute"}),this.sendPlayerValues(),this.eqPlayer.html5Player.setMute(value)):this.isMuted()},HTML5AccessAPI.prototype.isMuted=function(){return!!this.getElement()&&this.getElement().muted},HTML5AccessAPI.prototype.setVolume=function(volume){"number"==typeof volume&&volume>=0&&volume<=100&&volume%1==0&&(jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),action:"api.setVolume"}),this.eqPlayer.html5Player.setVolume&&this.eqPlayer.html5Player.setVolume(volume/100)),this.sendPlayerValues()},HTML5AccessAPI.prototype.getVolume=function(){return this.getElement()?Math.floor(100*this.getElement().volume):100},HTML5AccessAPI.prototype.getPlaybackRate=function(){return"video"==this.getElement().tagName.toLowerCase()?this.eqPlayer.html5Player.getPlaybackRate():1},HTML5AccessAPI.prototype.setPlaybackRate=function(pr){this.liveModel.isLive||this.eqPlayer.html5Player.changePlaybackRate(pr),this.sendPlayerValues()},HTML5AccessAPI.prototype.getCurrentAPI=function(){return this.isLanding?this.model.getEnvironmentType()==jstream_t3.EnviromentKind.MOBILE_NATIVE?"NativeHLS":"HTML5API":"isNotReady"},HTML5AccessAPI.prototype.getMetaId=function(){return this.model.meta_id?this.model.meta_id:"-1"},HTML5AccessAPI.prototype.displayRefresh=function(){this.eqPlayer.html5Player.displayRefresh()},HTML5AccessAPI.prototype.playerSkinConfig=function(config){var configObj={color:{controlbar:"rgba(34,34,34,0.8)",seekbar:"#f8cb08",titlebar:"rgba(34,34,34,0.8)",highlight:"#FFAA00"},font:{color:"white",family:"arial,sans-serif"},thumbnail:this.model.thumbnail_url};for(var prop in config)switch(prop){case"color":for(var colorProp in config[prop])configObj.color[colorProp]=config[prop][colorProp];break;case"font":for(var fontProp in config[prop])configObj.color[fontProp]=config[prop][fontProp];break;case"thumbnail":configObj[prop]=config[prop]}},HTML5AccessAPI.prototype.changeSubtitles=function(index){"number"==typeof index&&index>0&&index<7&&this.eqPlayer.html5Player.changeSubtitles(index),this.sendPlayerValues()},HTML5AccessAPI.prototype.getSubtitles=function(){return"video"==this.getElement().tagName.toLowerCase()?this.eqPlayer.html5Player.getSubtitles():1},HTML5AccessAPI.prototype.execPlaylistFunc=function(func,arg){this.playlist.execFunc(func,arg)},HTML5AccessAPI.prototype.getPlaylist=function(){return this.model.playlist},HTML5AccessAPI.prototype.reConstruct=function(mid){var _this=this;this.state=null,this.isLanding=!1,this.analytics.resetLastBecon(),this.model.meta_id=mid,this.model.default_quality=this.getQuality().toString(),this.model.mobile_default_quality=this.getQuality().toString();for(var currntRate=this.getPlaybackRate(),i=0;i<this.model.playbackRate_list.length;i++)this.model.playbackRate_list[i]==currntRate&&(this.model.playbackRate_index=i);if("on"==this.model.closedCaption&&this.changeSubtitles(1),this.model.subtitles||this.model.subtitles.length>2?this.model.usedSubtitles=!0:this.model.usedSubtitles=!1,this.model.reset(),"on"==this.model.resumeEnable?this.model.start_time=Number(jstream_t3.utils.Util.GetCookie("EQPlayer_resume_CurrentTime_"+this.model.meta_id+"_"+this.model.contract_id)):this.model.start_time=0,"on"==this.model.resumeVolumeEnable&&this.model.CookieDomain){var value;value=this.isMuted&&this.isMuted()?"mute":this.getVolume().toString(),jstream_t3.utils.Util.SetCookie("EQPlayer_resume_Volume",value,"/",void 0,this.model.CookieDomain)}this.model.inCookieVolume=jstream_t3.utils.Util.GetCookie("EQPlayer_resume_Volume"),this.model.playerFromPlaylist=!0,this.eqPlayer.flashVars=this.model,this.hls&&this.hls.destroy(),this.stopProgress(),this.loadMetaData(function(){_this.loadDeviceSetting(function(){_this.loadHostCheck2(function(){_this.model.formatChapter(_this.model.chapter),_this.createPlayer()})})})},HTML5AccessAPI.prototype.destroy=function(){this.canPlayHls=!1,this.isFirstPlay=!1,this.canLoad=!1,this.edgeSwitchMovieSourceFlg=!1,this.isWait=!0},HTML5AccessAPI}(jstream_t3.EQPlayerAccessAPI);jstream_t3.HTML5AccessAPI=HTML5AccessAPI}(jstream_t3||(jstream_t3={})),function(jstream_t3){var IFrameAccsessAPI=function(_super){function IFrameAccsessAPI(player){var _this=_super.call(this,player)||this;if(_this.UseHlsJs=!1,_this.isSeeking=!1,_this.isQuealitySelecting=!1,_this.QuealitySelect_startTime=0,_this.isFirstPlay=!0,_this.video_event="",_this.playCallTimeout=null,_this.LiveErrorCount=0,_this.isTouching=!1,_this.MOVIE_QUALITY_LIST_JA=["","","","","","",""],_this.MOVIE_QUALITY_LIST_EN=["AUTO","Low","Standard","High","HD","FullHD","4K"],_this.isLanding=!1,_this.jmcPlayer=player,null==_this.LanguageResource){var lang="ja";"ja"!=jstream_t3.utils.Util.browserLanguage()&&(lang="en"),_this.LanguageResource=new jstream_t3.resource.LanguageResource(_this.model["language_resource_"+lang])}var timer=setInterval(function(){_this.tryGetIframeElement(),_this.iframeElement&&(clearInterval(timer),_this.iframeElement.addEventListener("load",function(){_this.setWindowMessage()}))},100);return _this}return __extends(IFrameAccsessAPI,_super),Object.defineProperty(IFrameAccsessAPI.prototype,"progressRate",{get:function(){return this._progressRate},set:function(val){this._progressRate=val;var msg=this.generateMessage("progressRate",val);this.sendMessage(msg)},enumerable:!0,configurable:!0}),IFrameAccsessAPI.prototype.setWindowMessage=function(){var _this=this;if(this.model.platform.isIE&&this.model.platform.browser.version<9){try{if(this.tryGetIframeElement(),this.iframeElement&&this.model.base){var msg=this.generateMessage("apiReady",this.model.iframeID);this.sendMessage(msg);var landingTimer=setInterval(function(){_this.isLanding?clearInterval(landingTimer):_this.sendMessage(msg)},100)}else var timer=setInterval(function(){if(_this.tryGetIframeElement(),_this.iframeElement&&_this.model.base){clearInterval(timer);var msg=_this.generateMessage("apiReady",_this.model.iframeID);_this.sendMessage(msg);var landingTimer=setInterval(function(){_this.isLanding?clearInterval(landingTimer):_this.sendMessage(msg)},100)}},100)}catch(err){}window.attachEvent("onmessage",function(event){try{var data,p=jstream_t3.utils.Util.parse_uri(_this.model.base),originToLower=(p.scheme+"://"+p.authority).toLowerCase();if(event.origin!==originToLower)return;if(event.srcElement.location.href!=_this.model.base)return;if((data=_this.model.platform.isIE&&_this.model.platform.browser.version<10?jstream_t3.utils.Util.messageRevertForLagacy(event.data):event.data).iframeID!=_this.model.iframeID)return;switch(data.msg){case"setState":"landing"==data.value&&(_this.isLanding=!0),_this.setState(data.value);break;case"progress":_this.setPlayerValue(data.value)}}catch(err){}})}else{try{if(this.tryGetIframeElement(),this.iframeElement&&this.model.base){msg=this.generateMessage("apiReady",this.model.iframeID);this.sendMessage(msg);landingTimer=setInterval(function(){_this.isLanding||_this.sendMessage(msg)},100)}else timer=setInterval(function(){if(_this.tryGetIframeElement(),_this.iframeElement&&_this.model.base){clearInterval(timer);var msg=_this.generateMessage("apiReady",_this.model.iframeID);_this.sendMessage(msg);setInterval(function(){_this.isLanding||_this.sendMessage(msg)},100)}},100)}catch(err){}window.addEventListener("message",function(event){try{var data,p=jstream_t3.utils.Util.parse_uri(_this.model.base),originToLower=(p.scheme+"://"+p.authority).toLowerCase();if(event.origin!==originToLower)return;if((data=_this.model.platform.isIE&&_this.model.platform.browser.version<10?jstream_t3.utils.Util.messageRevertForLagacy(event.data):event.data).iframeID!=_this.model.iframeID)return;switch(data.msg){case"setState":"landing"==data.value&&(_this.isLanding=!0,_this.playlist=new jstream_t3.PlaylistAccsessIframeAPI(_this)),_this.setState(data.value);break;case"progress":_this.setPlayerValue(data.value);break;case"HTML5PlayerEvent":_this.dispatchEvent(data.value),"beforeplaylistitem"!=data.value&&"playlistitem"!=data.value||_this.setState(data.value)}}catch(err){}})}},IFrameAccsessAPI.prototype.playerInit=function(){_super.prototype.playerInit.call(this)},IFrameAccsessAPI.prototype.tryGetIframeElement=function(){try{this.iframeElement=document.getElementById(this.model.iframeID)}catch(err){}},IFrameAccsessAPI.prototype.sendMessage=function(msg){try{this.iframeElement&&this.iframeElement.contentWindow&&(this.model.platform.isIE&&this.model.platform.browser.version<10?this.iframeElement.contentWindow.postMessage(msg.convertForLegacy(),this.model.base):this.iframeElement.contentWindow.postMessage(msg,this.model.base))}catch(err){}},IFrameAccsessAPI.prototype.generateMessage=function(func,arg){return new sendMessageModel(func,arg)},IFrameAccsessAPI.prototype.setPlayerValue=function(values){this.currentTime=Number(values.currentTime),this.totalTime=Number(values.totalTime),this.quality=Number(values.quality),this.isMute=values.isMute,this.volume=Number(values.volume),this.playbackRate=Number(values.playbackRate),this.currentAPI=values.currentAPI.toString(),this.meta_id=values.meta_id.toString(),this.model.meta_id!=this.meta_id&&(this.model.meta_id=this.meta_id),this.subtitle=values.subtitle,this.playlist.setPlaylist(values.playlist)},IFrameAccsessAPI.prototype.setState=function(state){if(state!=this.state){if("exit"!=state&&"landing"!=state){if("on"==this.model.resumeVolumeEnable&&this.model.CookieDomain){var value;value=this.isMuted&&this.isMuted()?"mute":this.getVolume().toString(),jstream_t3.utils.Util.SetCookie("EQPlayer_resume_Volume",value,"/",void 0,this.model.CookieDomain)}}_super.prototype.setState.call(this,state)}},IFrameAccsessAPI.prototype.videoLog=function(e){jstream_t3.utils.Logger.stateLog({time:this.getCurrentTime(),video:e.type})},IFrameAccsessAPI.prototype.getCurrentTime=function(){return this.currentTime},IFrameAccsessAPI.prototype.getTotalTime=function(){return this.totalTime},IFrameAccsessAPI.prototype.setStartTime=function(time){var msg=this.generateMessage("setStartTime",time);this.sendMessage(msg)},IFrameAccsessAPI.prototype.setCurrentTime=function(time){var msg=this.generateMessage("setCurrentTime",time);this.sendMessage(msg)},IFrameAccsessAPI.prototype.playCall=function(stat){void 0===stat&&(stat="")},IFrameAccsessAPI.prototype.play=function(){var msg=this.generateMessage("play");this.sendMessage(msg)},IFrameAccsessAPI.prototype.pause=function(){var msg=this.generateMessage("pause");this.sendMessage(msg)},IFrameAccsessAPI.prototype.createPlayer=function(){},IFrameAccsessAPI.prototype.changeQuality=function(value){var msg=this.generateMessage("changeQuality",value);this.sendMessage(msg)},IFrameAccsessAPI.prototype.changeSubtitles=function(value){var msg=this.generateMessage("changeSubtitles",value);this.sendMessage(msg)},IFrameAccsessAPI.prototype.getQualityLabel=function(index){},IFrameAccsessAPI.prototype.getQualityVal=function(text){},IFrameAccsessAPI.prototype.getQuality=function(){return this.quality},IFrameAccsessAPI.prototype.mute=function(value){var msg=this.generateMessage("mute",value);this.sendMessage(msg)},IFrameAccsessAPI.prototype.isMuted=function(){return this.isMute},IFrameAccsessAPI.prototype.setVolume=function(volume){var msg=this.generateMessage("setVolume",volume);this.sendMessage(msg)},IFrameAccsessAPI.prototype.getVolume=function(){return this.volume},IFrameAccsessAPI.prototype.getPlaybackRate=function(){return this.playbackRate},IFrameAccsessAPI.prototype.setPlaybackRate=function(pr){var msg=this.generateMessage("setPlaybackRate",pr);this.sendMessage(msg)},IFrameAccsessAPI.prototype.getCurrentAPI=function(){return this.currentAPI},IFrameAccsessAPI.prototype.getMetaId=function(){return this.meta_id},IFrameAccsessAPI.prototype.getSubtitles=function(){return this.subtitle},IFrameAccsessAPI.prototype.displayRefresh=function(){var msg=this.generateMessage("displayRefresh");this.sendMessage(msg)},IFrameAccsessAPI}(jstream_t3.EQPlayerAccessAPI);jstream_t3.IFrameAccsessAPI=IFrameAccsessAPI;var sendMessageModel=function(){function sendMessageModel(functionName,args){this.func=functionName,this.arg=args}return sendMessageModel.prototype.convertForLegacy=function(){return this.func+","+this.arg},sendMessageModel}();jstream_t3.sendMessageModel=sendMessageModel}(jstream_t3||(jstream_t3={})),function(jstream_t3){var EQPlayerAccessAPIBuilder=function(){function EQPlayerAccessAPIBuilder(){}return EQPlayerAccessAPIBuilder.create=function(eqPlayer){if(eqPlayer.flashVars.isIframe&&!eqPlayer.flashVars.isInIframe)return new jstream_t3.IFrameAccsessAPI(eqPlayer);if("flash"==eqPlayer.flashVars.mode)return new jstream_t3.SWFAccessAPI(eqPlayer);var platform=eqPlayer.flashVars.platform;return void 0==eqPlayer.flashVars.pd_enable?platform.isSP||platform.isTablet?document.createElement("video").canPlayType?new jstream_t3.HTML5AccessAPI(eqPlayer):jstream_t3.utils.Util.isFlash()?new jstream_t3.SWFAccessAPI(eqPlayer):new jstream_t3.HTML5AccessAPI(eqPlayer):document.createElement("video").canPlayType?platform.isIE&&("11.0"==platform.browser.version&&"Windows"==platform.os.name&&"7"==platform.os.version||Number(platform.browser.version)<=10)||platform.isSafari&&"Macintosh"==platform.os.name&&Number(platform.browser.version.split(".")[0])<=8?new jstream_t3.SWFAccessAPI(eqPlayer):new jstream_t3.HTML5AccessAPI(eqPlayer):new jstream_t3.SWFAccessAPI(eqPlayer):platform.isSP||platform.isTablet?document.createElement("video").canPlayType?new jstream_t3.HTML5AccessAPI(eqPlayer):jstream_t3.utils.Util.isFlash()?new jstream_t3.SWFAccessAPI(eqPlayer):new jstream_t3.HTML5AccessAPI(eqPlayer):document.createElement("video").canPlayType?"1"==eqPlayer.flashVars.pd_enable?platform.isIE&&Number(platform.browser.version)<10||platform.isSafari&&"Macintosh"==platform.os.name&&Number(platform.browser.version.split(".")[0])<=8?new jstream_t3.SWFAccessAPI(eqPlayer):new jstream_t3.HTML5AccessAPI(eqPlayer):platform.isIE&&("11.0"==platform.browser.version&&"Windows"==platform.os.name&&"7"==platform.os.version||Number(platform.browser.version)<=10)||platform.isSafari&&"Macintosh"==platform.os.name&&Number(platform.browser.version.split(".")[0])<=8?new jstream_t3.SWFAccessAPI(eqPlayer):(platform.isSafari&&"Macintosh"==platform.os.name&&Number(platform.browser.version.split(".")[0]),new jstream_t3.HTML5AccessAPI(eqPlayer)):new jstream_t3.SWFAccessAPI(eqPlayer)},EQPlayerAccessAPIBuilder}();jstream_t3.EQPlayerAccessAPIBuilder=EQPlayerAccessAPIBuilder}(jstream_t3||(jstream_t3={})),function(jstream_t3){var QueController=function(){function QueController(queType){this.queType=queType}return QueController.prototype.getQueGlobal=function(){return null==window.jstream_que_global&&(window.jstream_que_global={queList:{},currentQue:{}}),window.jstream_que_global},QueController.prototype.getQueList=function(){return null==this.getQueGlobal().queList[this.queType]&&(this.getQueGlobal().queList[this.queType]=[]),this.getQueGlobal().queList[this.queType]},QueController.prototype.currentQue=function(value){return null!=value&&(this.getQueGlobal().currentQue[this.queType]=value),this.getQueGlobal().currentQue[this.queType]},QueController.prototype.resetCurrentQue=function(){this.getQueGlobal().currentQue[this.queType]=null},QueController.prototype.setQue=function(){this.getQueList().push(this),null==this.currentQue()&&this.next()},QueController.prototype.next=function(){var _this=this;0!=this.getQueList().length?(this.currentQue(this.getQueList().shift()),setTimeout(function(){var a=_this.currentQue();a&&a.exec()},100)):this.resetCurrentQue()},QueController.prototype.exec=function(){},QueController}();jstream_t3.QueController=QueController}(jstream_t3||(jstream_t3={})),function(jstream_t3){var PlayerFactoryBase=function(_super){function PlayerFactoryBase(in_params,embedTagID){void 0===embedTagID&&(embedTagID=null);var _this=_super.call(this,"playerFactory")||this;return _this.setUp(in_params,embedTagID),_this.parentDivID=in_params.parentDivID,in_params.noPlayer||(_this.addTag(),_this.setQue()),_this}return __extends(PlayerFactoryBase,_super),PlayerFactoryBase.prototype.getPlayerVersion=function(){return jstream_t3.version.getVersion()},PlayerFactoryBase.prototype.setUp=function(in_params,embedTagID){void 0===embedTagID&&(embedTagID=null),in_params.lpid?this.params=new jstream_t3.model.EQPlayerLiveModel(in_params):this.params=new jstream_t3.model.EQPlayerModel(in_params);this.params.tagType||(this.params.tagType=this.getPlayerVersion()),this.params.isIframe&&(this.params.isInIframe=!0),this.embedTagID=embedTagID,null==this.params.file_id&&(this.params.file_id="0"),this.createURLQuery(),this.params.playerDir=this.params.base+this.getPlayerVersion()+"/",this.params.cssDir=this.params.playerDir+"resource/style/",this.params.stype=this.getStype(),this.id=this.createID(),this.params.setEnviroment(),this.jmcPlayer=new JMCPlayer(this.id,this.params)},PlayerFactoryBase.prototype.getStype=function(){return null},PlayerFactoryBase.prototype.addTag=function(){var eqField=this.createHtmlTag(this.jmcPlayer.accessor instanceof jstream_t3.SWFAccessAPI),embedTagID=this.embedTagID,script=document.createElement("script");if(this.params.platform.isIE&&Number(this.params.platform.browser.version)<=10)plugin="";else{var isLoadedPlugin=!!document.getElementById("eq-plugin_Hls"),plugin='<script id="eq-plugin_Hls" src="'+this.params.base+'t3/hls.js"><\/script>';isLoadedPlugin||(document.body?(script.id="eq-plugin_Hls",script.type="text/javascript",script.charset="utf-8",script.async=!0,script.defer=!0,script.src=this.params.base+"t3/hls.js",document.body.appendChild(script)):document.write(plugin))}var scriptka=document.createElement("script");plugin='<script src="'+this.params.base+'t3/kontikiagent.js"><\/script>';if(document.body?(scriptka.type="text/javascript",scriptka.charset="utf-8",scriptka.async=!0,scriptka.defer=!0,scriptka.src=this.params.base+"t3/kontikiagent.js",document.body.appendChild(scriptka)):document.write(plugin),null==embedTagID)document.write(eqField);else if(this.params.platform.isIE&&Number(this.params.platform.browser.version)<10){jstream_t3.utils.Util.ReplaceHtmltagWithString(eqField,"div","");var linkElement=document.createElement("link");linkElement.rel="stylesheet",linkElement.href=this.params.cssDir+"object.css";for(var parentDiv=document.getElementById(this.embedTagID),i=0;i<parentDiv.childNodes.length;i++){(item=parentDiv.childNodes.item(i)).id&&jstream_t3.PlayerManger.removePlayerAPI("eq"+item.id.slice(7))}parentDiv.innerHTML=eqField,parentDiv.appendChild(linkElement)}else{for(parentDiv=document.getElementById(this.embedTagID),i=0;i<parentDiv.childNodes.length;i++){var item;(item=parentDiv.childNodes.item(i)).id&&jstream_t3.PlayerManger.removePlayerAPI("eq"+item.id.slice(7))}parentDiv.innerHTML=eqField}},PlayerFactoryBase.prototype.createID=function(){return""},PlayerFactoryBase.prototype.createBaseURL=function(path){if("https:"===window.location.protocol){var paths=path.split("/");return paths.shift(),"https://ssl-cache.stream.ne.jp/"+paths.join("/")}return"http://"+path},PlayerFactoryBase.prototype.createURLQuery=function(){var params=this.params;params.base=this.createBaseURL(params.base),params.isIframe||(params.ref=document.referrer,params.parent_url=jstream_t3.utils.Util.getCanonical()||window.location.href,jstream_t3.utils.Util.isContainApiDomain(params.parent_url)&&document.referrer&&(params.parent_url=document.referrer))},PlayerFactoryBase.prototype.createHtmlTag=function(isSWF){var params=this.params,width="",height="",maxWidth="",maxHeight="",fontFamily="sans-serif";if("Macintosh"==params.platform.os.name&&(fontFamily="arial"),"on"==params.responsive){params.footer_use="off",params.footer_text="","eq-auto"==params.width||"eq-auto"==params.height?(width="width:100%;",height="height:100%;"):(width="width:100%;",height="height:100%;",maxWidth=" max-width:"+params.width+"px;",maxHeight="max-height:"+params.height+"px;");var div='<link rel = "stylesheet" href = "'+this.params.cssDir+'object.css"  ><div style="'+maxWidth+maxHeight+'"><div style="padding-bottom:'+params.height/params.width*100+'%;position:relative;"><div class="jstream-eqPlayer" id = "eqField-'+this.id+'" style = "background-color:#000; padding:0px; margin:0px; border:none; '+width+height+" position:absolute; display: inline-block; zoom:1; font-family: "+fontFamily+'; overflow:hidden;" lang="en-US" tabindex="0">.</div></div></div>'}else if("fit"==params.responsive){params.footer_use="off",params.footer_text="",width="width:100%",height="height:100%";div='<link rel = "stylesheet" href = "'+this.params.cssDir+'object.css"  ><div class="jstream-eqPlayer" id = "eqField-'+this.id+'" style = "background-color:#000; padding:0px; margin:0px; border:none; '+width+"; "+height+"; "+maxWidth+maxHeight+" position:absolute; display: inline-block; zoom:1; font-family: "+fontFamily+'; overflow:hidden;" lang="en-US" tabindex="0">.</div>'}else{width="width:"+params.width+"px",height="height:"+params.height+"px";div='<link rel = "stylesheet" href = "'+this.params.cssDir+'object.css"  ><div class="jstream-eqPlayer" id = "eqField-'+this.id+'" style = "background-color:#000; padding:0px; margin:0px; border:none; '+width+"; "+height+"; "+maxWidth+maxHeight+" position:relative; display: inline-block; zoom:1; font-family: "+fontFamily+'; overflow:hidden;" lang="en-US" tabindex="0">.</div>'}return div},PlayerFactoryBase.getURLQuery=function(paramstring){var qlist,query,vars,result={};qlist=(paramstring=paramstring||location.search.substr(1)).split("&");for(var i=0;i<qlist.length;i++)if(void 0!==qlist[i]&&null!==qlist[i]&&""!==(query=qlist[i].split("="))[1]){if(query[1]=decodeURIComponent(query[1]),query[1],vars=query[1],"s"===query[0]||"o"===query[0]){var settings=vars.slice(1,vars.length-1);settings=settings.split(",");for(var arry=[],j=0;j<settings.length;j++){var setting=settings[j].split(": ");if(setting.length>=2){if("sn"===setting[0]||"pr"===setting[0])for(var k=j+1;k<settings.length;k++){if(settings[k].split(": ").length>=2)break;setting[1]+=","+settings[k]}arry.push('"'+setting[0]+'":"'+setting[1]+'"')}}query[1]="{"+arry.join(",")+"}"}"sns_id_list"===query[0]&&(query[1]=vars.split("_,_")),result[query[0]]=query[1]}return null==result.sns_id_list&&(result.sns_id_list=[]),"on"===result.sns_facebook_use&&result.sns_id_list.push("facebook"),"on"===result.sns_twitter_use&&result.sns_id_list.push("twitter"),"on"===result.sns_mixi_use&&result.sns_id_list.push("mixi"),"on"===result.sns_google_use&&result.sns_id_list.push("google"),result},PlayerFactoryBase.prototype.setTagSize=function(){var movieWidth=this.params.width,movieHeight=this.params.height;"on"!=this.params.responsive&&"fit"!=this.params.responsive&&"on"==this.params.footer_use&&(movieHeight-=20);var divTagMaxWidth,divTagMaxHeight,divTagID="eqField-"+this.id,divTag=document.getElementById(divTagID),divTagWidth=divTag.clientWidth,divTagHeight=divTag.clientHeight,params=this.params,ftHeight="on"!=this.params.responsive&&"fit"!=this.params.responsive&&"on"===params.footer_use?20:0;"eq-auto"==params.width||"eq-auto"==params.height?divTagWidth<=0||null==divTagWidth?(divTagMaxWidth=Number(movieWidth),divTagMaxHeight=Number(movieHeight)+ftHeight):divTagHeight<=24||null==divTagHeight?(divTagMaxWidth=Number(divTagWidth),divTagMaxHeight=Math.ceil(movieHeight/movieWidth*divTagWidth)+ftHeight):(divTagMaxWidth=Number(divTagWidth),divTagMaxHeight=Number(divTagHeight)):isNaN(parseInt(params.width))||isNaN(parseInt(params.height))?(divTagMaxWidth=Number(movieWidth),divTagMaxHeight=Number(movieHeight)+ftHeight):(params.width=parseInt(params.width),params.height=parseInt(params.height),params.width>divTagWidth&&divTagWidth>150?(divTagMaxWidth=Number(divTagWidth),divTagMaxHeight=Math.ceil(movieHeight/movieWidth*divTagWidth)+ftHeight):(divTagMaxWidth=Number(params.width),divTagMaxHeight=Number(params.height))),this.params.width=divTagMaxWidth,this.params.height=divTagMaxHeight},PlayerFactoryBase}(jstream_t3.QueController);jstream_t3.PlayerFactoryBase=PlayerFactoryBase}(jstream_t3||(jstream_t3={})),function(jstream_t3){var PlayerFactoryOBJ=function(_super){function PlayerFactoryOBJ(params,embedTagID){return void 0===embedTagID&&(embedTagID=null),_super.call(this,params,embedTagID)||this}return __extends(PlayerFactoryOBJ,_super),PlayerFactoryOBJ.version=function(){return jstream_t3.version.getVersion()},PlayerFactoryOBJ.create=function(params,embedTagID){void 0===embedTagID&&(embedTagID=null),params.useDynamicParams=jstream_t3.utils.Util.checkDynamicPlayerSetting(params),jstream_t3.utils.Util.changeParamName(params),params.meta_id&&isNaN(params.meta_id)&&(params.meta_id=jstream_t3.utils.Util.unObfuscate(params.meta_id)),params.contract_id&&isNaN(params.contract_id)&&(params.contract_id=jstream_t3.utils.Util.unObfuscate(params.contract_id)),params.playlist_id&&isNaN(params.playlist_id)&&"undefined"!=params.playlist_id&&(params.playlist_id=jstream_t3.utils.Util.unObfuscate(params.playlist_id)),void 0!=params.start_time&&params.start_time>0?params.inCookieCurrentTime=params.start_time:params.meta_id&&(params.inCookieCurrentTime=jstream_t3.utils.Util.GetCookie("EQPlayer_resume_CurrentTime_"+params.meta_id+"_"+params.contract_id)),params.inCookieVolume=jstream_t3.utils.Util.GetCookie("EQPlayer_resume_Volume");var arr_uri=location.hostname.match(/^(.*?)([a-z0-9][a-z0-9\-]{1,63}\.[a-z\.]{2,6})$/i);params.CookieDomain=null==arr_uri?".localhost":"."+arr_uri[2];var baseURL=params.b;if("https:"===window.location.protocol){var paths=baseURL.split("/");paths.shift(),baseURL="https://ssl-cache.stream.ne.jp/"+paths.join("/")}else baseURL="http://"+baseURL;return new PlayerFactoryOBJ(params,embedTagID).jmcPlayer},PlayerFactoryOBJ.prototype.createID=function(){return this.params.contract_id+"-"+(this.params.meta_id||this.params.playlist_id)+"-"+this.params.file_id+"-"+Math.floor(1e5*Math.random())},PlayerFactoryOBJ.prototype.exec=function(){var _this=this,params=this.params,jmcPlayer=this.jmcPlayer;jmcPlayer.flashVars=params,jmcPlayer.errorHandler=function(message){_this.next()};var counter=0,kollectiveRetryCounter=0;if(params.platform.isIE&&Number(params.platform.browser.version)<=10)jmcPlayer.accessor.loadPlaylistSetting(function(){params.playlist.length>0&&(!params.meta_id||""==params.meta_id)&&(params.meta_id=params.playlist[0].meta_id),jmcPlayer.accessor.loadPDSetting(function(){jmcPlayer.accessor.loadDirInfoService(function(){if(params.getEnvironmentType()==jstream_t3.EnviromentKind.PC_PROGRESSIVE||params.getEnvironmentType()==jstream_t3.EnviromentKind.HLSJS){var temp=jmcPlayer.accessor.listeners,newApi=jstream_t3.EQPlayerAccessAPIBuilder.create(jmcPlayer);if(jmcPlayer.accessor.getCurrentAPI()!=newApi.getCurrentAPI()){jmcPlayer.accessor=jstream_t3.EQPlayerAccessAPIBuilder.create(jmcPlayer);var tempObjList=Object.keys(temp);for(var tmpObj in tempObjList)tempObjList[tmpObj]in jmcPlayer.accessor.listeners||(jmcPlayer.accessor.listeners[tempObjList[tmpObj]]=temp[tempObjList[tmpObj]])}}jmcPlayer.accessor.loadMetaData(function(){jmcPlayer.accessor.loadDeviceSetting(function(){jmcPlayer.accessor.loadHostCheck2(function(){jmcPlayer.accessor.loadSettingData(function(){if("on"!=params.responsive&&"fit"!=params.responsive||_this.setTagSize(),"1"==_this.params.kollective_flg)var kollectiveLoadTimer=setInterval(function(){((kollectiveRetryCounter+=1)>6||_this.params.platform.isSP||_this.params.platform.isTablet)&&kontikiAgentCallback();try{if(KontikiAgent){clearInterval(kollectiveLoadTimer);var ka_params={callback:kontikiAgentCallback};_this.params.kontikiAgent=new KontikiAgent(ka_params)}}catch(e){}},500),kontikiAgentCallback=function(){jmcPlayer.create(),params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_STREAMING&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_HLSJS||!params.isAuthEnable()||("off"!=params.init_play||params.a?jmcPlayer.accessor.play():params.isLightbox&&jmcPlayer.html5Player.setAuthVisible(!0)),_this.next()};else jmcPlayer.create(),params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_STREAMING&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_HLSJS||!params.isAuthEnable()||("off"!=params.init_play||params.a?jmcPlayer.accessor.play():params.isLightbox&&jmcPlayer.html5Player.setAuthVisible(!0)),_this.next()})})})})})})});else var timer=setInterval(function(){try{Hls&&(clearInterval(timer),params.isHlsjsSupported=!!Hls.isSupported(),jmcPlayer.accessor.loadPlaylistSetting(function(){params.playlist.length>0&&(!params.meta_id||""==params.meta_id)&&(params.meta_id=params.playlist[0].meta_id,(void 0==params.start_time||params.start_time<=0)&&(params.inCookieCurrentTime=Number(jstream_t3.utils.Util.GetCookie("EQPlayer_resume_CurrentTime_"+params.meta_id+"_"+params.contract_id)))),jmcPlayer.accessor.loadPDSetting(function(){jmcPlayer.accessor.loadDirInfoService(function(){if(params.getEnvironmentType()==jstream_t3.EnviromentKind.PC_PROGRESSIVE||params.getEnvironmentType()==jstream_t3.EnviromentKind.HLSJS){var temp=jmcPlayer.accessor.listeners,newApi=jstream_t3.EQPlayerAccessAPIBuilder.create(jmcPlayer);if(jmcPlayer.accessor.getCurrentAPI()!=newApi.getCurrentAPI()){jmcPlayer.accessor=jstream_t3.EQPlayerAccessAPIBuilder.create(jmcPlayer);var tempObjList=Object.keys(temp);for(var tmpObj in tempObjList)tempObjList[tmpObj]in jmcPlayer.accessor.listeners||(jmcPlayer.accessor.listeners[tempObjList[tmpObj]]=temp[tempObjList[tmpObj]])}}jmcPlayer.accessor.loadMetaData(function(){jmcPlayer.accessor.loadDeviceSetting(function(){jmcPlayer.accessor.loadHostCheck2(function(){jmcPlayer.accessor.loadSettingData(function(){if("on"!=params.responsive&&"fit"!=params.responsive||_this.setTagSize(),"1"==_this.params.kollective_flg)var kollectiveLoadTimer=setInterval(function(){((kollectiveRetryCounter+=1)>6||_this.params.platform.isSP||_this.params.platform.isTablet)&&kontikiAgentCallback();try{if(KontikiAgent){clearInterval(kollectiveLoadTimer);var ka_params={callback:kontikiAgentCallback};_this.params.kontikiAgent=new KontikiAgent(ka_params)}}catch(e){}},500),kontikiAgentCallback=function(){jmcPlayer.create(),params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_STREAMING&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_HLSJS||!params.isAuthEnable()||("off"!=params.init_play||params.a?jmcPlayer.accessor.play():params.isLightbox&&jmcPlayer.html5Player.setAuthVisible(!0)),_this.next()};else jmcPlayer.create(),params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_PROGRESSIVE&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_STREAMING&&params.getEnvironmentType()!=jstream_t3.EnviromentKind.MOBILE_HLSJS||!params.isAuthEnable()||("off"!=params.init_play||params.a?jmcPlayer.accessor.play():params.isLightbox&&jmcPlayer.html5Player.setAuthVisible(!0)),_this.next()})})})})})})}))}catch(e){}counter>130&&clearInterval(timer),counter++},100)},PlayerFactoryOBJ}(jstream_t3.PlayerFactoryBase);jstream_t3.PlayerFactoryOBJ=PlayerFactoryOBJ}(jstream_t3||(jstream_t3={}));var MD5_T=new Array(0,3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745),MD5_round1=new Array(new Array(0,7,1),new Array(1,12,2),new Array(2,17,3),new Array(3,22,4),new Array(4,7,5),new Array(5,12,6),new Array(6,17,7),new Array(7,22,8),new Array(8,7,9),new Array(9,12,10),new Array(10,17,11),new Array(11,22,12),new Array(12,7,13),new Array(13,12,14),new Array(14,17,15),new Array(15,22,16)),MD5_round2=new Array(new Array(1,5,17),new Array(6,9,18),new Array(11,14,19),new Array(0,20,20),new Array(5,5,21),new Array(10,9,22),new Array(15,14,23),new Array(4,20,24),new Array(9,5,25),new Array(14,9,26),new Array(3,14,27),new Array(8,20,28),new Array(13,5,29),new Array(2,9,30),new Array(7,14,31),new Array(12,20,32)),MD5_round3=new Array(new Array(5,4,33),new Array(8,11,34),new Array(11,16,35),new Array(14,23,36),new Array(1,4,37),new Array(4,11,38),new Array(7,16,39),new Array(10,23,40),new Array(13,4,41),new Array(0,11,42),new Array(3,16,43),new Array(6,23,44),new Array(9,4,45),new Array(12,11,46),new Array(15,16,47),new Array(2,23,48)),MD5_round4=new Array(new Array(0,6,49),new Array(7,10,50),new Array(14,15,51),new Array(5,21,52),new Array(12,6,53),new Array(3,10,54),new Array(10,15,55),new Array(1,21,56),new Array(8,6,57),new Array(15,10,58),new Array(6,15,59),new Array(13,21,60),new Array(4,6,61),new Array(11,10,62),new Array(2,15,63),new Array(9,21,64));function MD5_F(x,y,z){return x&y|~x&z}function MD5_G(x,y,z){return x&z|y&~z}function MD5_H(x,y,z){return x^y^z}function MD5_I(x,y,z){return y^(x|~z)}var MD5_round=new Array(new Array(MD5_F,MD5_round1),new Array(MD5_G,MD5_round2),new Array(MD5_H,MD5_round3),new Array(MD5_I,MD5_round4));function MD5_pack(n32){return String.fromCharCode(255&n32)+String.fromCharCode(n32>>>8&255)+String.fromCharCode(n32>>>16&255)+String.fromCharCode(n32>>>24&255)}function MD5_unpack(s4){return s4.charCodeAt(0)|s4.charCodeAt(1)<<8|s4.charCodeAt(2)<<16|s4.charCodeAt(3)<<24}function MD5_number(n){for(;n<0;)n+=4294967296;for(;n>4294967295;)n-=4294967296;return n}function MD5_apply_round(x,s,f,abcd,r){var a,b,c,d,kk,ss,ii,t,u;a=abcd[0],b=abcd[1],c=abcd[2],d=abcd[3],kk=r[0],ss=r[1],ii=r[2],u=f(s[b],s[c],s[d]),t=(t=MD5_number(t=s[a]+u+x[kk]+MD5_T[ii]))<<ss|t>>>32-ss,t+=s[b],s[a]=MD5_number(t)}function MD5_hash(data){var abcd,x,state,s,len,index,padLen,f,r,i,j,k,tmp;if(state=new Array(1732584193,4023233417,2562383102,271733878),(padLen=(index=63&(len=data.length))<56?56-index:120-index)>0)for(data+="",i=0;i<padLen-1;i++)data+="\0";for(data+=MD5_pack(8*len),data+=MD5_pack(0),len+=padLen+8,abcd=new Array(0,1,2,3),x=new Array(16),s=new Array(4),k=0;k<len;k+=64){for(i=0,j=k;i<16;i++,j+=4)x[i]=data.charCodeAt(j)|data.charCodeAt(j+1)<<8|data.charCodeAt(j+2)<<16|data.charCodeAt(j+3)<<24;for(i=0;i<4;i++)s[i]=state[i];for(i=0;i<4;i++)for(f=MD5_round[i][0],r=MD5_round[i][1],j=0;j<16;j++)MD5_apply_round(x,s,f,abcd,r[j]),tmp=abcd[0],abcd[0]=abcd[3],abcd[3]=abcd[2],abcd[2]=abcd[1],abcd[1]=tmp;for(i=0;i<4;i++)state[i]+=s[i],state[i]=MD5_number(state[i])}return MD5_pack(state[0])+MD5_pack(state[1])+MD5_pack(state[2])+MD5_pack(state[3])}function MD5_hexhash(data){var i,out,c,bit128;for(bit128=MD5_hash(data),out="",i=0;i<16;i++)c=bit128.charCodeAt(i),out+="0123456789abcdef".charAt(c>>4&15),out+="0123456789abcdef".charAt(15&c);return out}